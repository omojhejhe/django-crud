(()=>{var zl=Object.defineProperty;var r=(F,D)=>zl(F,"name",{value:D,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["behaviors"],{98469:(F,D,f)=>{"use strict";var S=f(7679),c=f(59753);(0,c.on)("deprecatedAjaxSend","[data-remote]",function(e){e.currentTarget===e.target&&(e.defaultPrevented||e.currentTarget.classList.add("loading"))}),(0,c.on)("deprecatedAjaxComplete","[data-remote]",function(e){e.currentTarget===e.target&&e.currentTarget.classList.remove("loading")});var A=f(65935);(0,A.AC)("form.js-ajax-pagination, .js-ajax-pagination form",async function(e,t){const n=e.closest(".js-ajax-pagination");let o;try{o=await t.html()}catch(s){if(s.response&&s.response.status===404){n.remove();return}else throw s}n.replaceWith(o.html),(0,c.f)(e,"page:loaded")});var I=f(30481);const C="analytics.click";(0,c.on)("click","[data-analytics-event]",e=>{const n=e.currentTarget.getAttribute("data-analytics-event");if(!n)return;const o=JSON.parse(n);(0,I.q)(C,o)});var u=f(64463);const b=["system","disabled"].map(e=>`html[data-a11y-animated-images="${e}"] img[data-animated-image]`).join(", ");(0,u.N7)(b,e=>{if(!(e instanceof HTMLImageElement)||e.closest("a")&&!(e.parentElement instanceof HTMLAnchorElement))return;let t=e.parentElement,n=null;if(t instanceof HTMLAnchorElement){if(t.childElementCount>1)return;n=t,n.setAttribute("data-target","animated-image.originalLink"),t=n.parentElement}e.removeAttribute("data-animated-image"),e.setAttribute("data-target","animated-image.originalImage");const o=n?n.cloneNode(!0):e.cloneNode(!0),s=document.createElement("animated-image");s.appendChild(o),t==null||t.replaceChild(s,n||e)});var p=f(22485);document.addEventListener("pjax:start",function(){(0,p.x)("Loading page")}),document.addEventListener("pjax:error",function(){(0,p.x)("Loading failed")}),document.addEventListener("pjax:end",function(){(0,p.x)("Loading complete")});var m=f(52641);const d=new WeakMap;(0,u.N7)("auto-check",function(e){if(e.classList.contains("js-prevent-default-behavior"))return;const t=e.querySelector("input");if(!t)return;const n=t.closest(".form-group")||e,o=t.form;let s;function i(){return s||(s=`input-check-${(Math.random()*1e4).toFixed(0)}`),s}r(i,"generateId");const a=t.getAttribute("aria-describedby");t.addEventListener("focusout:delay",()=>{t.setAttribute("aria-describedby",[s,a].join(" "))});const l=n.querySelector("p.note");l&&(l.id||(l.id=i()),d.set(l,l.innerHTML)),e.addEventListener("loadstart",()=>{h(t,n),n.classList.add("is-loading"),t.classList.add("is-autocheck-loading"),(0,m.G)(o)}),e.addEventListener("loadend",()=>{n.classList.remove("is-loading"),t.classList.remove("is-autocheck-loading")}),t.addEventListener("auto-check-success",async y=>{t.classList.add("is-autocheck-successful"),n.classList.add("successed"),(0,m.G)(o);const{response:w}=y.detail;if(!w)return;const T=await w.text();if(!!T){if(l instanceof HTMLElement)l.innerHTML=T,(0,p.N)(l);else{const N=w.status===200,M=n.tagName==="DL"?"dd":"div",R=document.createElement(M);R.id=i(),R.classList.add(N?"success":"warning"),R.innerHTML=T,n.append(R),n.classList.add(N?"successed":"warn"),(0,p.N)(R),N&&(R.hidden=document.activeElement!==t)}(0,c.f)(t,"auto-check-message-updated")}}),t.addEventListener("auto-check-error",async y=>{t.classList.add("is-autocheck-errored"),n.classList.add("errored"),(0,m.G)(o);const{response:w}=y.detail;if(!w)return;const T=await w.text();if(l instanceof HTMLElement)l.innerHTML=T||"Something went wrong",(0,p.N)(l);else{const N=n.tagName==="DL"?"dd":"div",M=document.createElement(N);M.id=i(),M.classList.add("error"),M.innerHTML=T||"Something went wrong",n.append(M),(0,p.N)(M)}}),t.addEventListener("input",()=>{t.removeAttribute("aria-describedby"),t.value||h(t,n)}),t.addEventListener("blur",()=>{const y=n.querySelector(".success");y&&(y.hidden=!0)}),t.addEventListener("focus",()=>{const y=n.querySelector(".success");y&&(y.hidden=!1)}),o.addEventListener("reset",()=>{h(t,n)})});function h(e,t){var n,o,s,i,a,l;t.classList.remove("is-loading","successed","errored","warn"),e.classList.remove("is-autocheck-loading","is-autocheck-successful","is-autocheck-errored");const y=t.querySelector("p.note");if(y){const w=d.get(y);w&&(y.innerHTML=w)}t.tagName==="DL"?((n=t.querySelector("dd.error"))==null||n.remove(),(o=t.querySelector("dd.warning"))==null||o.remove(),(s=t.querySelector("dd.success"))==null||s.remove()):((i=t.querySelector("div.error"))==null||i.remove(),(a=t.querySelector("div.warning"))==null||a.remove(),(l=t.querySelector("div.success"))==null||l.remove())}r(h,"autocheck_reset");var g=f(46481);(0,u.N7)("auto-complete",function(e){e.addEventListener("loadstart",()=>e.classList.add("is-auto-complete-loading")),e.addEventListener("loadend",()=>e.classList.remove("is-auto-complete-loading"))}),(0,u.N7)("auto-complete",{constructor:g.Z,initialize:v}),(0,c.on)("auto-complete-change","auto-complete",function(e){v(e.currentTarget)});function v(e){const t=e.closest("form");if(!t)return;const n=t.querySelector(".js-auto-complete-button");n instanceof HTMLButtonElement&&(n.disabled=!e.value)}r(v,"toggleSubmitButton");var L=f(56238),_=f(12981),E=f(6170);let k=null;(0,c.on)("submit","[data-autosearch-results-container]",async function(e){const t=e.currentTarget;if(!(t instanceof HTMLFormElement))return;e.preventDefault(),k==null||k.abort(),t.classList.add("is-sending");const n=new URL(t.action,window.location.origin),o=t.method,s=new FormData(t),i=(0,L.KL)(n,s);let a=null;o==="get"?n.search=i:a=s;const{signal:l}=k=new AbortController,y=new Request(n.toString(),{method:o,body:a,signal:l,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});let w;try{w=await fetch(y)}catch{}if(t.classList.remove("is-sending"),!w||!w.ok||l.aborted)return;const T=t.getAttribute("data-autosearch-results-container"),N=T?document.getElementById(T):null;N&&(N.innerHTML="",N.appendChild((0,_.r)(document,await w.text()))),(0,E.lO)(null,"",`?${i}`)});var x=f(73185),j=f(45075);(0,j.ZG)("input[data-autoselect], textarea[data-autoselect]",async function(e){await(0,x.gJ)(),e.select()});var P=f(46263),q=f(6741);(0,c.on)("change","form[data-autosubmit]",function(e){const t=e.currentTarget;(0,L.Bt)(t)}),(0,c.on)("change","input[data-autosubmit], select[data-autosubmit]",W);function W(e){const t=e.target;if(!(t instanceof HTMLInputElement)&&!(t instanceof HTMLSelectElement))return;const n=t.form;(0,L.Bt)(n)}r(W,"autosubmit_submit");const Z=(0,P.D)(W,300);(0,u.N7)("input[data-throttled-autosubmit]",{subscribe:e=>(0,q.RB)(e,"input",Z)});async function H(e){const t=e.getAttribute("data-url")||"";if(await O(t)){const o=e.getAttribute("data-gravatar-text");o!=null&&(e.textContent=o)}}r(H,"detectGravatar"),(0,u.N7)(".js-detect-gravatar",function(e){H(e)});async function O(e){const t=e;if(!t)return!1;try{const n=await fetch(t,{headers:{Accept:"application/json"}});return n.ok?(await n.json()).has_gravatar:!1}catch{return!1}}r(O,"fetchGravatarInfo");var V=f(51989),U=f(41307),K=f(66899),ne=f(5878),re=f(53412);const ce=[".unstyled-additional-seats-price-obj",".unstyled-base-price-obj",".unstyled-final-price-obj"];function we(e){return typeof e=="string"||typeof e=="number"?!1:"default_currency"in e&&"local_currency"in e}r(we,"isAPriceStruct");let ue=null;(0,c.on)("click",".js-org-signup-duration-change",e=>{e.preventDefault();const n=e.currentTarget.getAttribute("data-plan-duration");Js(n),Qs(n);for(const o of document.querySelectorAll(".js-seat-field"))$e(o);Zs()}),(0,c.on)("change",".js-org-signup-duration-toggle",async function({currentTarget:e}){const t=new URL(e.getAttribute("data-url"),window.location.origin);if((0,re.x)()){const{visit:n}=await f.e("vendors-node_modules_manuelpuyol_turbo_dist_turbo_es2017-esm_js").then(f.bind(f,74395));n(t)}else{const n=document.getElementById("js-pjax-container");(0,U.ZP)({url:t.toString(),container:n})}});async function $e(e){const t=e.getAttribute("data-item-name")||"items",n=e.value,o=new URL(e.getAttribute("data-url"),window.location.origin),s=new URLSearchParams(o.search.slice(1)),i=parseInt(e.getAttribute("data-item-minimum"))||0,a=parseInt(e.getAttribute("data-item-maximum"))||300,l=parseInt(e.getAttribute("data-item-count"))||0,y=Math.max(i,parseInt(n)||0),w=y>a,T=document.querySelector(".js-downgrade-button"),N=document.getElementById("downgrade-disabled-message");T instanceof HTMLButtonElement&&(T.disabled=y===l),N instanceof HTMLElement&&T instanceof HTMLButtonElement&&(N.hidden=!T.disabled),s.append(t,y.toString()),document.querySelector(".js-transform-user")&&s.append("transform_user","1"),o.search=s.toString(),ue==null||ue.abort();const{signal:R}=ue=new AbortController;let B=null;try{const G=await fetch(o.toString(),{signal:R,headers:{Accept:"application/json"}});if(!G.ok)return;B=await G.json()}catch{}if(R.aborted||!B)return;const Q=document.querySelector(".js-contact-us");Q&&Q.classList.toggle("d-none",!w);const Y=document.querySelector(".js-cost-info");Y&&(Y.hidden=w);const oe=document.querySelector(".js-payment-summary");oe&&oe.classList.toggle("d-none",w);const le=document.querySelector(".js-submit-billing");le instanceof HTMLElement&&(le.hidden=w);const de=document.querySelector(".js-billing-section");de&&de.classList.toggle("has-removed-contents",B.free||B.is_enterprise_cloud_trial);const ee=document.querySelector(".js-upgrade-info");ee&&ee.classList.toggle("d-none",y<=0);const Ne=document.querySelector(".js-downgrade-info");Ne&&Ne.classList.toggle("d-none",y>=0);const $=document.querySelector(".js-extra-seats-line-item");$&&$.classList.toggle("d-none",B.no_additional_seats),document.querySelector(".js-seat-field")&&Ys(n);const z=document.querySelector(".js-minimum-seats-disclaimer");z&&(z.classList.toggle("tooltipped",B.seats===5),z.classList.toggle("tooltipped-nw",B.seats===5));const te=B.selectors;for(const G in te)for(const ae of document.querySelectorAll(G))Gs(G)&&we(te[G])?(ae.textContent="",ae.appendChild(On("default-currency",te[G].default_currency)),ae.appendChild(On("local-currency",te[G].local_currency))):ae.textContent=te[G];(0,E.lO)((0,U.y0)(),"",B.url)}r($e,"updateTotals");function Gs(e){return ce.includes(e)}r(Gs,"isPriceSelector");function On(e,t){const n=document.createElement("span");return n.classList.add(e),n.textContent=t,n}r(On,"priceCurrencyTag");function Zs(){for(const e of document.querySelectorAll(".js-unit-price"))e.hidden=!e.hidden}r(Zs,"toggleDurationUnitPrices");function Js(e){const t=e==="year"?"month":"year";for(const o of document.querySelectorAll(".js-plan-duration-text"))o.textContent=e;for(const o of document.querySelectorAll(".unstyled-available-plan-duration-adjective"))o.textContent=`${e}ly`;for(const o of document.querySelectorAll(".js-org-signup-duration-change"))o.setAttribute("data-plan-duration",t);const n=document.getElementById("signup-plan-duration");n&&(n.value=e)}r(Js,"updateDurationFields");function Ys(e){var t;for(const n of document.querySelectorAll(".js-seat-field")){const o=n.getAttribute("data-item-max-seats"),s=(t=n==null?void 0:n.parentNode)==null?void 0:t.querySelector(".Popover");o&&o.length&&(parseInt(e,10)>parseInt(o,10)?(n.classList.add("color-border-danger-emphasis"),s==null||s.removeAttribute("hidden")):(n.classList.remove("color-border-danger-emphasis"),s==null||s.setAttribute("hidden","true")))}}r(Ys,"updateSeatFields");function Qs(e){for(const t of document.querySelectorAll(".js-seat-field")){const n=new URL(t.getAttribute("data-url"),window.location.origin),o=new URLSearchParams(n.search.slice(1));o.delete("plan_duration"),o.append("plan_duration",e),n.search=o.toString(),t.setAttribute("data-url",n.toString())}}r(Qs,"updateSeatFieldURLs"),(0,u.N7)(".js-addon-purchase-field",{constructor:HTMLInputElement,add(e){(0,ne.Z)(e)&&$e(e),(0,K.oq)(e,function(){$e(e)})}}),(0,u.N7)(".js-addon-downgrade-field",{constructor:HTMLSelectElement,add(e){(0,ne.Z)(e)&&$e(e),e.addEventListener("change",function(){$e(e)})}});function er(e){const t=document.querySelector(".js-addon-purchase-field"),n=e.target.querySelector("input:checked");if(t instanceof HTMLInputElement&&n instanceof HTMLInputElement){const o=n.getAttribute("data-upgrade-url");o&&(t.setAttribute("data-url",o),t.value="0",$e(t))}}r(er,"handleOrgChange"),(0,c.on)("details-menu-selected",".js-organization-container",er,{capture:!0}),(0,j.q6)(".js-csv-filter-field",function(e){const t=e.target.value.toLowerCase();for(const n of document.querySelectorAll(".js-csv-data tbody tr"))n instanceof HTMLElement&&(!n.textContent||(n.hidden=!!t&&!n.textContent.toLowerCase().includes(t)))}),(0,u.N7)(".js-blob-header.is-stuck",{add(e){Bn(e)},remove(e){Bn(e,!0)}});function Bn(e,t=!1){const n={"tooltipped-nw":"tooltipped-sw","tooltipped-n":"tooltipped-s","tooltipped-ne":"tooltipped-se"};for(const[o,s]of Object.entries(n)){const i=t?s:o,a=t?o:s;for(const l of e.querySelectorAll(`.${i}`))l.classList.replace(i,a)}}r(Bn,"flipTooltip"),(0,c.on)("click",".js-blob-dropdown-click",e=>{const t=e.currentTarget.getAttribute("data-dropdown-tracking");if(!t)return;const n=JSON.parse(t);(0,I.q)(n.type,n.context)});function tr(e){const t=e.target,n=t==null?void 0:t.closest(".js-branch-protection-integration-select"),o=n==null?void 0:n.querySelector(".js-branch-protection-integration-select-current"),s=t==null?void 0:t.closest(".js-branch-protection-integration-select-item"),i=s==null?void 0:s.querySelector(".js-branch-protection-integration-select-label");o&&i&&n&&(o.innerHTML=i.innerHTML,n.open=!1)}r(tr,"changeSelection"),(0,c.on)("change",".js-branch-protection-integration-select-input",tr);function nr(e){const t=new URL(e.getAttribute("data-bulk-actions-url"),window.location.origin),n=new URLSearchParams(t.search.slice(1)),o=e.getAttribute("data-bulk-actions-parameter"),s=Array.from(e.querySelectorAll(".js-bulk-actions-toggle:checked"));if(o){const i=s.map(a=>a.closest(".js-bulk-actions-item").getAttribute("data-bulk-actions-id")).sort();for(const a of i)n.append(`${o}[]`,a)}else for(const i of s.sort((a,l)=>a.value>l.value?1:-1))n.append(i.name,i.value);return t.search=n.toString(),t.toString()}r(nr,"bulkUrl");let Ht=null;async function or(e){const t=e.target;if(!(t instanceof HTMLElement))return;const n=t.querySelector(".js-bulk-actions"),o=!!t.querySelector(".js-bulk-actions-toggle:checked");Ht==null||Ht.abort();const{signal:s}=Ht=new AbortController;let i="";try{const a=await fetch(nr(t),{signal:s,headers:{"X-Requested-With":"XMLHttpRequest"}});if(!a.ok)return;i=await a.text()}catch{}s.aborted||!i||(o?($n(t),n.innerHTML=i):(n.innerHTML=i,$n(t)),(0,c.f)(t,"bulk-actions:updated"))}r(or,"updateBulkActions");function $n(e){const t=document.querySelector(".js-membership-tabs");if(t){const n=e.querySelectorAll(".js-bulk-actions-toggle:checked");t.classList.toggle("d-none",n.length>0)}}r($n,"toggleMembershipTabs"),(0,c.on)("change",".js-bulk-actions-toggle",function(e){const n=e.currentTarget.closest(".js-bulk-actions-container");(0,c.f)(n,"bulk-actions:update")}),(0,c.on)("bulk-actions:update",".js-bulk-actions-container",(0,P.D)(or,100));var me=f(7739),pe=f(45922);function sr(e){try{const t=window.localStorage.getItem(e);return{kind:"ok",value:t?JSON.parse(t):null}}catch(t){return{kind:"err",value:t}}}r(sr,"getLocalJSON");function Fn(e,t){try{return window.localStorage.setItem(e,JSON.stringify(t)),{kind:"ok",value:null}}catch(n){return{kind:"err",value:n}}}r(Fn,"setLocalJSON");function rr(){const e={};for(const t of document.getElementsByTagName("script")){const n=t.src.match(/\/([\w-]+)-[0-9a-f]{8,}\.js$/);n&&(e[`${n[1]}.js`]=t.src)}for(const t of document.getElementsByTagName("link")){const n=t.href.match(/\/([\w-]+)-[0-9a-f]{8,}\.css$/);n&&(e[`${n[1]}.css`]=t.href)}return e}r(rr,"gatherBundleURLs");function ir(){const e=rr(),t=sr("bundle-urls");if(t.kind==="err"){Fn("bundle-urls",e);return}const n=t.value||{},o=Object.keys(e).filter(s=>n[s]!==e[s]);o.length&&Fn("bundle-urls",{...n,...e}).kind==="ok"&&(0,pe.b)({downloadedBundles:o})}r(ir,"report"),(async()=>(await me.C,window.requestIdleCallback(ir)))();var Kl=f(41415);function ar(e){e.preventDefault(),e.stopPropagation()}r(ar,"cancelEvent"),(0,u.N7)("a.btn.disabled",{subscribe:e=>(0,q.RB)(e,"click",ar)});var Nt=f(90458),cr=f(58797);(0,u.N7)(".js-check-all-container",{constructor:HTMLElement,subscribe:cr.Z});var Xe=f(64926);const Un="logout-was-successful";function lr(){for(const e of[sessionStorage,localStorage])try{e.clear()}catch{}}r(lr,"clearData");function ur(){(0,Xe.$1)(Un).length>0&&(lr(),(0,Xe.kT)(Un))}r(ur,"clearDataIfJustLoggedOut"),ur();const Wn=2e3;(0,c.on)("clipboard-copy","[data-copy-feedback]",e=>{const t=e.currentTarget,n=t.getAttribute("data-copy-feedback"),o=t.getAttribute("aria-label"),s=t.getAttribute("data-tooltip-direction")||"s";t.setAttribute("aria-label",n),t.classList.add("tooltipped",`tooltipped-${s}`),t instanceof HTMLElement&&((0,p.N)(t),setTimeout(()=>{o?t.setAttribute("aria-label",o):t.removeAttribute("aria-label"),t.classList.remove("tooltipped",`tooltipped-${s}`)},Wn))});function dr(e){Ot.delete(e),zn(e)}r(dr,"timerCallback");function zn(e){const t=e.querySelector(".js-clipboard-copy-icon"),n=e.querySelector(".js-clipboard-check-icon");e.classList.toggle("ClipboardButton--success"),t&&t.classList.toggle("d-none"),n&&(n.classList.contains("d-sm-none")?n.classList.toggle("d-sm-none"):n.classList.toggle("d-none"))}r(zn,"toggleCopyButton");const Ot=new WeakMap;(0,c.on)("clipboard-copy",".js-clipboard-copy:not([data-view-component])",function({currentTarget:e}){if(!(e instanceof HTMLElement))return;const t=Ot.get(e);t?clearTimeout(t):zn(e),Ot.set(e,window.setTimeout(dr,Wn,e))});var Me=f(49815);(0,c.on)("click",".js-code-nav-retry",async function(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;const t=document.querySelector(".js-tagsearch-popover");if(!t)return;const n=t.querySelector(".js-tagsearch-popover-content");if(!n)return;let o;const s=e.currentTarget;if(s.getAttribute("data-code-nav-kind")==="definitions"?o=t.querySelector(".js-tagsearch-popover-content"):o=t.querySelector(".js-code-nav-references"),!o)return;const a=s.getAttribute("data-code-nav-url");if(!a)return;const l=new URL(a,window.location.origin);try{const y=await fetch(l.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!y.ok)return;const w=await y.text();if(!w)return;o.innerHTML=w}catch{return}n.scrollTop=0}),(0,u.N7)(".js-code-nav-container",{constructor:HTMLElement,subscribe(e){const t=e,n=document.querySelector(".js-tagsearch-popover");if(!(n instanceof HTMLElement))return{unsubscribe(){}};const o=n.querySelector(".js-tagsearch-popover-content"),s=new WeakMap,i=new WeakMap;let a;l();function l(){le();for(const $ of document.getElementsByClassName("pl-token"))$.classList.remove("pl-token","active")}r(l,"initialize");async function y($){const X=Bt(/\w+[!?]?/g,$.clientX,$.clientY,0);if(!X)return;const z=X.commonAncestorContainer.parentElement;if(!z)return;for(const Wl of z.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(Wl))return;if(z.closest(".js-skip-tagsearch"))return;const te=X.toString();if(!te||te.match(/\n|\s|[();&.=",]/))return;let G=i.get(z);if(G||(G=new Set,i.set(z,G)),G.has(te))return;G.add(te);const ae=z.closest(".js-tagsearch-file");if(!ae)return;const Hn=ae.getAttribute("data-tagsearch-path")||"";let Oe=ae.getAttribute("data-tagsearch-lang")||"";if(Oe==="HTML+ERB")if(z.closest(".pl-sre"))Oe="Ruby";else return;if(e.classList.contains("js-code-block-container")&&(Oe=mr(z)||"",!Oe))return;const Nn=Vn(X),Be=document.createElement("span");Be.classList.add("pl-token"),Be.addEventListener("click",T);let Dt;if(!(0,Me.c)("BLACKBIRD_MONOLITH")){if(Dt=await Kn(n,te,Oe,Nn,Hn),!Dt)return;N(Be,Dt),s.set(Be,Dt)}X.surroundContents(Be)}r(y,"onMouseMove");function w(){o.scrollTop=0}r(w,"resetScrollTop");async function T($){if($.altKey||$.ctrlKey||$.metaKey||$.shiftKey)return;const X=$.currentTarget;if(X===a)le();else if(B(X),(0,Me.c)("BLACKBIRD_MONOLITH")){const z=n.querySelector(".js-loading-code-definitions");z&&(o.hidden=!0,z.hidden=!1,Y(X),oe()),await R($),Q(X),z&&!z.hidden&&(z.hidden=!0),o.children.length>0?o.hidden=!1:le()}else Q(X),oe();$.preventDefault()}r(T,"onClick");function N($,X){const z=document.createElement("span");z.innerHTML=X;const te=z.firstElementChild;if(!te)return;const G=te.getAttribute("data-hydro-click"),ae=te.getAttribute("data-hydro-click-hmac");ae&&G&&($.setAttribute("data-hydro-click",G),$.setAttribute("data-hydro-click-hmac",ae))}r(N,"addPopoverElement");async function M($,X){const z=Bt(/\w+[!?]?/g,$.clientX,$.clientY,2);if(!z)return;const te=z.commonAncestorContainer.parentElement;if(!te)return;for(const Be of te.classList)if(X.includes(Be))return;const G=z.toString(),ae=te.closest(".js-tagsearch-file");if(!ae)return;const Hn=ae.getAttribute("data-tagsearch-path")||"",Oe=ae.getAttribute("data-tagsearch-lang")||"",Nn=Vn(z);return await Kn(n,G,Oe,Nn,Hn)}r(M,"getPopoverHtml");async function R($){const X=await M($,["data-hydro-click"]);if(!X)return;const z=document.getElementsByClassName("active")[0];!z||(N(z,X),s.set(z,X))}r(R,"fetchPopover");function B($){a&&a.classList.remove("active"),a=$,a.classList.add("active")}r(B,"setActivePopover");function Q($){o.innerHTML=s.get($)||"",Y($)}r(Q,"populatePopover");function Y($){const X=t.getClientRects()[0],z=$.getClientRects()[0];n.style.position="absolute",n.style.zIndex="2",t.classList.contains("position-relative")?(n.style.top=`${z.bottom-X.top+7}px`,n.style.left=`${z.left-X.left-10}px`):(n.style.top=`${window.scrollY+z.bottom}px`,n.style.left=`${window.scrollX+z.left}px`)}r(Y,"positionPopover");function oe(){if(!n.hidden){w();return}n.hidden=!1,w(),document.addEventListener("click",ee),document.addEventListener("keyup",Ne),window.addEventListener("resize",de)}r(oe,"showPopover");function le(){n.hidden||(n.hidden=!0,a&&a.classList.remove("active"),a=void 0,document.removeEventListener("click",ee),document.removeEventListener("keyup",Ne),window.removeEventListener("resize",de))}r(le,"hidePopover");function de(){a instanceof HTMLElement&&Y(a)}r(de,"onResize");function ee($){const{target:X}=$;X instanceof Node&&!n.contains(X)&&!a.contains(X)&&le()}r(ee,"onDocumentClick");function Ne($){switch($.key){case"Escape":le();break}}return r(Ne,"onKeyup"),e.addEventListener("mousemove",y),{unsubscribe(){e.removeEventListener("mousemove",y)}}}});async function Kn(e,t,n,o,s){const i=e.getAttribute("data-tagsearch-url");if(!i)return"";const a=e.getAttribute("data-tagsearch-ref");if(!a)return"";let l=e.getAttribute("data-tagsearch-code-nav-context");l||(l="UNKNOWN_VIEW");const y=new URL(i,window.location.origin),w=new URLSearchParams;w.set("q",t),w.set("blob_path",s),w.set("ref",a),w.set("language",n),w.set("row",o[0].toString()),w.set("col",o[1].toString()),w.set("code_nav_context",l),y.search=w.toString();try{const T=await fetch(y.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!T.ok)return"";const N=await T.text();return/js-tagsearch-no-definitions/.test(N)?"":N}catch{return""}}r(Kn,"fetchPopoverContents");function Bt(e,t,n,o){let s,i;if(document.caretPositionFromPoint){const T=document.caretPositionFromPoint(t,n);T&&(s=T.offsetNode,i=T.offset)}else if(document.caretRangeFromPoint){const T=document.caretRangeFromPoint(t,n);T&&(s=T.startContainer,i=T.startOffset)}if(!s||typeof i!="number"||!(0,Me.c)("BLACKBIRD_MONOLITH")&&s.nodeType!==Node.TEXT_NODE)return;const a=s.textContent,l=(a==null?void 0:a.replaceAll(`
`,"").trim())==="";if(!a||l||s.nodeType!==Node.TEXT_NODE){if(o<=0||!(0,Me.c)("BLACKBIRD_MONOLITH"))return null;{const T=s.nodeType!==Node.TEXT_NODE?1:10;return Bt(e,t-T,n-T,o-1)}}const y=fr(a,e,i);if(!y)return null;const w=document.createRange();return w.setStart(s,y[1]),w.setEnd(s,y[2]),w}r(Bt,"matchFromPoint");function fr(e,t,n){let o;for(;o=t.exec(e);){const s=o.index+o[0].length;if(o.index<=n&&n<=s)return[o[0],o.index,s]}return null}r(fr,"findNearestMatch");function mr(e){const t=e.closest(".highlight");if(t)for(const n of t.classList)switch(n){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}r(mr,"getCodeBlockLanguage");function Vn(e){let t=e.startContainer,n=e.startOffset,o=!1;for(;;){let s=t.previousSibling;for(;!o&&s;)["#comment","BUTTON"].includes(s.nodeName)||(n+=(s.textContent||"").length),s=s.previousSibling;const i=t.parentElement;if(i){if(i.classList.contains("js-code-nav-pass"))o=!0;else if(i.classList.contains("js-file-line")){const a=i.previousElementSibling;if(!a.classList.contains("js-code-nav-line-number"))throw new Error("invariant");return[parseInt(a.getAttribute("data-line-number")||"1",10)-1,n]}t=i}else return[0,0]}}r(Vn,"getRowAndColumn");var qe=f(78965);function pr(e){const t=e.querySelector(".js-comment-form-error");t instanceof HTMLElement&&(t.hidden=!0)}r(pr,"clearFormError"),(0,c.on)("click",".errored.js-remove-error-state-on-click",function({currentTarget:e}){e.classList.remove("errored")}),(0,A.AC)(".js-new-comment-form",async function(e,t){let n;pr(e);try{n=await t.json()}catch(i){hr(e,i)}if(!n)return;e.reset();for(const i of e.querySelectorAll(".js-resettable-field"))(0,L.Se)(i,i.getAttribute("data-reset-value")||"");const o=e.querySelector(".js-write-tab");o instanceof HTMLElement&&o.click();const s=n.json.updateContent;for(const i in s){const a=s[i],l=document.querySelector(i);l instanceof HTMLElement?(0,qe.Of)(l,a):console.warn(`couldn't find ${i} for immediate update`)}(0,c.f)(e,"comment:success")});function hr(e,t){let n="You can't comment at this time";if(t.response&&t.response.status===422){const s=t.response.json;s.errors&&(Array.isArray(s.errors)?n+=` \u2014 your comment ${s.errors.join(", ")}`:n=s.errors)}n+=". ";const o=e.querySelector(".js-comment-form-error");if(o instanceof HTMLElement){o.textContent=n,o.hidden=!1;const s=o.closest("div.form-group.js-remove-error-state-on-click");s&&s.classList.add("errored")}}r(hr,"handleFormError");const gr=r((e,t)=>{const n=e.querySelector(".js-form-action-text"),o=n||e;o.textContent=t?e.getAttribute("data-comment-text"):o.getAttribute("data-default-action-text")},"setButtonText"),br=r(e=>{let t;return n=>{const s=n.currentTarget.value.trim();s!==t&&(t=s,gr(e,Boolean(s)))}},"createInputHandler");(0,u.N7)(".js-comment-and-button",{constructor:HTMLButtonElement,initialize(e){const t=e.form.querySelector(".js-comment-field"),n=br(e);return{add(){t.addEventListener("input",n),t.addEventListener("change",n)},remove(){t.removeEventListener("input",n),t.removeEventListener("change",n)}}}});var Vl=f(2641);function Xn(e,t){const n=e.closest(".js-write-bucket");n&&n.classList.toggle("focused",t)}r(Xn,"toggleFocus");function yr(e){const t=e.currentTarget;t instanceof Element&&Xn(t,!1)}r(yr,"blurred"),(0,j.ZG)(".js-comment-field",function(e){Xn(e,!0),e.addEventListener("blur",yr,{once:!0})});var Ee=f(40764),vr=f(52769),$t=f(35889);const wr=2303741511,Er=4;class st{static fromFile(t){return new Promise(function(n,o){const s=new FileReader;s.onload=function(){n(new st(s.result))},s.onerror=function(){o(s.error)},s.readAsArrayBuffer(t)})}constructor(t){this.dataview=new DataView(t),this.pos=0}advance(t){this.pos+=t}readInt(t){const n=this,o=function(){switch(t){case 1:return n.dataview.getUint8(n.pos);case 2:return n.dataview.getUint16(n.pos);case 4:return n.dataview.getUint32(n.pos);default:throw new Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(t),o}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(t){const n=[];for(let o=0;o<t;o++)n.push(String.fromCharCode(this.readChar()));return n.join("")}scan(t){if(this.readLong()!==wr)throw new Error("invalid PNG");for(this.advance(4);;){const n=this.readLong(),o=this.readString(4),s=this.pos+n+Er;if(t.call(this,o,n)===!1||o==="IEND")break;this.pos=s}}}r(st,"PNGScanner");const Lr=.0254;async function jr(e){if(e.type!=="image/png")return null;const t=e.slice(0,10240,e.type),n=await st.fromFile(t),o={width:0,height:0,ppi:1};return n.scan(function(s){switch(s){case"IHDR":return o.width=this.readLong(),o.height=this.readLong(),!0;case"pHYs":{const i=this.readLong(),a=this.readLong(),l=this.readChar();let y;return l===1&&(y=Lr),y&&(o.ppi=Math.round((i+a)/2*y)),!1}case"IDAT":return!1}return!0}),o}r(jr,"imageDimensions");var Sr=f(89900);const rt=new WeakMap;class Gn{constructor(t,n,o){this.index=t,this.coords=n,this.textArea=o}get top(){return this.coords.top}get left(){return this.coords.left}get height(){return this.coords.height}currentChar(t=1){return this.textArea.value.substring(this.index-t,this.index)}checkLine(t){return t<this.coords.top?-1:t>this.coords.top+this.coords.height?1:0}xDistance(t){return Math.abs(this.left-t)}}r(Gn,"CaretPosition");function Le(e,t){let n;if(rt.has(e)?n=rt.get(e):(n=new Map,rt.set(e,n)),n.has(t))return n.get(t);{const o=new Gn(t,(0,Sr.Z)(e,t),e);return n.set(t,o),o}}r(Le,"fetchCaretCoords");const Ge=r((e,t,n,o,s,i)=>{if(n===t)return n;const a=r(T=>{const N=T.filter(M=>M.checkLine(s)===0).sort((M,R)=>M.xDistance(o)>R.xDistance(o)?1:-1);return N.length===0?n:N[0].index},"bestPosition");if(n-t===1){const T=Le(e,t),N=Le(e,n);return a([T,N])}if(n-t===2){const T=Le(e,t),N=Le(e,n-1),M=Le(e,n);return a([T,N,M])}const l=Math.floor((n+t)/2);if(l===t||l===n)return l;const y=Le(e,l);if(s>y.top+y.height)return Ge(e,l+1,n,o,s,i+1);if(s<y.top)return Ge(e,t,l-1,o,s,i+1);const w=3;return y.xDistance(o)<w?l:y.left<o?Le(e,l+1).checkLine(s)!==0?l:Ge(e,l+1,n,o,s,i+1):y.left>o?Le(e,l-1).checkLine(s)!==0?l:Ge(e,t,l-1,o,s,i+1):l},"binaryCursorSearch"),Tr=r((e,t,n)=>{const s=e.value.length-1;return Ge(e,0,s,t,n,0)},"findCursorPosition");function Ar(e,t,n){const o=Tr(e,t,n);e.setSelectionRange(o,o)}r(Ar,"setCursorPosition");function Cr(e,t){const n=e.getBoundingClientRect();t.type==="dragenter"&&rt.delete(e);const o=t.clientX-n.left,s=t.clientY-n.top+e.scrollTop;Ar(e,o,s)}r(Cr,"caret_placement_updateCaret"),(0,u.N7)(".js-paste-markdown",{initialize(e){let t;return{add(){t=(0,vr.Ld)(e).unsubscribe},remove(){t()}}}});const Ft=new WeakMap;function Xl(e,t){Ft.set(e,t)}r(Xl,"cachePlaceholder");function kr(e){return Ft.get(e)||Jn(e)}r(kr,"getPlaceholder");function Ut(e){return["video/mp4","video/quicktime"].includes(e.file.type)}r(Ut,"isVideo");function xr(e){return e.replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")}r(xr,"parameterizeName");function Zn(e){return Ut(e)?`
Uploading ${e.file.name}\u2026
`:`${e.isImage()?"!":""}[Uploading ${e.file.name}\u2026]()`}r(Zn,"placeholderText");function Mr(e){return xr(e).replace(/\.[^.]+$/,"").replace(/\./g," ")}r(Mr,"altText");const qr=72*2;function it(e){const n=e.target.closest("form").querySelector(".btn-primary");n.disabled=!0}r(it,"disableSubmit");function at(e){const n=e.target.closest("form").querySelector(".btn-primary");n.disabled=!1}r(at,"enableSubmit");async function Rr(e){const{attachment:t}=e.detail,n=e.currentTarget;let o;t.isImage()?o=await _r(t):Ut(t)?o=Pr(t):o=Ir(t),Qn("",o,e,n)}r(Rr,"onUploadCompleted");function Ir(e){return`[${e.file.name}](${e.href})`}r(Ir,"mdLink");function Pr(e){return`
${e.href}
`}r(Pr,"videoMarkdown");async function _r(e){const t=await Dr(e.file),n=Mr(e.file.name),o=e.href;return t.ppi===qr?`<img width="${Math.round(t.width/2)}" alt="${n}" src="${o}">`:`![${n}](${o})`}r(_r,"imageTag");async function Dr(e){var t;const n={width:0,height:0,ppi:0};try{return(t=await jr(e))!=null?t:n}catch{return n}}r(Dr,"imageSize");function Jn(e){const t=Zn(e);return Ut(e)?`
${t}
`:`${t}
`}r(Jn,"replacementText");function Yn(e){const t=e.currentTarget.querySelector(".js-comment-field"),n=kr(e.detail.attachment);if(t)t.setCustomValidity(""),(0,Ee.lp)(t,n,"");else{const s=(0,$t.P)(e.currentTarget.querySelector(".js-code-editor")).editor.getSearchCursor(n);s.findNext(),s.replace("")}}r(Yn,"removeFailedUpload");function Qn(e,t,n,o){const s=(o||n.currentTarget).querySelector(".js-comment-field"),i=(o||n.currentTarget).querySelector(".js-file-upload-loading-text"),a=Zn(n.detail.attachment),{batch:l}=n.detail;if(s){const y=s.value.substring(s.selectionStart,s.selectionEnd);if(e==="uploading"){let w;y.length?w=(0,Ee.t4)(s,y,a):w=(0,Ee.Om)(s,a,{appendNewline:!0}),Ft.set(n.detail.attachment,w)}else(0,Ee.lp)(s,a,t);l.isFinished()?at(n):it(n)}else{const y=(0,$t.P)((o||n.currentTarget).querySelector(".js-code-editor")).editor;if(e==="uploading")if(y.getSelection().length)y.replaceSelection(a);else{const w=y.getCursor(),T=Jn(n.detail.attachment);y.replaceRange(T,w)}else{const w=y.getSearchCursor(a);w.findNext(),w.replace(t)}l.isFinished()?at(n):it(n)}if(i){const y=i.getAttribute("data-file-upload-message");i.textContent=`${y} (${l.uploaded()+1}/${l.size})`}}r(Qn,"setValidityAndLinkText"),(0,c.on)("upload:setup",".js-upload-markdown-image",function(e){Qn("uploading","",e)}),(0,c.on)("upload:complete",".js-upload-markdown-image",Rr),(0,c.on)("upload:error",".js-upload-markdown-image",function(e){Yn(e);const{batch:t}=e.detail;t.isFinished()?at(e):it(e)});function eo(e){var t;e.stopPropagation();const n=e.currentTarget;if(!n)return;const o=n.querySelector(".js-comment-field");if(o)Cr(o,e);else{const s=(t=(0,$t.P)(n.querySelector(".js-code-editor")))==null?void 0:t.editor;if(s){const i=s.coordsChar({left:e.pageX,top:e.pageY});s.setCursor(i)}}}r(eo,"updateCursor");const Gl=r(e=>{const t=e.currentTarget,n=t.getBoundingClientRect(),o=e.clientX-n.left,s=e.clientY-n.top+t.scrollTop;console.log({x:o,y:s,cursor:t.selectionStart,t:t.value.substring(t.selectionStart-10,t.selectionStart)});const i=new DragEvent("dragenter",{clientX:e.clientX,clientY:e.clientY});updateCaret(t,i)},"debugUpdateCaret");(0,c.on)("dragenter","file-attachment",eo),(0,c.on)("dragover","file-attachment",eo),(0,c.on)("upload:invalid",".js-upload-markdown-image",function(e){Yn(e);const{batch:t}=e.detail;t.isFinished()?at(e):it(e)});var Wt=f(29501),Re=f(15205);function Hr(e){const t=e.querySelector(".js-data-preview-url-csrf"),n=e.closest("form").elements.namedItem("authenticity_token");if(t instanceof HTMLInputElement)return t.value;if(n instanceof HTMLInputElement)return n.value;throw new Error("Comment preview authenticity token not found")}r(Hr,"token");function zt(e){const t=e.closest(".js-previewable-comment-form"),n=e.classList.contains("js-preview-tab");if(n){const i=t.querySelector(".js-write-bucket"),a=t.querySelector(".js-preview-body");i.clientHeight>0&&(a.style.minHeight=`${i.clientHeight}px`)}t.classList.toggle("preview-selected",n),t.classList.toggle("write-selected",!n);const o=t.querySelector('.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');o.setAttribute("aria-selected","false"),o.classList.remove("selected"),e.classList.add("selected"),e.setAttribute("aria-selected","true");const s=t.querySelector(".js-write-tab");return n?s.setAttribute("data-hotkey","Control+P,Meta+Shift+p"):s.removeAttribute("data-hotkey"),t}r(zt,"activateTab"),(0,c.on)("click",".js-write-tab",function(e){const t=e.currentTarget,n=t.closest(".js-previewable-comment-form");if(n instanceof Wt.Z){setTimeout(()=>{n.querySelector(".js-comment-field").focus()});return}const o=zt(t);(0,c.f)(n,"preview:toggle:off");const s=n.querySelector(".js-discussion-poll-form-component");s&&(0,c.f)(s,"poll-preview:toggle:off"),setTimeout(()=>{o.querySelector(".js-comment-field").focus()});const i=n.querySelector("markdown-toolbar");i instanceof HTMLElement&&(i.hidden=!1)}),(0,c.on)("click",".js-preview-tab",function(e){const t=e.currentTarget,n=t.closest(".js-previewable-comment-form");if(n instanceof Wt.Z)return;const o=zt(t);(0,c.f)(n,"preview:toggle:on"),setTimeout(()=>{Vt(o)});const s=n.querySelector("markdown-toolbar");s instanceof HTMLElement&&(s.hidden=!0),e.stopPropagation(),e.preventDefault()}),(0,c.on)("tab-container-change",".js-previewable-comment-form",function(e){const t=e.detail.relatedTarget,n=t&&t.classList.contains("js-preview-panel"),o=e.currentTarget,s=o.querySelector(".js-write-tab");if(n){const i=o.querySelector(".js-write-bucket"),a=o.querySelector(".js-preview-body");!a.hasAttribute("data-skip-sizing")&&i.clientHeight>0&&(a.style.minHeight=`${i.clientHeight}px`),s.setAttribute("data-hotkey","Control+P,Meta+Shift+p"),Vt(o);const y=o.querySelector("markdown-toolbar");y instanceof HTMLElement&&(y.hidden=!0)}else{s.removeAttribute("data-hotkey");const i=o.querySelector("markdown-toolbar");i instanceof HTMLElement&&(i.hidden=!1);const a=document.querySelector(".js-discussion-poll-form-component");a&&(0,c.f)(a,"poll-preview:toggle:off")}o.classList.toggle("preview-selected",n),o.classList.toggle("write-selected",!n)}),(0,c.on)("preview:render",".js-previewable-comment-form",function(e){const t=e.target.querySelector(".js-preview-tab"),n=zt(t);setTimeout(()=>{Vt(n);const o=n.querySelector("markdown-toolbar");o instanceof HTMLElement&&(o.hidden=!0)})});function Nr(e){var t,n,o,s,i,a,l,y,w;const T=e.querySelector(".js-comment-field").value,N=(t=e.querySelector(".js-path"))==null?void 0:t.value,M=(n=e.querySelector(".js-line-number"))==null?void 0:n.value,R=(o=e.querySelector(".js-start-line-number"))==null?void 0:o.value,B=(s=e.querySelector(".js-side"))==null?void 0:s.value,Q=(i=e.querySelector(".js-start-side"))==null?void 0:i.value,Y=(a=e.querySelector(".js-start-commit-oid"))==null?void 0:a.value,oe=(l=e.querySelector(".js-end-commit-oid"))==null?void 0:l.value,le=(y=e.querySelector(".js-base-commit-oid"))==null?void 0:y.value,de=(w=e.querySelector(".js-comment-id"))==null?void 0:w.value,ee=new FormData;return ee.append("text",T),ee.append("authenticity_token",Hr(e)),N&&ee.append("path",N),M&&ee.append("line_number",M),R&&ee.append("start_line_number",R),B&&ee.append("side",B),Q&&ee.append("start_side",Q),Y&&ee.append("start_commit_oid",Y),oe&&ee.append("end_commit_oid",oe),le&&ee.append("base_commit_oid",le),de&&ee.append("comment_id",de),ee}r(Nr,"previewForm");function to(e){const t=e.getAttribute("data-preview-url"),n=Nr(e);return(0,c.f)(e,"preview:setup",{data:n}),Or(t,n)}r(to,"fetchPreview");const Or=(0,Re.Z)(Br,{hash:$r});let Kt=null;async function Br(e,t){Kt==null||Kt.abort();const{signal:n}=Kt=new AbortController,o=await fetch(e,{method:"post",body:t,signal:n});if(!o.ok)throw new Error("something went wrong");return o.text()}r(Br,"uncachedFetch");function $r(e,t){const n=[...t.entries()].toString();return`${e}:${n}`}r($r,"hash");async function Vt(e){const t=e.querySelector(".comment-body");t.innerHTML="<p>Loading preview&hellip;</p>";try{const n=await to(e);t.innerHTML=n||"<p>Nothing to preview</p>",(0,c.f)(e,"preview:rendered")}catch(n){n.name!=="AbortError"&&(t.innerHTML="<p>Error rendering preview</p>")}}r(Vt,"renderPreview"),(0,u.N7)(".js-preview-tab",function(e){e.addEventListener("mouseenter",async()=>{const t=e.closest(".js-previewable-comment-form");try{await to(t)}catch{}})}),(0,j.w4)("keydown",".js-comment-field",function(e){const t=e.target;if((e.ctrlKey||e.metaKey)&&e.shiftKey&&e.key.toUpperCase()==="P"){const n=t.closest(".js-previewable-comment-form");n.classList.contains("write-selected")&&(n instanceof Wt.Z?n.querySelector(".js-preview-tab").click():(t.blur(),n.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),e.preventDefault(),e.stopImmediatePropagation())}});const no=/^(\+1|-1|:\+1?|:-1?)$/,Fr=r(e=>{let t=!1;for(const n of e.split(`
`)){const o=n.trim();if(!(!o||o.startsWith(">"))){if(t&&no.test(o)===!1)return!1;!t&&no.test(o)&&(t=!0)}}return t},"isReactionLikeComment");(0,c.on)("focusout","#new_comment_field",function(e){const n=e.currentTarget.closest(".js-reaction-suggestion");n&&so(n)}),(0,c.on)("focusin","#new_comment_field",function(e){oo(e)}),(0,j.w4)("keyup","#new_comment_field",function(e){oo(e)});function oo(e){const t=e.target,n=t.value,o=t.closest(".js-reaction-suggestion");if(!!o)if(Fr(n)){o.classList.remove("hide-reaction-suggestion"),o.classList.add("reaction-suggestion");const s=o.getAttribute("data-reaction-markup");o.setAttribute("data-reaction-suggestion-message",s)}else so(o)}r(oo,"toggleReactionSuggestion");function so(e){e.classList.remove("reaction-suggestion"),e.classList.add("hide-reaction-suggestion"),e.removeAttribute("data-reaction-suggestion-message")}r(so,"clearReactionSuggestion");var ct=f(5287);(0,c.on)("navigation:keydown",".js-commits-list-item",function(e){!(0,ct.Zf)(e.detail.originalEvent)||e.target instanceof Element&&e.detail.hotkey==="c"&&e.target.querySelector(".js-navigation-open").click()});var Zl=f(87924);(0,j.q6)(".js-company-name-input",function(e){const t=e.target,n=t.form,o=n.querySelector(".js-corp-tos-link"),s=n.querySelector(".js-tos-link");s&&(s.classList.add("d-none"),s.setAttribute("aria-hidden","true"),o&&(o.classList.remove("d-none"),o.setAttribute("aria-hidden","false")));const i=n.querySelectorAll(".js-company-name-text");if(i.length!==0)for(const a of i)if(t.value)if(a.hasAttribute("data-wording")){const y=a.getAttribute("data-wording");a.textContent=` ${y} ${t.value}`}else a.textContent=t.value;else a.textContent=""}),(0,u.N7)(".js-company-owned:not(:checked)",{constructor:HTMLInputElement,add(e){const n=e.form.querySelector(".js-company-name-input"),o=document.querySelector(".js-company-name-text"),s=document.querySelector(".js-corp-tos-link"),i=document.querySelector(".js-tos-link");n&&(e.getAttribute("data-optional")&&n.removeAttribute("required"),(0,L.Se)(n,"")),i.classList.remove("d-none"),i.setAttribute("aria-hidden","false"),s.classList.add("d-none"),s.setAttribute("aria-hidden","true"),o&&(o.textContent="")}}),(0,u.N7)(".js-company-owned:checked",{constructor:HTMLInputElement,add(e){const n=e.form.querySelector(".js-company-name-input");n&&(n.setAttribute("required",""),(0,c.f)(n,"focus"),(0,c.f)(n,"input"))}}),(0,u.N7)(".js-company-owned-autoselect",{constructor:HTMLInputElement,add(e){const t=e;function n(){if(t.checked&&t.form){const o=t.form.querySelector(".js-company-owned");(0,L.Se)(o,!0)}}r(n,"autoselect"),t.addEventListener("change",n),n()}});var Xt=f(10178),Gt=f(33948),Zt=f(55444);let je=null;document.addEventListener("keydown",function(e){!e.defaultPrevented&&e.key==="Escape"&&je&&je.removeAttribute("open")}),(0,u.N7)(".js-dropdown-details",{subscribe:e=>(0,q.qC)((0,q.RB)(e,"toggle",Wr),(0,q.RB)(e,"toggle",Ur))});function Ur({currentTarget:e}){const t=e;if(t.hasAttribute("open")){const n=t.querySelector("[autofocus]");n&&n.focus()}else{const n=t.querySelector("summary");n&&n.focus()}}r(Ur,"autofocus");function Wr({currentTarget:e}){const t=e;t.hasAttribute("open")?(je&&je!==t&&je.removeAttribute("open"),je=t):t===je&&(je=null)}r(Wr,"closeCurrentDetailsDropdown"),(0,u.N7)("[data-deferred-details-content-url]:not([data-details-no-preload-on-hover])",{subscribe:e=>{const t=e.querySelector("summary");return(0,q.RB)(t,"mouseenter",Zt.G)}}),(0,u.N7)("[data-deferred-details-content-url]",{subscribe:e=>(0,q.RB)(e,"toggle",Zt.G)}),(0,c.on)("click","[data-toggle-for]",function(e){const t=e.currentTarget.getAttribute("data-toggle-for")||"",n=document.getElementById(t);!n||(n.hasAttribute("open")?n.removeAttribute("open"):n.setAttribute("open","open"))}),(0,Gt.Z)(function({target:e}){if(!e||e.closest("summary"))return;let t=e.parentElement;for(;t;)t=t.closest("details"),t&&(t.hasAttribute("open")||t.setAttribute("open",""),t=t.parentElement)}),(0,c.on)("details-dialog-close","[data-disable-dialog-dismiss]",function(e){e.preventDefault()});var zr=f(88309);(0,u.N7)("details.select-menu details-menu include-fragment",function(e){const t=e.closest("details");!t||(e.addEventListener("loadstart",function(){t.classList.add("is-loading"),t.classList.remove("has-error")}),e.addEventListener("error",function(){t.classList.add("has-error")}),e.addEventListener("loadend",function(){t.classList.remove("is-loading");const n=t.querySelector(".js-filterable-field");n&&(0,c.f)(n,"filterable:change")}))}),(0,u.N7)("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(e){const t=e.closest("details");t.addEventListener("toggle",function(){t.hasAttribute("open")||(e.value="",(0,c.f)(e,"filterable:change"))})}}),(0,u.N7)("details-menu[role=menu] [role=menu]",e=>{const t=e.closest("details-menu[role]");t&&t!==e&&t.removeAttribute("role")}),(0,u.N7)("details details-menu remote-input input",{constructor:HTMLInputElement,add(e){const t=e.closest("details");t.addEventListener("toggle",function(){t.hasAttribute("open")||(e.value="")})}}),(0,u.N7)("form details-menu",e=>{const t=e.closest("form");t.addEventListener("reset",()=>{setTimeout(()=>Kr(t),0)})});function Kr(e){const t=e.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(const n of t)(0,c.f)(n,"change")}r(Kr,"resetMenus"),(0,j.w4)("keypress","details-menu .js-filterable-field, details-menu filter-input input",e=>{if(e.key==="Enter"){const o=e.currentTarget.closest("details-menu").querySelector('[role^="menuitem"]:not([hidden])');o instanceof HTMLElement&&o.click(),e.preventDefault()}}),(0,c.on)("details-menu-selected","details-menu",e=>{const n=e.currentTarget.querySelector(".js-filterable-field");n instanceof HTMLInputElement&&n.value&&n.focus()},{capture:!0}),(0,c.on)("details-menu-selected","[data-menu-input]",e=>{if(!(e.target instanceof Element))return;const t=e.target.getAttribute("data-menu-input"),n=document.getElementById(t);(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&(n.value=e.detail.relatedTarget.value)},{capture:!0}),(0,u.N7)("details-menu remote-input",{constructor:zr.Z,initialize(e){const t=document.getElementById(e.getAttribute("aria-owns")||"");if(!t)return;let n=null;e.addEventListener("load",()=>{document.activeElement&&t.contains(document.activeElement)&&document.activeElement.id?n=document.activeElement.id:n=null}),e.addEventListener("loadend",()=>{if(n){const o=t.querySelector(`#${n}`)||t.querySelector('[role^="menu"]');o instanceof HTMLElement?o.focus():e.input&&e.input.focus()}})}}),(0,c.on)("details-menu-selected","details-menu[data-menu-max-options]",e=>{const t=+e.currentTarget.getAttribute("data-menu-max-options"),n=e.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]'),o=t===n.length;e.currentTarget.querySelector("[data-menu-max-options-warning]").hidden=!o;for(const s of e.currentTarget.querySelectorAll('[role="menuitemcheckbox"] input'))s.disabled=o&&!s.checked},{capture:!0}),(0,u.N7)("details > details-menu",{subscribe(e){const t=e.closest("details");return(0,q.RB)(t,"toggle",Vr)}});async function Vr({currentTarget:e}){const t=e,n=t.hasAttribute("open");(0,c.f)(t,n?"menu:activate":"menu:deactivate"),await(0,x.gJ)(),(0,c.f)(t,n?"menu:activated":"menu:deactivated")}r(Vr,"fireMenuToggleEvent"),(0,u.N7)("details > details-menu[preload]:not([src])",{subscribe(e){return(0,q.RB)(e.parentElement,"mouseover",function(t){const o=t.currentTarget.querySelector("include-fragment[src]");o==null||o.load()})}});const Jt=new WeakMap,ro=["input[type=submit][data-disable-with]","button[data-disable-with]"].join(", ");function Xr(e){return e instanceof HTMLInputElement?e.value||"Submit":e.innerHTML||""}r(Xr,"getButtonText");function io(e,t){e instanceof HTMLInputElement?e.value=t:e.innerHTML=t}r(io,"disable_with_setButtonText"),(0,c.on)("submit","form",function(e){for(const t of e.currentTarget.querySelectorAll(ro)){Jt.set(t,Xr(t));const n=t.getAttribute("data-disable-with");n&&io(t,n),t.disabled=!0}},{capture:!0});function ao(e){for(const t of e.querySelectorAll(ro)){const n=Jt.get(t);n!=null&&(io(t,n),(!t.hasAttribute("data-disable-invalid")||e.checkValidity())&&(t.disabled=!1),Jt.delete(t))}}r(ao,"revert"),(0,c.on)("deprecatedAjaxComplete","form",function({currentTarget:e,target:t}){e===t&&ao(e)}),(0,A.uT)(ao),(0,u.N7)(".js-document-dropzone",{constructor:HTMLElement,add(e){document.body.addEventListener("dragstart",fo),document.body.addEventListener("dragend",mo),document.body.addEventListener("dragenter",lt),document.body.addEventListener("dragover",lt),document.body.addEventListener("dragleave",lo),e.addEventListener("drop",uo)},remove(e){document.body.removeEventListener("dragstart",fo),document.body.removeEventListener("dragend",mo),document.body.removeEventListener("dragenter",lt),document.body.removeEventListener("dragover",lt),document.body.removeEventListener("dragleave",lo),e.removeEventListener("drop",uo)}});function co(e){return Array.from(e.types).indexOf("Files")>=0}r(co,"hasFile");let Yt=null;function lt(e){if(Qt)return;const t=e.currentTarget;Yt&&window.clearTimeout(Yt),Yt=window.setTimeout(()=>t.classList.remove("dragover"),200);const n=e.dataTransfer;!n||!co(n)||(n.dropEffect="copy",t.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}r(lt,"onDragenter");function lo(e){e.target instanceof Element&&e.target.classList.contains("js-document-dropzone")&&e.currentTarget.classList.remove("dragover")}r(lo,"onBodyDragleave");function uo(e){const t=e.currentTarget;t.classList.remove("dragover"),document.body.classList.remove("dragover");const n=e.dataTransfer;!n||!co(n)||((0,c.f)(t,"document:drop",{transfer:n}),e.stopPropagation(),e.preventDefault())}r(uo,"onDrop");let Qt=!1;function fo(){Qt=!0}r(fo,"onDragstart");function mo(){Qt=!1}r(mo,"onDragend");var ut=f(69567);async function po(e,t){const o=new TextEncoder().encode(t),{seal:s}=await Promise.all([f.e("vendors-node_modules_blakejs_index_js-node_modules_tweetnacl_nacl-fast_js"),f.e("_empty-file_js-app_assets_modules_github_tweetsodium_ts")]).then(f.bind(f,6743));return s(o,e)}r(po,"encrypt");function ho(e){const t=atob(e).split("").map(n=>n.charCodeAt(0));return Uint8Array.from(t)}r(ho,"decode");function go(e){let t="";for(const n of e)t+=String.fromCharCode(n);return btoa(t)}r(go,"encode"),(0,c.on)("submit","form.js-encrypt-submit",async function(e){const t=e.currentTarget;if(e.defaultPrevented||!t.checkValidity())return;const n=t.elements.namedItem("secret_value");if(n.disabled=!0,!n.value)return;e.preventDefault();const o=ho(t.getAttribute("data-public-key"));t.elements.namedItem("encrypted_value").value=go(await po(o,n.value)),t.submit()}),(0,c.on)("submit","form.js-encrypt-bulk-submit",bo(!0)),(0,c.on)("submit","form.js-encrypt-bulk-submit-enable-empty",bo(!1));function bo(e){return async function(t){const n=t.currentTarget;if(t.defaultPrevented||!n.checkValidity())return;const o=ho(n.getAttribute("data-public-key"));t.preventDefault();for(const s of n.elements){const i=s;if(i.id.endsWith("secret")){if(i.disabled=!0,i.required&&!i.value){const l=`${i.name} is invalid!`,y=document.querySelector("template.js-flash-template");y.after(new ut.R(y,{className:"flash-error",message:l}));return}const a=`${i.name}_encrypted_value`;if(!i.value){n.elements.namedItem(a).disabled=e;continue}n.elements.namedItem(a).value=go(await po(o,i.value))}}n.submit()}}r(bo,"submitBulk");var Se=f(29946);let dt;function ft(e,t){const n=document.querySelector('.js-site-favicon[type="image/svg+xml"]'),o=document.querySelector('.js-site-favicon[type="image/png"]');t||(t="light");const s=t==="light"?"":"-dark";if(n&&o)if(dt==null&&(dt=n.href),e){e=e.substr(0,e.lastIndexOf(".")),e=`${e}${s}.svg`,n.href=e;const i=n.href.substr(0,n.href.lastIndexOf("."));o.href=`${i}.png`}else{const i=n.href.indexOf("-dark.svg"),a=n.href.substr(0,i!==-1?i:n.href.lastIndexOf("."));n.href=`${a}${s}.svg`,o.href=`${a}${s}.png`}}r(ft,"updateFavicon");function mt(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}r(mt,"prefersDarkColorScheme");function Gr(){dt!=null&&ft(dt,mt()?"dark":"light")}r(Gr,"resetIcon");function yo(){mt()&&ft(void 0,"dark")}r(yo,"updateDarkFavicon"),(0,u.N7)("[data-favicon-override]",{add(e){const t=e.getAttribute("data-favicon-override");setTimeout(()=>ft(t,mt()?"dark":"light"))},remove(){Gr()}}),yo(),document.addEventListener(Se.QE.SUCCESS,yo),window.matchMedia("(prefers-color-scheme: dark)").addListener(()=>{ft(void 0,mt()?"dark":"light")}),(0,u.N7)(".js-feature-preview-indicator-container",e=>{Zr(e)});async function Zr(e){const t=e.getAttribute("data-feature-preview-indicator-src"),n=await Jr(t),o=e.querySelectorAll(".js-feature-preview-indicator");for(const s of o)s.hidden=!n}r(Zr,"fetchFeaturePreviewIndicator");async function Jr(e){try{const t=await fetch(e,{headers:{Accept:"application/json"}});return t.ok?(await t.json()).show_indicator:!1}catch{return!1}}r(Jr,"fetchIndicator");var Te=f(12737),he=f(29719);(0,c.on)("click","[data-feature-preview-trigger-url]",async e=>{const t=e.currentTarget,n=t.getAttribute("data-feature-preview-trigger-url"),o=await(0,Te.W)({content:(0,he.a)(document,n),dialogClass:"feature-preview-dialog"}),s=t.getAttribute("data-feature-preview-close-details"),i=t.getAttribute("data-feature-preview-close-hmac");o.addEventListener("dialog:remove",()=>{(0,pe.b)({hydroEventPayload:s,hydroEventHmac:i},!0)});const a=document.querySelectorAll(".js-feature-preview-indicator");for(const l of a)l.hidden=!0}),(0,A.AC)(".js-feature-preview-unenroll",async(e,t)=>{await t.text();const n=e.querySelector(".js-feature-preview-slug").value;(0,c.f)(e,`feature-preview-unenroll:${n}`)}),(0,A.AC)(".js-feature-preview-enroll",async(e,t)=>{await t.text();const n=e.querySelector(".js-feature-preview-slug").value;(0,c.f)(e,`feature-preview-enroll:${n}`)});class vo{constructor(t,n){this.attachment=t,this.policy=n}async process(t){var n,o,s,i;const a=window.performance.now(),l=new Headers(this.policy.header||{}),y=new XMLHttpRequest;y.open("POST",this.policy.upload_url,!0);for(const[M,R]of l)y.setRequestHeader(M,R);y.onloadstart=()=>{t.attachmentUploadDidStart(this.attachment,this.policy)},y.upload.onprogress=M=>{if(M.lengthComputable){const R=Math.round(M.loaded/M.total*100);t.attachmentUploadDidProgress(this.attachment,R)}},await Yr(y,Qr(this.attachment,this.policy)),y.status===204?(wo(this.policy),t.attachmentUploadDidComplete(this.attachment,this.policy,{})):y.status===201?(wo(this.policy),t.attachmentUploadDidComplete(this.attachment,this.policy,JSON.parse(y.responseText))):t.attachmentUploadDidError(this.attachment,{status:y.status,body:y.responseText});const N={duration:window.performance.now()-a,size:(o=(n=this.attachment)==null?void 0:n.file)==null?void 0:o.size,fileType:(i=(s=this.attachment)==null?void 0:s.file)==null?void 0:i.type,success:y.status===204||y.status===201};(0,pe.b)({uploadTiming:N},!0)}}r(vo,"AttachmentUpload");function Yr(e,t){return new Promise((n,o)=>{e.onload=()=>n(e),e.onerror=o,e.send(t)})}r(Yr,"send");function Qr(e,t){const n=new FormData;t.same_origin&&n.append("authenticity_token",t.upload_authenticity_token);for(const o in t.form)n.append(o,t.form[o]);return n.append("file",e.file),n}r(Qr,"uploadForm");function wo(e){const t=typeof e.asset_upload_url=="string"?e.asset_upload_url:null,n=typeof e.asset_upload_authenticity_token=="string"?e.asset_upload_authenticity_token:null;if(!(t&&n))return;const o=new FormData;o.append("authenticity_token",n),fetch(t,{method:"PUT",body:o,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}r(wo,"markComplete");async function ei(e,t){const n=si(e,t);for(const o of e.attachments){const s=await ti(e,o,t);if(!s)return;try{await new vo(o,s).process(n)}catch{(0,c.f)(t,"upload:error",{batch:e,attachment:o}),Ae(t,"is-failed");return}}}r(ei,"upload");async function ti(e,t,n){const o=ni(t,n),s=[];(0,c.f)(n,"upload:setup",{batch:e,attachment:t,form:o,preprocess:s});try{await Promise.all(s);const i=await fetch(oi(o,n));if(i.ok)return await i.json();(0,c.f)(n,"upload:invalid",{batch:e,attachment:t});const a=await i.text(),l=i.status,{state:y,messaging:w}=Eo({status:l,body:a},t.file);Ae(n,y,w)}catch{(0,c.f)(n,"upload:invalid",{batch:e,attachment:t}),Ae(n,"is-failed")}return null}r(ti,"validate");function ni(e,t){const n=t.querySelector(".js-data-upload-policy-url-csrf").value,o=t.getAttribute("data-upload-repository-id"),s=t.getAttribute("data-subject-type"),i=t.getAttribute("data-subject-param"),a=e.file,l=new FormData;return l.append("name",a.name),l.append("size",String(a.size)),l.append("content_type",a.type),l.append("authenticity_token",n),s&&l.append("subject_type",s),i&&l.append("subject",i),o&&l.append("repository_id",o),e.directory&&l.append("directory",e.directory),l}r(ni,"policyForm");function oi(e,t){return new Request(t.getAttribute("data-upload-policy-url"),{method:"POST",body:e,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}r(oi,"policyRequest");function si(e,t){return{attachmentUploadDidStart(n,o){n.saving(0),Ae(t,"is-uploading"),(0,c.f)(t,"upload:start",{batch:e,attachment:n,policy:o})},attachmentUploadDidProgress(n,o){n.saving(o),(0,c.f)(t,"upload:progress",{batch:e,attachment:n})},attachmentUploadDidComplete(n,o,s){n.saved(ri(s,o)),(0,c.f)(t,"upload:complete",{batch:e,attachment:n}),e.isFinished()&&Ae(t,"is-default")},attachmentUploadDidError(n,o){(0,c.f)(t,"upload:error",{batch:e,attachment:n});const{state:s}=Eo(o);Ae(t,s)}}}r(si,"createDelegate");function ri(e,t){const n=(e.id==null?null:String(e.id))||(t.asset.id==null?null:String(t.asset.id)),o=(typeof e.href=="string"?e.href:null)||(typeof t.asset.href=="string"?t.asset.href:null);return{id:n,href:o,name:t.asset.name}}r(ri,"savedAttributes");function Eo(e,t){if(e.status===400)return{state:"is-bad-file"};if(e.status!==422)return{state:"is-failed"};const n=JSON.parse(e.body);if(!n||!n.errors)return{state:"is-failed"};for(const o of n.errors)switch(o.field){case"size":{const s=t?t.size:null;return s!=null&&s===0?{state:"is-empty"}:{state:"is-too-big",messaging:{message:ii(o.message),target:".js-upload-too-big"}}}case"file_count":return{state:"is-too-many"};case"width":case"height":return{state:"is-bad-dimensions"};case"name":return o.code==="already_exists"?{state:"is-duplicate-filename"}:{state:"is-bad-file"};case"content_type":return{state:"is-bad-file"};case"uploader_id":return{state:"is-bad-permissions"};case"repository_id":return{state:"is-repository-required"};case"format":return{state:"is-bad-format"}}return{state:"is-failed"}}r(Eo,"policyErrorState");const ii=r(e=>e.startsWith("size")?e.substring(5):e,"trimSizeErrorMessage"),ai=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format"];function Ae(e,t,n){if(n){const{message:o,target:s}=n,i=e.querySelector(s);i&&(i.innerHTML=o)}e.classList.remove(...ai),e.classList.add(t)}r(Ae,"resetState");class Lo{constructor(t){this.attachments=t,this.size=this.attachments.length,this.total=en(this.attachments,n=>n.file.size)}percent(){const t=r(o=>o.file.size*o.percent/100,"bytes"),n=en(this.attachments,t);return Math.round(n/this.total*100)}uploaded(){const t=r(n=>n.isSaved()?1:0,"value");return en(this.attachments,t)}isFinished(){return this.attachments.every(t=>t.isSaved())}}r(Lo,"Batch");function en(e,t){return e.reduce((n,o)=>n+t(o),0)}r(en,"sum"),(0,u.N7)("file-attachment[hover]",{add(e){e.classList.add("dragover")},remove(e){e.classList.remove("dragover")}}),(0,c.on)("file-attachment-accept","file-attachment",function(e){const{attachments:t}=e.detail;t.length===0&&(Ae(e.currentTarget,"is-hidden-file"),e.preventDefault())}),(0,c.on)("file-attachment-accepted","file-attachment",function(e){const t=e.currentTarget.querySelector(".drag-and-drop");if(t&&t.hidden)return;const{attachments:n}=e.detail;ei(new Lo(n),e.currentTarget)});let jo=0;(0,u.N7)("file-attachment",{add(e){jo++===0&&(document.addEventListener("drop",To),document.addEventListener("dragover",Ao));const t=e.closest("form");t&&t.addEventListener("reset",Co)},remove(e){--jo===0&&(document.removeEventListener("drop",To),document.removeEventListener("dragover",Ao));const t=e.closest("form");t&&t.removeEventListener("reset",Co)}});function So(e){return Array.from(e.types).indexOf("Files")>=0}r(So,"file_attachment_hasFile");function To(e){const t=e.dataTransfer;t&&So(t)&&e.preventDefault()}r(To,"onDocumentDrop");function Ao(e){const t=e.dataTransfer;t&&So(t)&&e.preventDefault()}r(Ao,"onDocumentDragover");function Co({currentTarget:e}){const t=e.querySelector("file-attachment");Ae(t,"is-default")}r(Co,"onFormReset");var ci=f(13002);(0,c.on)("filter-input-updated","filter-input",e=>{const t=e.currentTarget.input;if(!(document.activeElement&&document.activeElement===t))return;const{count:n,total:o}=e.detail;(0,p.x)(`Found ${n} out of ${o} ${o===1?"item":"items"}`)}),(0,c.on)("toggle","details",e=>{setTimeout(()=>li(e.target),0)},{capture:!0}),(0,c.on)("tab-container-changed","tab-container",e=>{if(!(e.target instanceof HTMLElement))return;const{relatedTarget:t}=e.detail,n=e.target.querySelector("filter-input");n instanceof ci.Z&&n.setAttribute("aria-owns",t.id)},{capture:!0});function li(e){const t=e.querySelector("filter-input");t&&!e.hasAttribute("open")&&t.reset()}r(li,"resetFilter");function ko(e,t,n,o={}){var s;const i=(s=o.limit)!=null?s:1/0;let a=0;for(const l of e.children){const y=n(l,t);y==null||(y&&a<i?(a++,xo(l,!0)):xo(l,!1))}return a}r(ko,"filterList");function xo(e,t){e.style.display=t?"":"none",e.hidden=!t}r(xo,"toggle");var ge=f(8089),Ze=f(98670);const Mo=new WeakMap;function qo(e,t,n){const o=t.toLowerCase(),s=n.limit;let i=Mo.get(e);const a=e.querySelector('input[type="radio"]:checked'),l=Array.from(e.children);i||(i=Array.from(e.children),Mo.set(e,i));for(const B of l)e.removeChild(B),B instanceof HTMLElement&&(B.style.display="");const y=o?(0,Ze.W)(i,n.sortKey,ge.qu):i,w=s==null?y:y.slice(0,s),T=w.length,N=document.createDocumentFragment();for(const B of w)N.appendChild(B);let M=!1;if(a instanceof HTMLInputElement)for(const B of N.querySelectorAll('input[type="radio"]:checked'))B instanceof HTMLInputElement&&B.value!==a.value&&(B.checked=!1,M=!0);e.appendChild(N),a&&M&&a.dispatchEvent(new Event("change",{bubbles:!0}));const R=e.querySelectorAll(".js-divider");for(const B of R)B.classList.toggle("d-none",Boolean(o&&o.trim().length>0));return T}r(qo,"filterSortList");var tn=f(25833);let nn=new AbortController;const Je=new WeakMap,Ro=new WeakMap,Io=new WeakMap;async function ui(e,t,n,o){n&&!Je.has(e)&&mi(e);const s=await di(e,t,n,o);return e.hasAttribute("data-filterable-data-pre-rendered")&&(s.suggestions=fi(e,n)),s}r(ui,"getData");async function di(e,t,n,o){const s=new URL(e.getAttribute("data-filterable-src")||"",window.location.origin);if(s.pathname==="/")throw new Error("could not get data-filterable-src");if(n){const i=Je.get(e),a=t.trim();if(i.lastSearchText===a)return i.lastSearchResult;const l=i.lastSearchText===void 0;i.lastSearchText=a;const y=e.getAttribute("data-filterable-for")||"",w=document.getElementById(y);if(nn.abort(),a===""&&!o)i.lastSearchResult={suggestions:[],users:[]};else{nn=new AbortController;const T={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},signal:nn.signal},N=s.searchParams||new URLSearchParams;N.set("q",t),N.set("typeAhead","true"),s.search=N.toString(),l||w==null||w.classList.add("is-loading");const M=await fetch(s.toString(),T);i.lastSearchResult=await M.json()}return w==null||w.classList.remove("is-loading"),i.lastSearchResult}else{const i={headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}};return await(await fetch(s.toString(),i)).json()}}r(di,"fetchQueryIfNeeded");function fi(e,t){const n=[],o=e.querySelectorAll(".js-filterable-suggested-user");if(o.length>0)for(const s of e.querySelectorAll(".js-filterable-suggested-user"))s.classList.remove("js-filterable-suggested-user"),n.push({name:s.querySelector(".js-description").textContent,login:s.querySelector(".js-username").textContent,selected:s.getAttribute("aria-checked")==="true",element:s,suggestion:!0});if(t){const s=Je.get(e);return o.length>0&&(s.cachedSuggestions=n,s.userResultCache.clear()),s.cachedSuggestions}return n}r(fi,"getPreRenderedUsers");function mi(e){Je.set(e,{lastSearchResult:{suggestions:[],users:[]},cachedSuggestions:[],userResultCache:new Map})}r(mi,"initializeTypeAheadCache");async function pi(e,t,n){var o,s;Io.set(e,t),await(0,tn.Z)();const i=e.hasAttribute("data-filterable-show-suggestion-header"),a=e.hasAttribute("data-filterable-type-ahead"),l=e.hasAttribute("data-filterable-type-ahead-query-on-empty");let y=Ro.get(e);if(!y)try{y=await ui(e,t,a,l),a||Ro.set(e,y)}catch($){if($.name==="AbortError")return-1;throw $}if(!a&&Io.get(e)!==t)return-1;const w=n.limit,T=e.querySelector("template"),N={};for(const $ of e.querySelectorAll("input[type=hidden]"))N[`${$.name}${$.value}`]=$;let M=T.nextElementSibling;for(;M;){const $=M;M=$.nextElementSibling,$ instanceof HTMLElement&&(a||$.getAttribute("aria-checked")==="true"||$.classList.contains("select-menu-divider"))?$.hidden=!0:$.remove()}let R=0;const B=t.trim()==="",Q=document.createDocumentFragment(),Y=e.querySelector(".js-divider-suggestions"),oe=e.querySelector(".js-divider-rest"),le=Je.get(e);function de($){const X=`${$.login} ${$.name}`.toLowerCase().trim().includes(t),z=!(w!=null&&R>=w)&&X;if(z||$.selected||$.suggestion){const G=hi($,T,N,le);G.hidden=!z,z&&R++,Q.appendChild(G)}}r(de,"addItem");let ee=!1;if(Y&&(((o=y.suggestions)==null?void 0:o.length)>0||i&&y.users.length>0)){const $=(s=y.suggestions)!=null?s:[],X=$.filter(G=>G.selected),z=$.filter(G=>!G.selected);for(const G of X)de(G);Q.appendChild(Y);const te=R;for(const G of z)de(G);ee=R>te,Y.hidden=!ee||a&&!B,i&&y.users.length>0&&(Y.hidden=!B)}oe&&Q.appendChild(oe);const Ne=R;for(const $ of y.users)de($);return oe&&(oe.hidden=Ne===R||!ee),e.append(Q),R}r(pi,"substringMemoryFilterList");function hi(e,t,n,o){if(e.element!=null)return e.element;if(o==null?void 0:o.userResultCache.has(e.id))return o.userResultCache.get(e.id);const s=t.content.cloneNode(!0),i=s.querySelector("input[type=checkbox], input[type=radio]");e.type&&(i.name=`reviewer_${e.type}_ids[]`),i.value=e.id;const a=`${i.name}${e.id}`;let l=e.selected;n[a]&&(l=!0,n[a].remove(),delete n[a]);const y=s.querySelector("[role^=menuitem]");l&&(y.setAttribute("aria-checked","true"),i.checked=!0),e.disabled&&y.setAttribute("aria-disabled","true");const w=s.querySelector(".js-username");w&&(w.textContent=e.login);const T=s.querySelector(".js-description");T&&(T.textContent=e.name);const N=s.querySelector(".js-extended-description");N&&(e.description?N.textContent=e.description:N.remove());const M=s.querySelector(".js-avatar");return M.className=`${M.className} ${e.class}`,M.src=e.avatar,e.element=y,o==null||o.userResultCache.set(e.id,y),e.element}r(hi,"createReviewerItem"),(0,u.N7)(".js-filterable-field",{constructor:HTMLInputElement,initialize(e){e.autocomplete||(e.autocomplete="off");const t=e.hasAttribute("type-ahead")?200:null;let n=e.value;async function o(i){n!==i.value&&(n=i.value,await(0,x.gJ)(),(0,c.f)(i,"filterable:change"))}r(o,"onInputChange");async function s(){n=e.value,await(0,x.gJ)(),(0,c.f)(e,"filterable:change")}return r(s,"onFocus"),{add(i){i.addEventListener("focus",s),(0,K.oq)(i,o,{wait:t}),document.activeElement===i&&s()},remove(i){i.removeEventListener("focus",s),(0,K.iU)(i,o)}}}}),(0,c.on)("filterable:change",".js-filterable-field",async function(e){const t=e.currentTarget,n=t.value.trim().toLowerCase(),o=document.querySelectorAll(`[data-filterable-for="${t.id}"]`);for(const s of o){const i=await bi(s,n);if(i===-1)return;document.activeElement&&t===document.activeElement&&(0,p.x)(`${i} results found.`),s.dispatchEvent(new CustomEvent("filterable:change",{bubbles:!0,cancelable:!1,detail:{inputField:t}}))}});function gi(e){return e.hasAttribute("data-filter-value")?e.getAttribute("data-filter-value").toLowerCase().trim():e.textContent.toLowerCase().trim()}r(gi,"defaultText");async function bi(e,t){const n=parseInt(e.getAttribute("data-filterable-limit"),10)||null;let o=0;switch(e.getAttribute("data-filterable-type")){case"fuzzy-prio":{const s=t.toLowerCase();o=qo(e,t,{limit:n,sortKey:r(a=>{const l=a.getAttribute("data-prio-filter-value").toLowerCase().trim(),y=a.textContent.toLowerCase().trim(),w=(0,ge.EW)(l,s)*2;let T=(0,ge.EW)(y,s);return w>T&&(T=w),T>0?{score:T,text:y}:null},"sortKey")});break}case"fuzzy":{const s=t.toLowerCase();o=qo(e,t,{limit:n,sortKey:r(a=>{const l=gi(a),y=(0,ge.EW)(l,s);return y>0?{score:y,text:l}:null},"sortKey")});break}case"substring":o=ko(e,t.toLowerCase(),vi,{limit:n});break;case"substring-memory":o=await pi(e,t,{limit:n});break;default:o=ko(e,t.toLowerCase(),yi,{limit:n});break}return e.classList.toggle("filterable-active",t.length>0),e.classList.toggle("filterable-empty",o===0),o}r(bi,"filter");function yi(e,t){return e.textContent.toLowerCase().trim().startsWith(t)}r(yi,"prefix");function vi(e,t){return e.hasAttribute("data-skip-substring-filter")||e.classList.contains("select-menu-no-results")?null:(e.querySelector("[data-filterable-item-text]")||e).textContent.toLowerCase().trim().includes(t)}r(vi,"substring"),(0,c.on)("filterable:change","details-menu .select-menu-list",function(e){const t=e.currentTarget,n=t.querySelector(".js-new-item-form");n&&wi(t,n,e.detail.inputField.value)});function wi(e,t,n){const o=n.length>0&&!Ei(e,n);if(e.classList.toggle("is-showing-new-item-form",o),!o)return;t.querySelector(".js-new-item-name").textContent=n;const s=t.querySelector(".js-new-item-value");(s instanceof HTMLInputElement||s instanceof HTMLButtonElement)&&(s.value=n)}r(wi,"toggleForm");function Ei(e,t){for(const n of e.querySelectorAll("[data-menu-button-text]"))if(n.textContent.toLowerCase().trim()===t.toLowerCase())return!0;return!1}r(Ei,"itemExists"),(0,u.N7)("tab-container .select-menu-list .filterable-empty, details-menu .select-menu-list .filterable-empty",{add(e){e.closest(".select-menu-list").classList.add("filterable-empty")},remove(e){e.closest(".select-menu-list").classList.remove("filterable-empty")}});const Po=navigator.userAgent.match(/Firefox\/(\d+)/);Po&&Number(Po[1])<76&&((0,u.N7)('details-menu label[tabindex][role^="menuitem"]',e=>{const t=e.querySelector("input");if(!t)return;const n=e.classList.contains("select-menu-item"),o=t.classList.contains("d-none"),s=n||o||t.hidden;n&&t.classList.add("d-block"),o&&t.classList.remove("d-none"),s&&(t.classList.add("sr-only"),t.hidden=!1),e.removeAttribute("tabindex")}),(0,c.on)("focus",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',e=>{const t=e.currentTarget.closest("label");t.classList.contains("select-menu-item")&&t.classList.add("navigation-focus"),t.classList.contains("SelectMenu-item")&&t.classList.add("hx_menuitem--focus"),t.classList.contains("dropdown-item")&&t.classList.add("hx_menuitem--focus"),e.currentTarget.addEventListener("blur",()=>{t.classList.contains("select-menu-item")&&t.classList.remove("navigation-focus"),t.classList.contains("SelectMenu-item")&&t.classList.remove("hx_menuitem--focus"),t.classList.contains("dropdown-item")&&t.classList.remove("hx_menuitem--focus")},{once:!0})},{capture:!0}),(0,j.w4)("keydown",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',async function(e){if(_o(e))e.currentTarget instanceof Element&&Li(e.currentTarget);else if(e.key==="Enter"){const t=e.currentTarget;e.preventDefault(),await(0,x.gJ)(),t instanceof HTMLInputElement&&t.click()}}),(0,c.on)("blur",'details-menu label input[role="menuitemradio"], details-menu label input[role="menuitemcheckbox"]',e=>{Do(e.currentTarget)},{capture:!0}),(0,j.w4)("keyup",'details-menu label[role="menuitemradio"] input, details-menu label[role="menuitemcheckbox"] input',e=>{!_o(e)||e.currentTarget instanceof Element&&Do(e.currentTarget)}));function _o(e){return e.key==="ArrowDown"||e.key==="ArrowUp"}r(_o,"isArrowKeys");function Li(e){const t=e.closest("label");t.hasAttribute("data-role")||t.setAttribute("data-role",t.getAttribute("role")),e.setAttribute("role",t.getAttribute("data-role")),t.removeAttribute("role")}r(Li,"switchRoleToInputForNavigation");function Do(e){const t=e.closest("label");t.hasAttribute("data-role")||t.setAttribute("data-role",t.getAttribute("role")),t.setAttribute("role",t.getAttribute("data-role")),e.removeAttribute("role")}r(Do,"switchRoleBackToOriginalState");var on=f(11820);function Ho(){document.firstElementChild.classList.contains("js-skip-scroll-target-into-view")||(0,on.lA)(document)&&(0,on.kc)(document)}r(Ho,"scrollTargetIntoViewIfNeeded"),(0,Gt.Z)(Ho),(0,c.on)("click",'a[href^="#"]',function(e){const{currentTarget:t}=e;t instanceof HTMLAnchorElement&&setTimeout(Ho,0)}),(0,c.on)("click",".js-flash-close",function(e){const t=e.currentTarget.closest(".flash-messages");e.currentTarget.closest(".flash").remove(),t&&!t.querySelector(".flash")&&t.remove()});const ji=["flash-notice","flash-error","flash-message","flash-warn"];function Si(e){for(const{key:t,value:n}of ji.flatMap(Xe.$1)){(0,Xe.kT)(t);let o;try{o=atob(decodeURIComponent(n))}catch{continue}e.after(new ut.R(e,{className:t,message:o}))}}r(Si,"displayFlash"),(0,u.N7)("template.js-flash-template",{constructor:HTMLTemplateElement,add(e){Si(e)}});const sn=new WeakMap;document.addEventListener("focus",function(e){const t=e.target;t instanceof Element&&!sn.get(t)&&((0,c.f)(t,"focusin:delay"),sn.set(t,!0))},{capture:!0}),document.addEventListener("blur",function(e){setTimeout(function(){const t=e.target;t instanceof Element&&t!==document.activeElement&&((0,c.f)(t,"focusout:delay"),sn.delete(t))},200)},{capture:!0}),(0,A.AC)(".js-form-toggle-target",async function(e,t){try{await t.text()}catch{return}const n=e.closest(".js-form-toggle-container");n.querySelector(".js-form-toggle-target[hidden]").hidden=!1,e.hidden=!0});var Ti=f(99254);function Ai(e){e instanceof CustomEvent&&(0,p.x)(`${e.detail} results found.`)}r(Ai,"noticeHandler"),(0,u.N7)("fuzzy-list",{constructor:Ti.Z,subscribe:e=>(0,q.RB)(e,"fuzzy-list-sorted",Ai)}),(0,c.on)("click",".email-hidden-toggle",function(e){const t=e.currentTarget.nextElementSibling;t instanceof HTMLElement&&(t.style.display="",t.classList.toggle("expanded"),e.preventDefault())});var Jl=f(30479);(0,u.N7)(".js-hook-url-field",{constructor:HTMLInputElement,add(e){function t(){const n=e.form;if(!n)return;let o;try{o=new URL(e.value)}catch{}const s=n.querySelector(".js-invalid-url-notice");s instanceof HTMLElement&&(s.hidden=!!(e.value===""||o&&/^https?:/.test(o.protocol)));const i=n.querySelector(".js-insecure-url-notice");i instanceof HTMLElement&&o&&e.value&&(i.hidden=/^https:$/.test(o.protocol));const a=n.querySelector(".js-ssl-hook-fields");a instanceof HTMLElement&&(a.hidden=!(o&&o.protocol==="https:"))}r(t,"checkUrl"),(0,K.oq)(e,t),t()}});function No(e){const t=document.querySelectorAll(".js-hook-event-checkbox");for(const n of t)n.checked=n.matches(e)}r(No,"chooseEvents"),(0,c.on)("change",".js-hook-event-choice",function(e){const t=e.currentTarget,n=t.checked&&t.value==="custom",o=t.closest(".js-hook-events-field");if(o&&o.classList.toggle("is-custom",n),t.checked)if(n){const s=document.querySelector(".js-hook-wildcard-event");s.checked=!1}else t.value==="push"?No('[value="push"]'):t.value==="all"&&No(".js-hook-wildcard-event")}),(0,c.on)("click",".js-hook-deliveries-pagination-button",async function(e){const t=e.currentTarget;t.disabled=!0;const n=t.parentElement,o=t.getAttribute("data-url");n.before(await(0,he.a)(document,o)),n.remove()}),(0,A.AC)(".js-redeliver-hook-form",async function(e,t){let n;try{n=await t.html()}catch{e.classList.add("failed");return}document.querySelector(".js-hook-deliveries-container").replaceWith(n.html)});var Fe=f(11793);(0,u.N7)("[data-hotkey]",{constructor:HTMLElement,add(e){if((0,ct.Ty)())(0,Fe.N9)(e);else{const t=e.getAttribute("data-hotkey");if(t){const n=Ci(t);n.length>0&&(e.setAttribute("data-hotkey",n),(0,Fe.N9)(e))}}},remove(e){(0,Fe.Tz)(e)}});function Ci(e){return e.split(",").filter(n=>(0,ct.YE)(n)).join(",")}r(Ci,"filterOutCharacterKeyShortcuts");var rn=f(53692);let se=document.querySelector(".js-hovercard-content");(0,u.N7)(".js-hovercard-content",e=>{se=e});const ki=(0,Re.Z)(he.a);let Ce,pt=null,an,cn=0;const ln=12,un=24,Oo=un-7,Bo=16,xi=100,Mi=250;function Ie(e){return"Popover-message--"+e}r(Ie,"contentClass");function qi(e){setTimeout(()=>{if(document.body&&document.body.contains(e)){const t=e.querySelector("[data-hydro-view]");t instanceof HTMLElement&&(0,rn.Fk)(t)}},500)}r(qi,"trackLoad");function Ue(){se instanceof HTMLElement&&(se.style.display="none",se.children[0].innerHTML="",pt=null,Ce=null)}r(Ue,"hideCard");function Ri(e){const t=e.getClientRects();let n=t[0]||e.getBoundingClientRect()||{top:0,left:0,height:0,width:0};if(t.length>0){for(const o of t)if(o.left<cn&&o.right>cn){n=o;break}}return n}r(Ri,"selectRectNearestMouse");function Ii(e){const{width:t,height:n}=se.getBoundingClientRect(),{left:o,top:s,height:i,width:a}=Ri(e),l=s>n;if(e.classList.contains("js-hovercard-left")){const w=o-t-ln,T=s+i/2;return{containerTop:l?T-n+Oo+Bo/2:T-Oo-Bo/2,containerLeft:w,contentClassSuffix:l?"right-bottom":"right-top"}}else{const w=window.innerWidth-o>t,T=o+a/2,N=w?T-un:T-t+un;return{containerTop:l?s-n-ln:s+i+ln,containerLeft:N,contentClassSuffix:l?w?"bottom-left":"bottom-right":w?"top-left":"top-right"}}}r(Ii,"calculatePositions");function Pi(e,t){if(!(se instanceof HTMLElement))return;se.style.visibility="hidden",se.style.display="block",t.classList.remove(Ie("bottom-left"),Ie("bottom-right"),Ie("right-top"),Ie("right-bottom"),Ie("top-left"),Ie("top-right"));const{containerTop:n,containerLeft:o,contentClassSuffix:s}=Ii(e);t.classList.add(Ie(s)),se.style.top=`${n+window.pageYOffset}px`,se.style.left=`${o+window.pageXOffset}px`,Ui(e,se),se.style.visibility=""}r(Pi,"positionCard");function _i(e,t){if(!(se instanceof HTMLElement))return;const n=se.children[0];n.innerHTML="";const o=document.createElement("div");for(const s of e.children)o.appendChild(s.cloneNode(!0));n.appendChild(o),Pi(t,n),qi(o),se.style.display="block"}r(_i,"showCard");function Di(e){const t=e.closest("[data-hovercard-subject-tag]");if(t)return t.getAttribute("data-hovercard-subject-tag");const n=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return n?n.getAttribute("content"):null}r(Di,"determineEnclosingSubject");function Hi(e){const t=e.getAttribute("data-hovercard-url");if(t){const n=Di(e);if(n){const o=new URL(t,window.location.origin),s=new URLSearchParams(o.search.slice(1));return s.append("subject",n),s.append("current_path",window.location.pathname+window.location.search),o.search=s.toString(),o.toString()}return t}return""}r(Hi,"hovercardUrlFromTarget");function Ni(e){const t=e.getAttribute("data-hovercard-type");return t==="pull_request"||t==="issue"?!!e.closest("[data-issue-and-pr-hovercards-enabled]"):t==="team"?!!e.closest("[data-team-hovercards-enabled]"):t==="repository"?!!e.closest("[data-repository-hovercards-enabled]"):t==="commit"?!!e.closest("[data-commit-hovercards-enabled]"):t==="project"?!!e.closest("[data-project-hovercards-enabled]"):t==="discussion"?!!e.closest("[data-discussion-hovercards-enabled]"):t==="acv_badge"?!!e.closest("[data-acv-badge-hovercards-enabled]"):t==="sponsors_listing"?!!e.closest("[data-sponsors-listing-hovercards-enabled]"):!0}r(Ni,"hovercardsAreEnabledForType");async function Oi(e,t){if("ontouchstart"in document)return;const o=e.currentTarget;if(e instanceof MouseEvent&&(cn=e.clientX),!(o instanceof Element)||Ce===o||o.closest(".js-hovercard-content")||!Ni(o))return;Ue(),Ce=o,pt=document.activeElement;const s=Hi(o);let i;try{const a=new Promise(l=>window.setTimeout(l,t,0));i=await ki(document,s),await a}catch(a){const l=a.response;if(l&&l.status===404){const y="Hovercard is unavailable";o.setAttribute("aria-label",y),o.classList.add("tooltipped","tooltipped-ne")}else if(l&&l.status===410){const y=await l.clone().json();o.setAttribute("aria-label",y.message),o.classList.add("tooltipped","tooltipped-ne")}return}o===Ce&&(_i(i,o),e instanceof KeyboardEvent&&se instanceof HTMLElement&&se.focus())}r(Oi,"activateFn");function Bi(e){Oi(e,Mi)}r(Bi,"activateWithTimeoutFn");function dn(e){if(!!Ce){if(e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement){const t=e.relatedTarget;if(t.closest(".js-hovercard-content")||t.closest("[data-hovercard-url]"))return}else e instanceof KeyboardEvent&&pt instanceof HTMLElement&&pt.focus();Ue()}}r(dn,"deactivateFn");function $i(e){const t=Ce;an=window.setTimeout(()=>{Ce===t&&dn(e)},xi)}r($i,"deactivateWithTimeoutFn");function $o(e){if(e instanceof KeyboardEvent)switch(e.key){case"Escape":dn(e)}}r($o,"keyupFn");function Fi(){an&&clearTimeout(an)}r(Fi,"cancelDeactivation"),se&&((0,u.N7)("[data-hovercard-url]",{subscribe:e=>(0,q.qC)((0,q.RB)(e,"mouseover",Bi),(0,q.RB)(e,"mouseleave",$i),(0,q.RB)(e,"keyup",$o))}),(0,u.N7)("[data-hovercard-url]",{remove(e){Ce===e&&Ue()}}),(0,u.N7)(".js-hovercard-content",{subscribe:e=>(0,q.qC)((0,q.RB)(e,"mouseover",Fi),(0,q.RB)(e,"mouseleave",dn),(0,q.RB)(e,"keyup",$o))}),(0,c.on)("menu:activated","details",Ue),window.addEventListener("turbo:load",Ue),window.addEventListener("statechange",Ue));function Ui(e,t){const n=e.getAttribute("data-hovercard-z-index-override");n?t.style.zIndex=n:t.style.zIndex="100"}r(Ui,"setZIndexOverride"),async function(){document.addEventListener("pjax:complete",()=>(0,I.Y)({pjax:"true"})),document.addEventListener("soft-nav:success",()=>(0,I.Y)({turbo:"true"})),await me.C,(0,I.Y)()}(),(0,c.on)("click","[data-octo-click]",function(e){const t=e.currentTarget;if(!(t instanceof HTMLElement))return;const n=t.getAttribute("data-octo-click")||"",o={};if(t.hasAttribute("data-ga-click")){const i=t.getAttribute("data-ga-click").split(",");o.category=i[0].trim(),o.action=i[1].trim()}if(t.hasAttribute("data-octo-dimensions")){const s=t.getAttribute("data-octo-dimensions").split(",");for(const i of s){const[a,l]=i.split(/:(.+)/);a&&(o[a]=l||"")}}(0,I.q)(n,o)});var Fo=f(84818);const{getItem:Ql}=(0,Fo.Z)("localStorage");function Uo(e,t){var n,o}r(Uo,"debugPayload"),(0,c.on)("click","[data-hydro-click]",function(e){const t=e.currentTarget,n=t.getAttribute("data-hydro-click")||"",o=t.getAttribute("data-hydro-click-hmac")||"",s=t.getAttribute("data-hydro-client-context")||"";Uo("hydro-debug.click",n),(0,rn.$S)(n,o,s)}),(0,c.on)("click","[data-optimizely-hydro-click]",function(e){const t=e.currentTarget,n=t.getAttribute("data-optimizely-hydro-click")||"",o=t.getAttribute("data-optimizely-hydro-click-hmac")||"";Uo("hydro-debug.optimizely",n),(0,rn.$S)(n,o,"")}),(0,A.AC)(".js-immediate-updates",async function(e,t){let n;try{n=(await t.json()).json.updateContent}catch(o){o.response.json&&(n=o.response.json.updateContent)}if(n)for(const o in n){const s=n[o],i=document.querySelector(o);i instanceof HTMLElement&&(0,qe.Of)(i,s)}}),document.addEventListener("DOMContentLoaded",Wi);async function Wi(){if((0,Me.c)("IMAGE_METRIC_TRACKING")===!1)return;const e=Array.from(document.querySelectorAll("img.js-img-time")).slice(0,5),t=Date.now(),n=[];await Promise.all(e.map(o=>zi(o,t,n))),n.length>0&&(0,pe.b)({transparentRedirectTimings:n})}r(Wi,"onDOMContentLoaded");async function zi(e,t,n){const o=/\/assets\/storage\/user\/([0-9]+)\/files\/([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)/,s=/assets\/([0-9]+)\/([{]?[0-9a-fA-F]{8}-([0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}[}]?)/,i=e.getAttribute("src");if(!i)return;const a=new URL(i,window.location.origin),l=o.test(a.pathname)?o:s,[,y,w]=a.pathname.match(l)||[];if(!y||!w)return;await fetch(`/assets/measure/${y}/${w}`);const N={duration:Date.now()-t,fileGUID:w,userID:y};n.push(N)}r(zi,"measureRedirectTiming"),(0,u.N7)("[data-indeterminate]",{constructor:HTMLInputElement,initialize(e){e.indeterminate=!0}});var Ki=f(51244);function Vi(){f.e("app_assets_modules_github_jump-to_ts").then(f.bind(f,35653))}r(Vi,"load"),(0,u.N7)(".js-jump-to-field",{constructor:HTMLInputElement,add(e){e.addEventListener("focusin",Vi,{once:!0}),(0,Ki.Nc)(window.location.pathname)}});let fn=!1;async function Wo(){if(fn)return;fn=!0;const t={contexts:document.querySelector("meta[name=github-keyboard-shortcuts]").content},n=`/site/keyboard_shortcuts?${new URLSearchParams(t).toString()}`,o=await(0,Te.W)({content:(0,he.a)(document,n),labelledBy:"keyboard-shortcuts-heading"});o.style.width="800px",o.addEventListener("dialog:remove",function(){fn=!1},{once:!0})}r(Wo,"showKeyboardShortcuts"),(0,c.on)("click",".js-keyboard-shortcuts",Wo),document.addEventListener("keydown",e=>{e instanceof KeyboardEvent&&(!(0,ct.Zf)(e)||e.target instanceof Node&&(0,L.sw)(e.target)||(0,Fe.EL)(e)==="Shift+?"&&Wo())}),(0,u.N7)(".js-modifier-key",{constructor:HTMLElement,add(e){if(/Macintosh/.test(navigator.userAgent)){let t=e.textContent;t&&(t=t.replace(/ctrl/,"\u2318"),t=t.replace(/alt/,"\u2325"),e.textContent=t)}}}),(0,u.N7)(".js-modifier-label-key",{add(e){var t;let n=(t=e.textContent)==null?void 0:t.replace(/ctrl/i,"Ctrl");!n||(/Macintosh/.test(navigator.userAgent)&&(n=n.replace(/ctrl/i,"Cmd"),n=n.replace(/alt/i,"Option")),e.textContent=n)}});function ht(e){const t=e.currentTarget;if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=parseInt(t.getAttribute("data-input-max-length")||"",10),o=parseInt(t.getAttribute("data-warning-length")||"",10)||5,i=t.value.replace(/(\r\n|\n|\r)/g,`\r
`);let a=n-i.length;if(a<=0){let T=i.substr(0,n);T.endsWith("\r")?(T=T.substr(0,n-1),a=1):a=0,t.value=T}const l=t.getAttribute("data-warning-text"),w=t.closest(".js-length-limited-input-container").querySelector(".js-length-limited-input-warning");a<=o?(w.textContent=l.replace(new RegExp("{{remaining}}","g"),`${a}`),w.classList.remove("d-none")):(w.textContent="",w.classList.add("d-none"))}r(ht,"displayLengthWarning"),(0,u.N7)(".js-length-limited-input",{add(e){e.addEventListener("input",ht),e.addEventListener("change",ht)},remove(e){e.removeEventListener("input",ht),e.removeEventListener("change",ht)}}),(0,c.on)("click",".js-member-search-filter",function(e){e.preventDefault();const t=e.currentTarget.getAttribute("data-filter"),o=e.currentTarget.closest("[data-filter-on]").getAttribute("data-filter-on"),s=document.querySelector(".js-member-filter-field"),i=s.value,a=new RegExp(`${o}:(?:[a-z]|_|((').*(')))+`),l=i.toString().trim().replace(a,"");s.value=`${l} ${t}`.replace(/\s\s/," ").trim(),s.focus(),(0,c.f)(s,"input")}),(0,c.on)("auto-check-success",".js-new-organization-name",function(e){const t=e.target,o=t.closest("dd").querySelector(".js-field-hint-name");!o||(o.textContent=t.value)}),(0,A.AC)(".js-notice-dismiss",async function(e,t){await t.text(),e.closest(".js-notice").remove()}),(0,c.on)("submit",".js-notice-dismiss-remote",async function(e){const t=e.currentTarget;e.preventDefault();let n;try{n=await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{(0,S.v)();return}n&&!n.ok?(0,S.v)():t.closest(".js-notice").remove()});function Xi(e){try{const t=e.getBoundingClientRect();if(t.height===0&&t.width===0||e.style.opacity==="0"||e.style.visibility==="hidden")return!1}catch{}return!0}r(Xi,"isVisible"),(0,c.on)("click",".js-github-dev-shortcut",function(e){e.preventDefault();for(const n of document.querySelectorAll("textarea.js-comment-field"))if(n.value&&Xi(n)&&!confirm("Are you sure you want to open github.dev?"))return;const t=e.currentTarget;t.pathname=window.location.pathname,t.hash=window.location.hash,window.location.href=t.href}),(0,c.on)("click",".js-github-dev-new-tab-shortcut",function(e){const t=e.currentTarget;t.pathname=window.location.pathname,t.hash=window.location.hash});function Gi(e,t,n){const o=new URL("",window.location.origin),s=t.pathname.split("/");o.pathname=s.slice(1,3).join("/"),o.hash=t.hash,n&&(o.search=`?q=${encodeURIComponent(n)}`);const a=new URLSearchParams(t.search).get("q");return a?o.search=`?q=${encodeURIComponent(a)}`:s.length>=6&&(s[3]==="blob"||s[3]==="tree")&&(o.pathname=t.pathname),o.host=e.host,o.protocol=e.protocol,o.port=e.port,o}r(Gi,"getBlackbirdURL"),(0,c.on)("click",".js-blackbird-shortcut",function(e){var t;const n=e.currentTarget,o=Gi(n,new URL(window.location.href,window.location.origin),(t=window.getSelection())==null?void 0:t.toString());n.href=o.href}),(0,c.on)("click",".js-permalink-shortcut",function(e){const t=e.currentTarget;try{(0,E.lO)(null,"",t.href+window.location.hash)}catch{window.location.href=t.href+window.location.hash}for(const n of document.querySelectorAll(".js-permalink-replaceable-link"))n instanceof HTMLAnchorElement&&(n.href=n.getAttribute("data-permalink-href"));e.preventDefault()}),(0,A.AC)(".js-permission-menu-form",async function(e,t){const n=e.querySelector(".js-permission-success"),o=e.querySelector(".js-permission-error");n.hidden=!0,o.hidden=!0,e.classList.add("is-loading");let s;try{s=await t.json()}catch{e.classList.remove("is-loading"),o.hidden=!1;return}e.classList.remove("is-loading"),n.hidden=!1;const i=e.closest(".js-org-repo");if(i){const a=s.json;i.classList.toggle("with-higher-access",a.members_with_higher_access)}}),async function(){await me.x;const e=document.querySelector(".js-pjax-loader-bar");if(!e)return;const t=e.firstElementChild;if(!(t instanceof HTMLElement))return;let n=0,o=null,s=null;function i(){a(0),e&&e.classList.add("is-loading"),o=window.setTimeout(l,0)}r(i,"initiateLoader");function a(w){t instanceof HTMLElement&&(w===0&&(s==null&&(s=getComputedStyle(t).transition),t.style.transition="none"),n=w,t.style.width=`${n}%`,w===0&&(t.clientWidth,t.style.transition=s||""))}r(a,"setWidth");function l(){n===0&&(n=12),a(Math.min(n+3,95)),o=window.setTimeout(l,500)}r(l,"increment");function y(){o&&clearTimeout(o),a(100),e&&e.classList.remove("is-loading")}r(y,"finishLoader"),document.addEventListener("pjax:start",i),document.addEventListener("pjax:end",y)}();let mn=null;const pn="last_pjax_request",gt="pjax_start",hn="pjax_end";function Zi(e){e instanceof CustomEvent&&e.detail&&e.detail.url&&(window.performance.mark(gt),mn=e.detail.url)}r(Zi,"markPjaxStart");async function Ji(){if(await(0,x.gJ)(),!window.performance.getEntriesByName(gt).length)return;window.performance.mark(hn),window.performance.measure(pn,gt,hn);const t=window.performance.getEntriesByName(pn).pop(),n=t?t.duration:null;!n||(mn&&(0,pe.b)({requestUrl:mn,pjaxDuration:Math.round(n)}),Yi())}r(Ji,"trackPjaxTiming");function Yi(){window.performance.clearMarks(gt),window.performance.clearMarks(hn),window.performance.clearMeasures(pn)}r(Yi,"clearPjaxMarks"),"getEntriesByName"in window.performance&&(document.addEventListener("pjax:start",Zi),document.addEventListener("pjax:end",Ji));let gn=null;const bn="last_turbo_request",bt="turbo_start",yn="turbo_end";function Qi(e){var t;e instanceof CustomEvent&&(!((t=e.detail)==null?void 0:t.url)||(window.performance.mark(bt),gn=e.detail.url))}r(Qi,"markTurboStart");async function ea(){if(await(0,x.gJ)(),!window.performance.getEntriesByName(bt).length)return;window.performance.mark(yn),window.performance.measure(bn,bt,yn);const t=window.performance.getEntriesByName(bn).pop(),n=t?t.duration:null;!n||(gn&&(0,pe.b)({requestUrl:gn,turboDuration:Math.round(n)}),ta())}r(ea,"trackTurboTiming");function ta(){window.performance.clearMarks(bt),window.performance.clearMarks(yn),window.performance.clearMeasures(bn)}r(ta,"clearTurboMarks"),"getEntriesByName"in window.performance&&(document.addEventListener("turbo:before-fetch-request",Qi),document.addEventListener("turbo:render",ea));var eu=f(11724),tu=f(30161),nu=f(54293);(0,c.on)("click",".js-turbo-history-navigate",function(e){if(!(0,re.x)())return;const t=e;if(!(t.currentTarget instanceof HTMLAnchorElement)||t.shiftKey||t.metaKey||t.ctrlKey||t.altKey)return;const n=(0,E._C)(),o=(0,E.Mw)();n&&t.currentTarget.href===n?(t.preventDefault(),zo(n),history.back()):o&&t.currentTarget.href===o&&(t.preventDefault(),zo(o),history.forward())}),(0,c.on)("pjax:click",".js-pjax-history-navigate",function(e){(0,re.x)()||e.currentTarget instanceof HTMLAnchorElement&&(e.currentTarget.href===(0,E._C)()?(history.back(),e.detail.relatedEvent.preventDefault(),e.preventDefault()):e.currentTarget.href===(0,E.Mw)()&&(history.forward(),e.detail.relatedEvent.preventDefault(),e.preventDefault()))});function zo(e){document.addEventListener("turbo:before-fetch-request",function(t){if(!(0,re.H)(t.target))return;const n=t.detail.url.href;e===n&&(t.preventDefault(),(0,Se.F2)())},{once:!0})}r(zo,"cancelNextTurboFrameFetchRequest");function Ko(e){return e.getAttribute("data-pjax-preserve-scroll")!=null?!1:0}r(Ko,"preserveScrollTo");function vn(e){let t=e;for(;t;){const n=t.getAttribute("data-pjax");if(n&&n!=="true")return document.querySelector(n);t=t.parentElement&&t.parentElement.closest("[data-pjax]")}return e.closest("[data-pjax-container]")}r(vn,"detectContainer"),(0,c.on)("click","[data-pjax] a, a[data-pjax]",function(e){const t=e.currentTarget;if(t instanceof HTMLAnchorElement){if(t.getAttribute("data-skip-pjax")!=null||t.getAttribute("data-remote")!=null)return;const n=vn(t);n&&na(e,{container:n,scrollTo:Ko(t)})}}),(0,c.on)("change","select[data-pjax]",function(e){if((0,re.x)())return;const t=e.currentTarget,n=vn(t);n&&(0,U.ZP)({url:t.value,container:n})});function na(e,t){if((0,re.x)())return;const n=e.currentTarget;if(e.button!==0||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==n.protocol||location.hostname!==n.hostname||n.href.indexOf("#")>-1&&Vo(n)===Vo(location)||e.defaultPrevented)return;const o={url:n.href,target:n,...t},s=new CustomEvent("pjax:click",{bubbles:!0,cancelable:!0,detail:{options:o,relatedEvent:e}});n.dispatchEvent(s)&&((0,U.ZP)(o),e.preventDefault(),n.dispatchEvent(new CustomEvent("pjax:clicked",{bubbles:!0,cancelable:!0,detail:{options:o}})))}r(na,"click");function Vo(e){return e.href.replace(/#.*/,"")}r(Vo,"stripHash"),(0,c.on)("submit","form[data-pjax]",function(e){if((0,re.x)())return;const t=e.currentTarget,n=vn(t);if(!n)return;const o=Ko(t),s={type:(t.method||"GET").toUpperCase(),url:t.action,target:t,scrollTo:o,container:n};if(s.type==="GET"){if(t.querySelector("input[type=file]"))return;const i=oa(s.url);i.search+=(i.search?"&":"")+(0,L.qC)(t),s.url=i.toString()}else s.data=new FormData(t);(0,U.ZP)(s),e.preventDefault()});function oa(e){const t=document.createElement("a");return t.href=e,t}r(oa,"parseURL"),(0,u.N7)("body.js-print-popup",()=>{window.print(),setTimeout(window.close,1e3)}),(0,u.N7)("poll-include-fragment[data-redirect-url]",function(e){const t=e.getAttribute("data-redirect-url");e.addEventListener("load",function(){window.location.href=t})}),(0,u.N7)("poll-include-fragment[data-reload]",function(e){e.addEventListener("load",function(){window.location.reload()})}),(0,j.w4)("keydown",".js-quick-submit",function(e){sa(e)});function sa(e){const t=e.target;if((e.ctrlKey||e.metaKey)&&e.key==="Enter"){const n=t.form,o=n.querySelector("input[type=submit], button[type=submit]");if(e.shiftKey){const s=n.querySelector(".js-quick-submit-alternative");(s instanceof HTMLInputElement||s instanceof HTMLButtonElement)&&!s.disabled&&(0,L.Bt)(n,s)}else(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.disabled||(0,L.Bt)(n);e.preventDefault()}}r(sa,"quickSubmit");var Xo=f(55498);let yt;(0,u.N7)(".js-comment-quote-reply",function(e){var t;e.hidden=((t=e.closest(".js-quote-selection-container"))==null?void 0:t.querySelector(".js-inline-comment-form-container textarea, .js-new-comment-form textarea"))==null});function Go(e){return e.nodeName==="DIV"&&e.classList.contains("highlight")}r(Go,"isHighlightContainer");function ra(e){return e.nodeName==="IMG"||e.firstChild!=null}r(ra,"hasContent");const Zo={PRE(e){const t=e.parentElement;if(t&&Go(t)){const n=t.className.match(/highlight-source-(\S+)/),o=n?n[1]:"",s=(e.textContent||"").replace(/\n+$/,"");e.textContent=`\`\`\`${o}
${s}
\`\`\``,e.append(`

`)}return e},A(e){const t=e.textContent||"";return e.classList.contains("user-mention")||e.classList.contains("team-mention")||e.classList.contains("issue-link")&&/^#\d+$/.test(t)?t:e},IMG(e){const t=e.getAttribute("alt");return t&&e.classList.contains("emoji")?t:e},DIV(e){if(e.classList.contains("js-suggested-changes-blob"))e.remove();else if(e.classList.contains("blob-wrapper-embedded")){const t=e.parentElement,n=t.querySelector("a[href]"),o=document.createElement("p");o.textContent=n.href,t.replaceWith(o)}return e}};function ia(e){const t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode(s){return s.nodeName in Zo&&ra(s)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}}),n=[];let o=t.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=t.nextNode();n.reverse();for(const s of n)s.replaceWith(Zo[s.nodeName](s))}r(ia,"insertMarkdownSyntax"),(0,c.on)("click",".js-comment-quote-reply",function({isTrusted:e,currentTarget:t}){const n=t.closest(".js-comment"),o=n.querySelector(".js-comment-body"),s=n.querySelector(".js-comment-body").cloneNode(!0),i=n.closest(".js-quote-selection-container"),a=o.querySelectorAll("button.js-convert-to-issue-button, span.js-clear");for(const w of a)w.remove();let l=new Xo.p;if(!e&&l.range.collapsed||(i.hasAttribute("data-quote-markdown")&&(l=new Xo.I(i.getAttribute("data-quote-markdown")||"",w=>{const T=l.range.startContainer.parentElement,N=T&&T.closest("pre");if(N instanceof HTMLElement){const M=N.parentElement;if(M&&Go(M)){const R=document.createElement("div");R.className=M.className,R.appendChild(w),w.appendChild(R)}}ia(w)})),yt&&o.contains(yt.anchorNode)?l.range=yt.range:l.range.collapsed&&l.select(o),l.closest(".js-quote-selection-container")!==i))return;const y=l.range;i.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,detail:l})),l.range=y;for(const w of i.querySelectorAll("textarea"))if((0,ne.Z)(w)){l.insert(w);break}n.querySelector(".js-comment-body").replaceWith(s)});let wn;document.addEventListener("selectionchange",(0,P.D)(function(){const e=window.getSelection();let t;try{t=e.getRangeAt(0)}catch{wn=null;return}wn={anchorNode:e.anchorNode,range:t}},100)),document.addEventListener("toggle",()=>{yt=wn},{capture:!0});const aa=new ResizeObserver(e=>{for(const t of e)t.contentRect.height>26&&ca(t.target)});(0,u.N7)(".js-reactions-container",function(e){aa.observe(e)});function ca(e){const t=e.offsetWidth*.8,n=e.querySelectorAll(".js-reaction-group-button"),o=e.querySelector(".js-all-reactions-popover");let s=0;for(const i of n)s+=i.clientWidth;if(s+=(o==null?void 0:o.clientWidth)||0,t<s){let i=t;o&&(o.removeAttribute("hidden"),i-=o.offsetWidth);for(const a of n){const l=a.offsetWidth;l>i?a.setAttribute("hidden","hidden"):a.removeAttribute("hidden"),i-=l}}}r(ca,"hideReactionOverflow"),(0,A.AC)(".js-pick-reaction",async function(e,t){const n=await t.json(),o=e.closest(".js-comment"),s=o.querySelector(".js-reactions-container"),i=o.querySelector(".js-comment-header-reaction-button"),a=(0,_.r)(document,n.json.reactions_container.trim()),l=(0,_.r)(document,n.json.comment_header_reaction_button.trim());s.replaceWith(a),i.replaceWith(l)});function Jo(e){const t=e.target,n=t.getAttribute("data-reaction-label"),s=t.closest(".js-add-reaction-popover").querySelector(".js-reaction-description");s.hasAttribute("data-default-text")||s.setAttribute("data-default-text",s.textContent||""),s.textContent=n}r(Jo,"showReactionContent");function Yo(e){const n=e.target.closest(".js-add-reaction-popover").querySelector(".js-reaction-description"),o=n.getAttribute("data-default-text");o&&(n.textContent=o)}r(Yo,"hideReactionContent"),(0,c.on)("toggle",".js-reaction-popover-container",function(e){const t=e.currentTarget.hasAttribute("open");for(const n of e.target.querySelectorAll(".js-reaction-option-item"))t?(n.addEventListener("mouseenter",Jo),n.addEventListener("mouseleave",Yo)):(n.removeEventListener("mouseenter",Jo),n.removeEventListener("mouseleave",Yo))},{capture:!0});var En=f(2061);function la(e,t,n){e.getAttribute("data-type")==="json"&&n.headers.set("Accept","application/json"),(0,c.f)(e,"deprecatedAjaxSend",{request:n}),t.text().catch(s=>{if(s.response)return s.response;throw s}).then(s=>{s.status<300?(0,c.f)(e,"deprecatedAjaxSuccess"):(0,c.f)(e,"deprecatedAjaxError",{error:s.statusText,status:s.status,text:s.text})},s=>{(0,c.f)(e,"deprecatedAjaxError",{error:s.message,status:0,text:null})}).then(()=>{(0,c.f)(e,"deprecatedAjaxComplete")})}r(la,"submitWithLegacyEvents"),(0,c.on)("click",["form button:not([type])","form button[type=submit]","form input[type=submit]"].join(", "),function(e){const t=e.currentTarget;t.form&&!e.defaultPrevented&&(0,En.j)(t)}),(0,A.AC)("form[data-remote]",la),(0,c.on)("deprecatedAjaxComplete","form",function({currentTarget:e}){const t=(0,En.u)(e);t&&t.remove()}),(0,A.uT)(e=>{const t=(0,En.u)(e);t&&t.remove()}),(0,A.rK)(tn.Z),(0,u.N7)(".has-removed-contents",function(){let e;return{add(t){e=Array.from(t.childNodes);for(const o of e)t.removeChild(o);const n=t.closest("form");n&&(0,c.f)(n,"change")},remove(t){for(const o of e)t.appendChild(o);const n=t.closest("form");n&&(0,c.f)(n,"change")}}});var fe=f(36162),ua=(e=>(e.Auto="auto",e.Light="light",e.Dark="dark",e))(ua||{});function da(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}r(da,"getUserSystemColorMode");const Ln=".js-render-plaintext";function fa(e){const t=e.closest(".js-render-needs-enrichment");if(!t)return;t.querySelector(Ln)&&jn(t,!1)}r(fa,"markdownEnrichmentSuccess");function ma(e,t){jn(e,!1),Qo(e,!0),e.classList.add("render-error");const n=e.querySelector(Ln);if(!n)return;n.classList.remove("render-plaintext-hidden");const o=n.querySelector("pre");(0,fe.sY)(fe.dy`${t} ${o}`,n)}r(ma,"showMarkdownRenderError");function jn(e,t){const n=e.getElementsByClassName("js-render-enrichment-loader")[0],o=e.getElementsByClassName("render-expand")[0];n&&(n.hidden=!t),o&&(o.hidden=t)}r(jn,"setCodeBlockLoaderVisibility");function Qo(e,t){const n=e.querySelector(Ln);t?n.classList.remove("render-plaintext-hidden"):n.classList.add("render-plaintext-hidden")}r(Qo,"setRawCodeBlockVisibility");class es{constructor(t){this.el=t,this.enrichmentTarget=t.getElementsByClassName("js-render-enrichment-target")[0],this.iframeUrl=this.getIframeUrl(),this.identifier=this.el.getAttribute("data-identity"),this.iframeContentType=this.el.getAttribute("data-type"),this.iframeOrigin=new URL(this.iframeUrl,window.location.origin).origin,this.iframeContent=this.el.getAttribute("data-content"),jn(this.el,!0)}enrich(){const t=this.createDialog();(0,fe.sY)(t,this.enrichmentTarget),this.setupModal()}getIframeUrl(){const t=(0,Me.c)("GEOJSON_AZURE_MAPS"),n=this.el.getAttribute("data-src"),o=this.el.getAttribute("data-enterprise"),s={...this.colorMode(),azure_maps_enabled:t,enterprise_enable:o},i=Object.entries(s).map(([a,l])=>`${a}=${l}`).join("&");return`${n}?${i}`}colorMode(){var t;let n=(t=document.querySelector("html"))==null?void 0:t.getAttribute("data-color-mode");return(n==="auto"||!n)&&(n=da()),{color_mode:n}}setupModal(){const t=this.generateIframeCode("-fullscreen"),n=this.el.querySelector(".Box-body");this.el.querySelector(".js-full-screen-render").addEventListener("click",()=>{(0,fe.sY)(t,n)})}createDialog(){const t=this.generateIframeCode();return fe.dy` <div class="d-flex flex-column flex-auto js-render-box">
      <details class="details-reset details-overlay details-overlay-dark">
        <summary class="btn-sm btn position-absolute js-full-screen-render render-expand" aria-haspopup="dialog" hidden>
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="currentColor"
            class="octicon"
            style="display:inline-block;vertical-align:text-bottom"
          >
            <path
              fill-rule="evenodd"
              d="M3.72 3.72a.75.75 0 011.06 1.06L2.56 7h10.88l-2.22-2.22a.75.75 0 011.06-1.06l3.5 3.5a.75.75 0 010 1.06l-3.5 3.5a.75.75 0 11-1.06-1.06l2.22-2.22H2.56l2.22 2.22a.75.75 0 11-1.06 1.06l-3.5-3.5a.75.75 0 010-1.06l3.5-3.5z"
            ></path>
          </svg>
        </summary>
        <details-dialog class="Box Box--overlay render-full-screen d-flex flex-column anim-fade-in fast">
          <div>
            <button
              aria-label="Close dialog"
              data-close-dialog=""
              type="button"
              data-view-component="true"
              class="Link--muted btn-link position-absolute render-full-screen-close"
            >
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="currentColor"
                style="display:inline-block;vertical-align:text-bottom"
                class="octicon octicon-x"
              >
                <path
                  fill-rule="evenodd"
                  d="M5.72 5.72a.75.75 0 011.06 0L12 10.94l5.22-5.22a.75.75 0 111.06 1.06L13.06 12l5.22 5.22a.75.75 0 11-1.06 1.06L12 13.06l-5.22 5.22a.75.75 0 01-1.06-1.06L10.94 12 5.72 6.78a.75.75 0 010-1.06z"
                ></path>
              </svg>
            </button>
            <div class="Box-body"></div>
          </div>
        </details-dialog>
      </details>
      ${t}
    </div>`}generateIframeCode(t=""){const n=this.identifier+t,o=`${this.iframeUrl}#${n}`;return fe.dy`
      <div
        class="render-container js-render-target p-0"
        data-identity="${n}"
        data-host="${this.iframeOrigin}"
        data-type="${this.iframeContentType}"
      >
        <iframe
          class="render-viewer"
          src="${o}"
          name="${n}"
          data-content="${this.iframeContent}"
          sandbox="allow-scripts allow-same-origin allow-top-navigation"
        >
        </iframe>
      </div>
    `}}r(es,"EnrichableMarkdownRenderer"),(0,u.N7)(".js-render-needs-enrichment",function(e){const t=e;new es(t).enrich()}),(0,c.on)("preview:toggle:off",".js-previewable-comment-form",function(e){const n=e.currentTarget.querySelector(".js-render-needs-enrichment"),o=n==null?void 0:n.querySelector(".js-render-enrichment-target");!o||(o.innerHTML="")}),(0,c.on)("preview:rendered",".js-previewable-comment-form",function(e){const n=e.currentTarget.querySelector(".js-render-needs-enrichment");n&&Qo(n,!1)});const ou=null,vt=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],pa=["is-render-ready","is-render-loading","is-render-loaded","is-render-failed","is-render-failed-fatally"],We=new WeakMap;function ts(e){const t=We.get(e);t!=null&&(t.load=t.hello=null,t.helloTimer&&(clearTimeout(t.helloTimer),t.helloTimer=null),t.loadTimer&&(clearTimeout(t.loadTimer),t.loadTimer=null))}r(ts,"resetTiming");function Ye(e,t=""){var n;e.classList.remove(...vt),e.classList.add("is-render-failed");const o=ga(t),s=(n=e.parentElement)==null?void 0:n.closest(".js-render-needs-enrichment");s?ma(s,o):ha(e,o),ts(e)}r(Ye,"renderFailed");function ha(e,t){const n=e.querySelector(".render-viewer-error");n&&(n.remove(),e.classList.remove("render-container"),(0,fe.sY)(t,e))}r(ha,"fileRenderError");function ga(e){let t=fe.dy`<p>Unable to render code block</p>`;if(e!==""){const n=e.split(`
`);t=fe.dy`<p><b>Error rendering embedded code</b></p>
      <p>${n.map(o=>fe.dy`${o}<br />`)}</p>`}return fe.dy`<div class="flash flash-error">${t}</div>`}r(ga,"renderError");function ns(e,t=!1){var n;!(0,ne.Z)(e)||e.classList.contains("is-render-ready")||e.classList.contains("is-render-failed")||e.classList.contains("is-render-failed-fatally")||t&&!((n=We.get(e))==null?void 0:n.hello)||Ye(e)}r(ns,"timeoutWatchdog"),(0,u.N7)(".js-render-target",function(e){var t;const n=e;n.classList.remove(...pa),n.style.height="auto",!((t=We.get(e))==null?void 0:t.load)&&(ts(e),!We.get(e)&&(We.set(e,{load:Date.now(),hello:null,helloTimer:window.setTimeout(ns,1e4,e,!0),loadTimer:window.setTimeout(ns,45e3,e)}),e.classList.add("is-render-automatic","is-render-requested")))});function wt(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}r(wt,"postAsJson");function ba(e){let t=e.data;if(!t)return;if(typeof t=="string")try{t=JSON.parse(t)}catch{return}if(t.type!=="render"||typeof t.identity!="string")return;const n=t.identity;if(typeof t.body!="string")return;const o=t.body;let s=null;for(const w of document.querySelectorAll(".js-render-target"))if(w.getAttribute("data-identity")===n){s=w;break}if(!s||e.origin!==s.getAttribute("data-host"))return;const i=t.payload!=null?t.payload:void 0,a=s.querySelector("iframe"),l=a==null?void 0:a.contentWindow;function y(){const w=a==null?void 0:a.getAttribute("data-content");if(!w)return;const T={type:"render:cmd",body:{cmd:"code_rendering_service:data:ready","code_rendering_service:data:ready":{data:JSON.parse(w).data,width:s==null?void 0:s.getBoundingClientRect().width}}};wt(l,T)}switch(r(y,"postData"),o){case"hello":{const w=We.get(s)||{untimed:!0};w.hello=Date.now();const T={type:"render:cmd",body:{cmd:"ack",ack:!0}},N={type:"render:cmd",body:{cmd:"branding",branding:!1}};if(!l)return;wt(l,T),wt(l,N)}break;case"error":i?Ye(s,i.error):Ye(s);break;case"error:fatal":{Ye(s),s.classList.add("is-render-failed-fatal");break}case"error:invalid":Ye(s),s.classList.add("is-render-failed-invalid");break;case"loading":s.classList.remove(...vt),s.classList.add("is-render-loading");break;case"loaded":s.classList.remove(...vt),s.classList.add("is-render-loaded");break;case"ready":fa(s),s.classList.remove(...vt),s.classList.add("is-render-ready"),i&&typeof i.height=="number"&&(s.style.height=`${i.height}px`,location.hash!==""&&window.dispatchEvent(new HashChangeEvent("hashchange")));break;case"resize":i&&typeof i.height=="number"&&(s.style.height=`${i.height}px`);break;case"code_rendering_service:container:get_size":wt(l,{type:"render:cmd",body:{cmd:"code_rendering_service:container:size","code_rendering_service:container:size":{width:s==null?void 0:s.getBoundingClientRect().width}}});break;case"code_rendering_service:markdown:get_data":if(!l)return;y();break;default:break}}r(ba,"handleMessage"),window.addEventListener("message",ba),(0,A.AC)("form[data-replace-remote-form]",async function(e,t){e.classList.remove("is-error"),e.classList.add("is-loading");try{let n=e;const o=await t.html(),s=e.closest("[data-replace-remote-form-target]");if(s){const i=s.getAttribute("data-replace-remote-form-target");n=i?document.getElementById(i):s}n.replaceWith(o.html)}catch{e.classList.remove("is-loading"),e.classList.add("is-error")}}),PerformanceObserver&&(PerformanceObserver.supportedEntryTypes||[]).includes("longtask")&&new PerformanceObserver(function(t){const n=t.getEntries().map(({name:o,duration:s})=>({name:o,duration:s,url:window.location.href}));(0,pe.b)({longTasks:n})}).observe({entryTypes:["longtask"]});const os=new WeakMap;function ya(e){return e.closest("markdown-toolbar").field}r(ya,"getTextarea"),(0,c.on)("click",".js-markdown-link-button",async function({currentTarget:e}){const n=document.querySelector(".js-markdown-link-dialog").content.cloneNode(!0);if(!(n instanceof DocumentFragment))return;const o=await(0,Te.W)({content:n,labelledBy:"box-title"});e instanceof HTMLElement&&os.set(o,ya(e).selectionEnd)}),(0,c.on)("click",".js-markdown-link-insert",({currentTarget:e})=>{const t=e.closest("details-dialog"),n=document.querySelector(`#${e.getAttribute("data-for-textarea")}`),o=os.get(t)||0,s=t.querySelector("#js-dialog-link-href").value,a=`[${t.querySelector("#js-dialog-link-text").value}](${s}) `,l=n.value.slice(0,o),y=n.value.slice(o);n.value=l+a+y,n.focus(),n.selectionStart=n.selectionEnd=o+a.length});var su=f(17300);(0,c.on)("details-menu-select",".js-saved-reply-menu",function(e){if(!(e.target instanceof Element))return;const t=e.detail.relatedTarget.querySelector(".js-saved-reply-body");if(!t)return;const n=(t.textContent||"").trim(),s=e.target.closest(".js-previewable-comment-form").querySelector("textarea.js-comment-field");(0,Ee.Om)(s,n),setTimeout(()=>s.focus(),0)},{capture:!0}),(0,j.w4)("keydown",".js-saved-reply-shortcut-comment-field",function(e){(0,Fe.EL)(e)==="Control+."&&(e.target.closest(".js-previewable-comment-form").querySelector(".js-saved-reply-container").setAttribute("open",""),e.preventDefault())}),(0,j.w4)("keydown",".js-saved-reply-filter-input",function(e){if(/^Control\+[1-9]$/.test((0,Fe.EL)(e))){const n=e.target.closest(".js-saved-reply-container").querySelectorAll('[role="menuitem"]'),o=Number(e.key),s=n[o-1];s instanceof HTMLElement&&(s.click(),e.preventDefault())}else if(e.key==="Enter"){const n=e.target.closest(".js-saved-reply-container").querySelectorAll('[role="menuitem"]');n.length>0&&n[0]instanceof HTMLButtonElement&&n[0].click(),e.preventDefault()}});var va=f(29790),wa=f(19218);function Ea(e,t){return e.querySelector(`#LC${t}`)}r(Ea,"queryLineElement");function Et(e,t,n,o){const s=(0,va.M9)(e,l=>Ea(t,l));if(!s)return;if(n){const l=(0,Ee.yb)(s.startContainer.textContent,s.startOffset);if(l===-1)return;s.setStart(s.startContainer,l)}if(o){const l=(0,Ee.yb)(s.endContainer.textContent,s.endOffset);if(l===-1)return;s.setEnd(s.endContainer,l)}const i=document.createElement("span"),a=["text-bold","hx_keyword-hl","rounded-2","d-inline-block"];i.classList.add(...a),(0,wa.v)(s,i)}r(Et,"highlightRange");function La(e,t){if(e.start.line!==e.end.line){const n={start:{line:e.start.line,column:e.start.column},end:{line:e.start.line,column:null}};Et(n,t,!0,!1);for(let s=e.start.line+1;s<e.end.line;s+=1)Et({start:{line:s,column:0},end:{line:s,column:null}},t,!1,!1);const o={start:{line:e.end.line,column:0},end:{line:e.end.line,column:e.end.column}};Et(o,t,!1,!0)}else Et(e,t,!0,!0)}r(La,"highlightColumns");function ja(e){const t=parseInt(e.getAttribute("data-start-line")),n=parseInt(e.getAttribute("data-end-line")),o=parseInt(e.getAttribute("data-start-column")),s=parseInt(e.getAttribute("data-end-column"));return t===n&&o===s?null:{start:{line:t,column:o},end:{line:n,column:s!==0?s:null}}}r(ja,"parseColumnHighlightRange"),(0,u.N7)(".js-highlight-code-snippet-columns",function(e){const t=ja(e);t!==null&&La(t,e)}),(0,c.on)("click",".js-segmented-nav-button",function(e){e.preventDefault();const t=e.currentTarget,n=t.getAttribute("data-selected-tab"),o=t.closest(".js-segmented-nav"),s=o.parentElement;for(const i of o.querySelectorAll(".js-segmented-nav-button"))i.classList.remove("selected");t.classList.add("selected");for(const i of s.querySelectorAll(".js-selected-nav-tab"))i.parentElement===s&&i.classList.remove("active");document.querySelector(`.${n}`).classList.add("active")});var ke=f(407),xe=f(25331);const Sa=(0,P.D)(function(){(0,ke.e6)((0,xe.e)())},50);function Ta(){var e,t;return(t=(e=document.querySelector("html"))==null?void 0:e.hasAttribute("data-turbo-preview"))!=null?t:!1}r(Ta,"isTurboRenderingCachePreview"),window.addEventListener("submit",ke.iO,{capture:!0}),window.addEventListener("pageshow",function(){(0,ke.e6)((0,xe.e)())}),window.addEventListener("pjax:end",function(){(0,ke.e6)((0,xe.e)())}),(0,u.N7)(".js-session-resumable",function(){Ta()||Sa()}),window.addEventListener("pagehide",function(){(0,ke.Xm)((0,xe.e)(),{selector:".js-session-resumable"})}),window.addEventListener("pjax:beforeReplace",function(e){const t=e.detail.previousState,n=t?t.url:null;if(n)(0,ke.Xm)((0,xe.e)(new URL(n,window.location.origin)),{selector:".js-session-resumable"});else{const o=new Error("pjax:beforeReplace event.detail.previousState.url is undefined");setTimeout(function(){throw o})}}),window.addEventListener("turbo:before-visit",function(){(0,ke.Xm)((0,xe.e)(),{selector:".js-session-resumable"})}),window.addEventListener("turbo:load",function(){(0,ke.e6)((0,xe.e)())});function Sn(){const e=document.querySelector('meta[name="selected-link"]'),t=e&&e.getAttribute("value");if(!!t)for(const n of document.querySelectorAll(".js-sidenav-container-pjax .js-selected-navigation-item")){const o=(n.getAttribute("data-selected-links")||"").split(" ").indexOf(t)>=0;o?n.setAttribute("aria-current","page"):n.removeAttribute("aria-current"),n.classList.toggle("selected",o)}}r(Sn,"updateSelectedRepoTab"),document.addEventListener("pjax:end",Sn),document.addEventListener(Se.QE.FRAME_UPDATE,Sn),document.addEventListener(Se.QE.SUCCESS,Sn);var ss=f(11190),Aa=f(27034),Ca=f(32904);async function ka(){return(0,A.AC)(".js-notification-shelf .js-notification-action form",async function(e,t){if(e.hasAttribute("data-redirect-to-inbox-on-submit")){await rs(t);const o=document.querySelector(".js-notifications-back-to-inbox");o&&o.click();return}(0,Ca.a)(e,e),await rs(t)})}r(ka,"remoteShelfActionForm");function xa(){const e=new URLSearchParams(window.location.search),t=(0,ss.n)(e);if(t){const n=new URL(window.location.href,window.location.origin);return n.search=t.toString(),n.toString()}}r(xa,"urlWithoutNotificationParameters");function Ma(e){if(!(e instanceof Aa.Z))return;const t=(0,ss.I)();if(!t)return;const n=e.getAttribute("data-base-src");if(!n)return;const o=new URL(n,window.location.origin),s=new URLSearchParams(o.search);for(const[i,a]of Object.entries(t))typeof a=="string"&&s.set(i,a);o.search=s.toString(),e.setAttribute("src",o.toString())}r(Ma,"loadShelfFromStoredParams");async function rs(e){try{await e.text()}catch{}}r(rs,"performRequest"),ka();function is(){const e=xa();e&&(0,E.lO)(null,"",e)}r(is,"removeNotificationParams"),is(),document.addEventListener(Se.QE.SUCCESS,is),(0,u.N7)(".js-notification-shelf-include-fragment",Ma),(0,c.on)("submit",".js-mark-notification-form",async function(e){const t=e.currentTarget;e.preventDefault();try{await fetch(t.action,{method:t.method,body:new FormData(t),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}});async function as(){await me.C;const e=document.querySelector(".js-mark-notification-form");e instanceof HTMLFormElement&&(0,L.Bt)(e)}r(as,"markNotificationAsRead"),document.addEventListener(Se.QE.SUCCESS,as),as();function qa(e){return!!e.closest(".js-jump-to-field")}r(qa,"isJumpToAvailable");function Tn(e,t){if(qa(e))return;const n=document.querySelector(".js-site-search-form");document.querySelector(".js-site-search").classList.toggle("scoped-search",t);let o,s;t?(o=n.getAttribute("data-scoped-search-url"),s=e.getAttribute("data-scoped-placeholder")):(o=n.getAttribute("data-unscoped-search-url"),s=e.getAttribute("data-unscoped-placeholder")),n.setAttribute("action",o),e.setAttribute("placeholder",s)}r(Tn,"toggleSearchScope"),(0,j.w4)("keyup",".js-site-search-field",function(e){const t=e.target,n=t.value.length===0;n&&e.key==="Backspace"&&t.classList.contains("is-clearable")&&Tn(t,!1),n&&e.key==="Escape"&&Tn(t,!0),t.classList.toggle("is-clearable",n)}),(0,j.ZG)(".js-site-search-focus",function(e){const t=e.closest(".js-chromeless-input-container");t.classList.add("focus");function n(){t.classList.remove("focus"),e.value.length===0&&e.classList.contains("js-site-search-field")&&Tn(e,!0),e.removeEventListener("blur",n)}r(n,"blurHandler"),e.addEventListener("blur",n)}),(0,c.on)("submit",".js-site-search-form",function(e){if(!(e.target instanceof Element))return;const t=e.target.querySelector(".js-site-search-type-field");t.value=new URLSearchParams(window.location.search).get("type")||""});var Ra=f(54430);(0,u.N7)("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:Ra.Z});var An=f(61161);(0,c.on)("click",".js-smoothscroll-anchor",function(e){const t=e.currentTarget;if(!(t instanceof HTMLAnchorElement))return;const n=(0,An.Kt)(document,t.hash);!n||(n.focus(),n.scrollIntoView({behavior:"smooth"}),e.preventDefault())});const Ia=1e3,cs=new WeakMap,ls=document.querySelector("#snippet-clipboard-copy-button");async function Pa(e,t){const n=e.getAttribute("data-snippet-clipboard-copy-content");if(n===null||(e.removeAttribute("data-snippet-clipboard-copy-content"),!(ls instanceof HTMLTemplateElement)))return;const s=ls.content.cloneNode(!0).children[0];if(!(s instanceof HTMLElement))return;const i=s.children[0];if(!(i instanceof HTMLElement))return;i.setAttribute("value",n),document.addEventListener("selectionchange",()=>{const l=document.getSelection();if(l&&e.contains(l.anchorNode)){const y=l==null?void 0:l.toString();i.style.display=y.trim()===""?"inherit":"none"}},{signal:t});const a=e.querySelector("pre");if(a!==null){let l;a.addEventListener("scroll",()=>{l&&clearTimeout(l),i.style.display="none",l=setTimeout(()=>{i.style.display="inherit"},Ia)},{signal:t})}e.appendChild(s)}r(Pa,"insertSnippetClipboardCopyButton"),(0,u.N7)("[data-snippet-clipboard-copy-content]",{constructor:HTMLElement,add(e){if(e.parentElement&&e.parentElement.classList.contains("js-no-snippet-clipboard-copy"))return;const t=new AbortController;cs.set(e,t),Pa(e,t.signal)}}),(0,u.N7)(".snippet-clipboard-content clipboard-copy",{constructor:HTMLElement,remove(e){const t=cs.get(e);t&&t.abort()}});function us(e,t,n){ds(e,t),n&&e.classList.toggle("on");const o=Array.from(e.querySelectorAll(".js-social-updatable"),qe.x0);return Promise.all(o)}r(us,"handleSocialResponse"),(0,A.AC)(".js-social-form",async function(e,t){var n,o;let s;const i=e.closest(".js-social-container"),a=e.classList.contains("js-deferred-toggler-target");try{s=await t.json(),i&&await us(i,s.json.count,a)}catch(l){if(((n=l.response)==null?void 0:n.status)===409&&l.response.json.confirmationDialog){const y=l.response.json.confirmationDialog,w=document.querySelector(y.templateSelector),T=(o=e.querySelector(".js-confirm-csrf-token"))==null?void 0:o.value;if(w instanceof HTMLTemplateElement&&T){const N=new ut.R(w,{confirmUrl:e.action,confirmCsrfToken:T,...y.inputs||{}}),M=await(0,Te.W)({content:N});M.addEventListener("social-confirmation-form:success",async R=>{R instanceof CustomEvent&&i&&await us(i,R.detail.count,a)}),M.addEventListener("social-confirmation-form:error",()=>{(0,S.v)()})}}else i&&!a&&i.classList.toggle("on"),(0,S.v)()}}),(0,A.AC)(".js-social-confirmation-form",async function(e,t){try{const n=await t.json();(0,c.f)(e,"social-confirmation-form:success",n.json)}catch{(0,c.f)(e,"social-confirmation-form:error")}});function ds(e,t){for(const n of e.querySelectorAll(".js-social-count")){n.textContent=t;const o=n.getAttribute("data-singular-suffix"),s=n.getAttribute("data-plural-suffix"),i=t==="1"?o:s;i&&n.setAttribute("aria-label",`${t} ${i}`)}}r(ds,"updateSocialCounts");var Pe=f(21461);class fs extends Pe.a2{constructor(t,n,o,s){super(t,()=>this.getUrlFromRefreshUrl(),o,s);this.refreshUrl=n}getUrlFromRefreshUrl(){return _a(this.refreshUrl)}}r(fs,"AliveSession");async function _a(e){const t=await Da(e);return t&&t.url&&t.token?Ha(t.url,t.token):null}r(_a,"fetchRefreshUrl");async function Da(e){const t=await fetch(e,{headers:{Accept:"application/json"}});if(t.ok)return t.json();if(t.status===404)return null;throw new Error("fetch error")}r(Da,"fetchJSON");async function Ha(e,t){const n=await fetch(e,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":t}});if(n.ok)return n.text();throw new Error("fetch error")}r(Ha,"post");const Lt=[],Na=3e4,Oa=0;let jt=document.hidden,St;function Ba(e){return e(jt),Lt.push(e),new q.w0(()=>{const t=Lt.indexOf(e);t!==-1&&Lt.splice(t,1)})}r(Ba,"addIdleStateListener"),document.addEventListener("visibilitychange",()=>{const e=document.hidden;St!==void 0&&clearTimeout(St),St=setTimeout(()=>{if(e!==jt){jt=e,St=void 0;for(const n of Lt)n(jt)}},e?Na:Oa)});function $a(){return"SharedWorker"in window&&(0,Fo.Z)("localStorage").getItem("bypassSharedWorker")!=="true"}r($a,"isSharedWorkerSupported");function Fa(){var e,t;return(t=(e=document.head.querySelector("link[rel=shared-web-socket-src]"))==null?void 0:e.href)!=null?t:null}r(Fa,"workerSrc");function Ua(){var e,t;return(t=(e=document.head.querySelector("link[rel=shared-web-socket]"))==null?void 0:e.href)!=null?t:null}r(Ua,"socketUrl");function Wa(){var e,t;return(t=(e=document.head.querySelector("link[rel=shared-web-socket]"))==null?void 0:e.getAttribute("data-refresh-url"))!=null?t:null}r(Wa,"socketRefreshUrl");function za(){var e,t;return(t=(e=document.head.querySelector("link[rel=shared-web-socket]"))==null?void 0:e.getAttribute("data-session-id"))!=null?t:null}r(za,"sessionIdentifier");function Ka(e){return ms(e).map(t=>({subscriber:e,topic:t}))}r(Ka,"subscriptions");function ms(e){return(e.getAttribute("data-channel")||"").trim().split(/\s+/).map(Pe.Zf.parse).filter(Va)}r(ms,"channels");function Va(e){return e!=null}r(Va,"isPresent");function ps(e,{channel:t,type:n,data:o}){for(const s of e)s.dispatchEvent(new CustomEvent(`socket:${n}`,{bubbles:!1,cancelable:!1,detail:{name:t,data:o}}))}r(ps,"notify");class hs{constructor(t,n,o,s,i){this.subscriptions=new Pe.vk,this.presenceMetadata=new Pe.ah,this.notifyPresenceDebouncedByChannel=new Map,this.notify=i,this.worker=new SharedWorker(t,`github-socket-worker-v2-${s}`),this.worker.port.onmessage=({data:a})=>this.receive(a),this.worker.port.postMessage({connect:{url:n,refreshUrl:o}})}subscribe(t){const n=this.subscriptions.add(...t);n.length&&this.worker.port.postMessage({subscribe:n});const o=new Set(n.map(i=>i.name)),s=t.reduce((i,a)=>{const l=a.topic.name;return(0,Pe.A)(l)&&!o.has(l)&&i.add(l),i},new Set);s.size&&this.worker.port.postMessage({requestPresence:Array.from(s)})}unsubscribeAll(...t){const n=this.subscriptions.drain(...t);n.length&&this.worker.port.postMessage({unsubscribe:n});const o=this.presenceMetadata.removeSubscribers(t);this.sendPresenceMetadataUpdate(o)}updatePresenceMetadata(t){const n=new Set;for(const o of t)this.presenceMetadata.setMetadata(o),n.add(o.channelName);this.sendPresenceMetadataUpdate(n)}sendPresenceMetadataUpdate(t){if(!t.size)return;const n=[];for(const o of t)n.push({channelName:o,metadata:this.presenceMetadata.getChannelMetadata(o)});this.worker.port.postMessage({updatePresenceMetadata:n})}online(){this.worker.port.postMessage({online:!0})}offline(){this.worker.port.postMessage({online:!1})}hangup(){this.worker.port.postMessage({hangup:!0})}receive(t){const{channel:n}=t;if(t.type==="presence"){let o=this.notifyPresenceDebouncedByChannel.get(n);o||(o=(0,P.D)((s,i)=>{this.notify(s,i),this.notifyPresenceDebouncedByChannel.delete(n)},100),this.notifyPresenceDebouncedByChannel.set(n,o)),o(this.subscriptions.subscribers(n),t);return}this.notify(this.subscriptions.subscribers(n),t)}}r(hs,"AliveSessionProxy");function Xa(){const e=Fa();if(!e)return;const t=Ua();if(!t)return;const n=Wa();if(!n)return;const o=za();if(!o)return;const i=r(()=>{if($a())try{return new hs(e,t,n,o,ps)}catch{}return new fs(t,n,!1,ps)},"createSession")(),a=(0,x.g)(w=>i.subscribe(w.flat())),l=(0,x.g)(w=>i.unsubscribeAll(...w)),y=(0,x.g)(w=>i.updatePresenceMetadata(w));(0,u.N7)(".js-socket-channel[data-channel]",{subscribe:w=>{const T=Ka(w),N=T.map(R=>R.topic.name).filter(R=>(0,Pe.A)(R));let M={unsubscribe(){}};if(N.length){let R,B;const Q=r(()=>{const Y=[];R&&Y.push(R),B!==void 0&&Y.push({[Pe.ZE]:B?1:0});for(const oe of N)y({subscriber:w,channelName:oe,metadata:Y})},"queueMetadataOrIdleChange");M=(0,q.qC)((0,q.RB)(w,"socket:set-presence-metadata",Y=>{const{detail:oe}=Y;R=oe,Q()}),Ba(Y=>{!(0,Me.c)("PRESENCE_IDLE")||(B=Y,Q())}))}return a(T),M},remove:w=>l(w)}),window.addEventListener("online",()=>i.online()),window.addEventListener("offline",()=>i.offline()),window.addEventListener("pagehide",()=>{"hangup"in i&&i.hangup()})}r(Xa,"connect"),(async()=>(await me.x,Xa()))();const gs=new Map;function Ga(e,t){const n=[];for(const o of e){const s=gs.get(o.name);s&&s.arrived>t&&n.push(s)}return n}r(Ga,"stale");function Za(e,t){for(const n of e.querySelectorAll(".js-socket-channel[data-channel]"))for(const o of Ga(ms(n),t))n.dispatchEvent(new CustomEvent("socket:message",{bubbles:!1,cancelable:!1,detail:{name:o.name,data:o.data,cached:!0}}))}r(Za,"dispatch");function Ja(e){const{name:t,data:n,cached:o}=e.detail;if(o)return;const s={name:t,data:{...n},arrived:Date.now()};s.data.wait=0,gs.set(t,s)}r(Ja,"store"),document.addEventListener("socket:message",Ja,{capture:!0}),document.addEventListener("pjax:popstate",function(e){const t=e.target,n=e.detail.cachedAt;n&&setTimeout(()=>Za(t,n))}),(0,u.N7)("form.js-auto-replay-enforced-sso-request",{constructor:HTMLFormElement,initialize(e){(0,L.Bt)(e)}});var ru=f(41928);function bs(e,t,n){const o=e.getBoundingClientRect().height,s=t.getBoundingClientRect(),i=n.getBoundingClientRect();let a=i.top;a+s.height+10>=o&&(a=Math.max(o-s.height-10,0));let l=i.right;n.closest(".js-build-status-to-the-left")!=null&&(l=Math.max(i.left-s.width-10,0)),t.style.top=`${a}px`,t.style.left=`${l}px`,t.style.right="auto"}r(bs,"updateStatusPosition"),(0,c.on)("toggle",".js-build-status .js-dropdown-details",function(e){const t=e.currentTarget,n=t.querySelector(".js-status-dropdown-menu");if(!n)return;function o(){t.hasAttribute("open")||i()}r(o,"closeOnToggle");function s(a){n.contains(a.target)||i()}r(s,"closeOnScroll");function i(){t.removeAttribute("open"),n.classList.add("d-none"),t.appendChild(n),t.removeEventListener("toggle",o),window.removeEventListener("scroll",s)}r(i,"closeStatusPopover"),t.addEventListener("toggle",o),n.classList.contains("js-close-menu-on-scroll")&&window.addEventListener("scroll",s,{capture:!0}),n.classList.remove("d-none"),n.querySelector(".js-details-container").classList.add("open"),n.classList.contains("js-append-menu-to-body")&&(document.body.appendChild(n),bs(document.body,n,t))},{capture:!0});async function ys(e){const t=e.querySelector(".js-dropdown-details"),n=e.querySelector(".js-status-dropdown-menu")||e.closest(".js-status-dropdown-menu");if(!(n instanceof HTMLElement))return;const o=n.querySelector(".js-status-loader");if(!o)return;const s=n.querySelector(".js-status-loading"),i=n.querySelector(".js-status-error"),a=o.getAttribute("data-contents-url");s.classList.remove("d-none"),i.classList.add("d-none");let l;try{await(0,tn.Z)(),l=await(0,he.a)(document,a)}catch{s.classList.add("d-none"),i.classList.remove("d-none")}l&&(o.replaceWith(l),n.querySelector(".js-details-container").classList.add("open"),t&&n.classList.contains("js-append-menu-to-body")&&bs(document.body,n,t))}r(ys,"loadStatus"),(0,c.on)("click",".js-status-retry",({currentTarget:e})=>{ys(e)});function vs(e){const t=e.currentTarget;ys(t)}r(vs,"onMouseEnter"),(0,u.N7)(".js-build-status",{add(e){e.addEventListener("mouseenter",vs,{once:!0})},remove(e){e.removeEventListener("mouseenter",vs)}});var iu=f(55898),Ya=f(82841);(0,c.on)("click","button[data-sudo-required], summary[data-sudo-required]",ws),(0,u.N7)("form[data-sudo-required]",{constructor:HTMLFormElement,subscribe:e=>(0,q.RB)(e,"submit",ws)});async function ws(e){const t=e.currentTarget;if(!(t instanceof HTMLElement))return;e.stopPropagation(),e.preventDefault(),await(0,Ya.Z)()&&(t.removeAttribute("data-sudo-required"),t instanceof HTMLFormElement?(0,L.Bt)(t):t.click())}r(ws,"checkSudo");const Es={"actor:":"ul.js-user-suggestions","user:":"ul.js-user-suggestions","operation:":"ul.js-operation-suggestions","org:":"ul.js-org-suggestions","action:":"ul.js-action-suggestions","repo:":"ul.js-repo-suggestions","country:":"ul.js-country-suggestions"};(0,u.N7)("text-expander[data-audit-url]",{subscribe:e=>(0,q.qC)((0,q.RB)(e,"text-expander-change",ec),(0,q.RB)(e,"text-expander-value",Qa))});function Qa(e){const t=e.detail;if(!Ls(t.key))return;const n=t.item.getAttribute("data-value");t.value=`${t.key}${n}`}r(Qa,"onvalue");function ec(e){const{key:t,provide:n,text:o}=e.detail;if(!Ls(t))return;const i=e.target.getAttribute("data-audit-url");n(oc(i,t,o))}r(ec,"onchange");function tc(e,t){const n=t.toLowerCase(),o=r(s=>{const i=s.textContent.toLowerCase().trim(),a=(0,ge.EW)(i,n);return a>0?{score:a,text:i}:null},"key");return n?(0,Ze.W)(e,o,ge.qu):e}r(tc,"search");const nc=(0,Re.Z)(e=>[...e.children],{hash:e=>e.className});async function oc(e,t,n){const s=(await ic(e)).querySelector(sc(t));if(!s)return{matched:!1};const i=tc(nc(s),n).slice(0,5),a=s.cloneNode(!1);a.innerHTML="";for(const l of i)a.append(l);return{fragment:a,matched:i.length>0}}r(oc,"auditMenu");function Ls(e){return Object.getOwnPropertyNames(Es).includes(e)}r(Ls,"isActivationKey");function sc(e){const t=Es[e];if(!t)throw new Error(`Unknown audit log expander key: ${e}`);return t}r(sc,"audit_log_suggester_selector");async function rc(e){const t=await(0,he.a)(document,e),n=document.createElement("div");return n.append(t),n}r(rc,"fetchMenu");const ic=(0,Re.Z)(rc);function ac(e){if(e.hasAttribute("data-use-colon-emoji"))return e.getAttribute("data-value");const t=e.firstElementChild;return t&&t.tagName==="G-EMOJI"&&!t.firstElementChild?t.textContent:e.getAttribute("data-value")}r(ac,"getValue");function cc(e,t){const n=` ${t.toLowerCase().replace(/_/g," ")}`,o=r(s=>{const i=s.getAttribute("data-emoji-name"),a=uc(lc(s),n);return a>0?{score:a,text:i}:null},"key");return(0,Ze.W)(e,o,ge.qu)}r(cc,"emoji_suggester_search");function lc(e){return` ${e.getAttribute("data-text").trim().toLowerCase().replace(/_/g," ")}`}r(lc,"emojiText");function uc(e,t){const n=e.indexOf(t);return n>-1?1e3-n:0}r(uc,"emojiScore"),(0,u.N7)("text-expander[data-emoji-url]",{subscribe:e=>(0,q.qC)((0,q.RB)(e,"text-expander-change",fc),(0,q.RB)(e,"text-expander-value",dc))});function dc(e){const t=e.detail;t.key===":"&&(t.value=ac(t.item))}r(dc,"emoji_suggester_onvalue");function fc(e){const{key:t,provide:n,text:o}=e.detail;if(t!==":")return;const i=e.target.getAttribute("data-emoji-url");n(mc(i,o))}r(fc,"emoji_suggester_onchange");async function mc(e,t){const[n,o]=await hc(e),s=cc(o,t).slice(0,5);n.innerHTML="";for(const i of s)n.append(i);return{fragment:n,matched:s.length>0}}r(mc,"emojiMenu");async function pc(e){const n=(await(0,he.a)(document,e)).firstElementChild;return[n,[...n.children]]}r(pc,"fetchEmoji");const hc=(0,Re.Z)(pc);var _e=f(38772);function gc(e){return`${e.number} ${e.title.trim().toLowerCase()}`}r(gc,"asText");function bc(e,t){if(!t)return e;const n=new RegExp(`\\b${yc(t)}`),o=/^\d+$/.test(t)?i=>vc(i,n):i=>(0,ge.EW)(i,t),s=r(i=>{const a=gc(i),l=o(a);return l>0?{score:l,text:a}:null},"key");return(0,Ze.W)(e,s,ge.qu)}r(bc,"issue_suggester_search");function yc(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(yc,"escapeRegExp");function vc(e,t){const n=e.search(t);return n>-1?1e3-n:0}r(vc,"issueNumberScore");function wc(e,t,n){const o=r(i=>_e.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${i.map(s)}
    </ul>
  `,"itemsTemplate"),s=r(i=>{const a=i.type in n?(0,_.r)(document,n[i.type]):"";return _e.dy`
      <li class="markdown-title" role="option" id="suggester-issue-${i.id}" data-value="${i.number}">
        <span class="d-inline-block mr-1">${a}</span>
        <small>#${i.number}</small> ${(0,_e.Au)(i.title)}
      </li>
    `},"itemTemplate");(0,_e.sY)(o(e),t)}r(wc,"renderResults"),(0,u.N7)("text-expander[data-issue-url]",{subscribe:e=>{const t=[(0,q.RB)(e,"text-expander-change",Lc),(0,q.RB)(e,"text-expander-value",Ec),(0,q.RB)(e,"keydown",Sc),(0,q.RB)(e,"click",jc)];return(0,q.qC)(...t)}});function Ec(e){const t=e.detail;if(t.key!=="#")return;const n=t.item.getAttribute("data-value");t.value=`#${n}`}r(Ec,"issue_suggester_onvalue");function Lc(e){const{key:t,provide:n,text:o}=e.detail;if(t!=="#")return;if(o==="#"){Cn(e.target);return}const i=e.target.getAttribute("data-issue-url");n(Tc(i,o))}r(Lc,"issue_suggester_onchange");function Cn(e){if(!e)return;const t=e.closest("text-expander");t&&t.dismiss()}r(Cn,"hideSuggestions");function jc(e){Cn(e.target)}r(jc,"issue_suggester_onclick");function Sc(e){const t=["ArrowRight","ArrowLeft"],{key:n}=e;t.indexOf(n)<0||Cn(e.target)}r(Sc,"issue_suggester_onkeydown");async function Tc(e,t){const n=await Ac(e),o=document.createElement("div"),s=bc(n.suggestions,t).slice(0,5);return wc(s,o,n.icons),{fragment:o.firstElementChild,matched:s.length>0}}r(Tc,"issueMenu");const Ac=(0,Re.Z)(async function(e){const t=await self.fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){const n=new Error,o=t.statusText?` ${t.statusText}`:"";throw n.message=`HTTP ${t.status}${o}`,n}return t.json()});function Cc(e){return e.description?`${e.name} ${e.description}`.trim().toLowerCase():`${e.login} ${e.name}`.trim().toLowerCase()}r(Cc,"mention_suggester_asText");function kc(e,t){if(!t)return e;const n=Mc(t),o=r(s=>{const i=Cc(s),a=n(i,s.participant);return a>0?{score:a,text:i}:null},"key");return(0,Ze.W)(e,o,ge.qu)}r(kc,"mention_suggester_search");function xc(e,t){const n=r(s=>_e.dy`
    <ul role="listbox" class="suggester-container suggester suggestions list-style-none position-absolute">
      ${s.map(o)}
    </ul>
  `,"itemsTemplate"),o=r(s=>{const i=s.type==="user"?s.login:s.name,a=s.type==="user"?s.name:s.description;return _e.dy`
      <li role="option" id="suggester-${s.id}-${s.type}-${i}" data-value="${i}">
        <span>${i}</span>
        <small>${a}</small>
      </li>
    `},"itemTemplate");(0,_e.sY)(n(e),t)}r(xc,"mention_suggester_renderResults");function Mc(e){if(!e)return()=>2;const t=e.toLowerCase().split("");return(n,o)=>{if(!n)return 0;const s=qc(n,t);if(!s)return 0;const a=e.length/s[1]/(s[0]/2+1);return o?a+1:a}}r(Mc,"fuzzyScorer");function qc(e,t){let n,o,s,i;const a=Rc(e,t[0]);if(a.length===0)return null;if(t.length===1)return[a[0],1,[]];for(i=null,o=0,s=a.length;o<s;o++){const l=a[o];if(!(n=Ic(e,t,l+1)))continue;const y=n[n.length-1]-l;(!i||y<i[1])&&(i=[l,y,n])}return i}r(qc,"shortestMatch");function Rc(e,t){let n=0;const o=[];for(;(n=e.indexOf(t,n))>-1;)o.push(n++);return o}r(Rc,"allIndexesOf");function Ic(e,t,n){let o=n;const s=[];for(let i=1;i<t.length;i+=1){if(o=e.indexOf(t[i],o),o===-1)return;s.push(o++)}return s}r(Ic,"indexesOfChars"),(0,u.N7)("text-expander[data-mention-url]",{subscribe:e=>(0,q.qC)((0,q.RB)(e,"text-expander-change",_c),(0,q.RB)(e,"text-expander-value",Pc))});function Pc(e){const t=e.detail;if(t.key!=="@")return;const n=t.item.getAttribute("data-value");t.value=`@${n}`}r(Pc,"mention_suggester_onvalue");function _c(e){const{key:t,provide:n,text:o}=e.detail;if(t!=="@"||(o==null?void 0:o.split(" ").length)>1)return;const i=e.target.getAttribute("data-mention-url");n(Dc(i,o))}r(_c,"mention_suggester_onchange");async function Dc(e,t){const n=await Hc(e),o=document.createElement("div"),s=kc(n,t).slice(0,5);return xc(s,o),{fragment:o.firstElementChild,matched:s.length>0}}r(Dc,"mentionMenu");const Hc=(0,Re.Z)(async function(e){const t=await self.fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!t.ok){const n=new Error,o=t.statusText?` ${t.statusText}`:"";throw n.message=`HTTP ${t.status}${o}`,n}return t.json()});function Nc(e,t){const n=e.closest(".js-survey-question-form"),o=n.querySelector("input.js-survey-other-text"),s=t&&!n.classList.contains("is-other-selected");n.classList.toggle("is-other-selected",s),o.hidden=!t,s?(o.required=!0,o.focus()):o.required=!1,(0,c.f)(o,"change")}r(Nc,"handleOther"),(0,c.on)("change","input.js-survey-radio",function({currentTarget:e}){Nc(e,e.classList.contains("js-survey-radio-other"))}),(0,c.on)("change","input.js-survey-contact-checkbox",function(e){const t=e.currentTarget,o=t.closest(".js-survey-question-form").querySelector(".js-survey-contact-checkbox-hidden");t.checked?o.setAttribute("disabled","true"):o.removeAttribute("disabled")}),(0,c.on)("details-menu-selected",".js-sync-select-menu-text",function(e){const t=document.querySelector(".js-sync-select-menu-button"),n=e.detail.relatedTarget.querySelector("span[data-menu-button-text]").textContent;t.textContent=n,t.focus()},{capture:!0}),(0,c.on)("click",'tab-container [role="tab"]',function(e){const{currentTarget:t}=e,o=t.closest("tab-container").querySelector(".js-filterable-field, [data-filter-placeholder-input]");if(o instanceof HTMLInputElement){const s=t.getAttribute("data-filter-placeholder");s&&o.setAttribute("placeholder",s),o.focus()}}),(0,c.on)("tab-container-changed","tab-container",function(e){const t=e.detail.relatedTarget,n=t.getAttribute("data-fragment-url"),o=t.querySelector("include-fragment");n&&o&&!o.hasAttribute("src")&&(o.src=n)});var au=f(32222),js=f(96776);document.addEventListener("keydown",e=>{if(e.key!=="Escape"||e.target!==document.body)return;const t=document.querySelector(".js-targetable-element:target");!t||(0,js.uQ)(t,()=>{window.location.hash="",(0,E.lO)(window.history.state,"",window.location.pathname+window.location.search)})}),document.addEventListener("click",e=>{const t=document.querySelector(".js-targetable-element:target");!t||e.target instanceof HTMLAnchorElement||e.target instanceof HTMLElement&&(t.contains(e.target)||(0,js.uQ)(t,()=>{window.location.hash="",(0,E.lO)(window.history.state,"",window.location.pathname+window.location.search)}))});var cu=f(72669);async function Oc(e){const t=e.currentTarget;if($c(t)){t.classList.remove("tooltipped");return}const n=t.getAttribute("data-url");if(!n)return;const o=await fetch(n,{headers:{Accept:"application/json"}});if(!o.ok)return;const s=await o.json(),i=t.getAttribute("data-id"),a=document.querySelectorAll(`.js-team-mention[data-id='${i}']`);for(const l of a)l.removeAttribute("data-url");try{s.total===0?s.members.push("This team has no members"):s.total>s.members.length&&s.members.push(`${s.total-s.members.length} more`),Ss(a,Bc(s.members))}catch(l){const y=l.response?l.response.status:500,w=t.getAttribute(y===404?"data-permission-text":"data-error-text");Ss(a,w)}}r(Oc,"members");function Ss(e,t){for(const n of e)n instanceof HTMLElement&&(n.setAttribute("aria-label",t),n.classList.add("tooltipped","tooltipped-s","tooltipped-multiline"))}r(Ss,"tip");function Bc(e){if("ListFormat"in Intl)return new Intl.ListFormat().format(e);if(e.length===0)return"";if(e.length===1)return e[0];if(e.length===2)return e.join(" and ");{const t=e[e.length-1];return e.slice(0,-1).concat(`and ${t}`).join(", ")}}r(Bc,"sentence");function $c(e){return!!e.getAttribute("data-hovercard-url")&&!!e.closest("[data-team-hovercards-enabled]")}r($c,"teamHovercardEnabled"),(0,u.N7)(".js-team-mention",function(e){e.addEventListener("mouseenter",Oc)});function Fc(){const e=document.querySelector(".js-timeline-marker");return e!=null?e.getAttribute("data-last-modified"):null}r(Fc,"getTimelineLastModified");function Ts(e){if(Wc(e)||Uc(e))return;const t=Fc();t&&e.headers.set("X-Timeline-Last-Modified",t)}r(Ts,"addTimelineLastModifiedHeader");function Uc(e){return e.headers.get("X-PJAX")==="true"}r(Uc,"isPjax");function Wc(e){let t;try{t=new URL(e.url)}catch{return!0}return t.host!==window.location.host}r(Wc,"isCrossDomain"),(0,A.AC)(".js-needs-timeline-marker-header",function(e,t,n){Ts(n)}),(0,c.on)("deprecatedAjaxSend","[data-remote]",function(e){const{request:t}=e.detail;Ts(t)});const As=5e3,zc=".js-comment-body img",Kc=".js-comment-body video";(0,Gt.Z)(function(){Tt()}),(0,u.N7)(".js-timeline-progressive-focus-container",function(e){const t=At();if(!t||document.querySelector(".js-pull-discussion-timeline"))return;const o=document.getElementById(t);o&&e.contains(o)&&kn(o)});function Tt(e=!0){const t=At();if(!t)return;const n=document.getElementById(t);if(n)kn(n);else{if(Vc(t))return;const o=document.querySelector("#js-timeline-progressive-loader");o&&e&&xs(t,o)}}r(Tt,"focusOrLoadElement");function Vc(e){return Xc(e)||Cs(e,".js-thread-hidden-comment-ids")||Cs(e,".js-review-hidden-comment-ids")}r(Vc,"loadComments");function Xc(e){const t=ks(e,".js-comment-container");return t?((0,Zt.$)(t),!0):!1}r(Xc,"loadResolvedComments");function Cs(e,t){const n=ks(e,t);return n?(n.addEventListener("page:loaded",function(){Tt()}),n.querySelector("button[type=submit]").click(),!0):!1}r(Cs,"loadHiddenComments");function ks(e,t){var n;const o=document.querySelectorAll(t);for(const s of o){const i=s.getAttribute("data-hidden-comment-ids");if(i){const a=i.split(","),l=(n=e.match(/\d+/g))==null?void 0:n[0];if(l&&a.includes(l))return s}}return null}r(ks,"findCommentContainer"),(0,u.N7)(".js-inline-comments-container",function(e){const t=At();if(!t)return;const n=document.getElementById(t);n&&e.contains(n)&&kn(n)}),(0,u.N7)("#js-discussions-timeline-anchor-loader",{constructor:HTMLElement,add:e=>{if(document.querySelector("#js-timeline-progressive-loader"))return;const n=At();if(!n)return;document.getElementById(n)||xs(n,e)}});async function Gc(){const e=document.querySelectorAll(Kc),t=Array.from(e).map(n=>new Promise(o=>{if(n.readyState>=n.HAVE_METADATA)o(n);else{const s=setTimeout(()=>o(n),As),i=r(()=>{clearTimeout(s),o(n)},"done");n.addEventListener("loadeddata",()=>{n.readyState>=n.HAVE_METADATA&&i()}),n.addEventListener("error",()=>i())}}));return Promise.all(t)}r(Gc,"videosReady");async function Zc(){const e=document.querySelectorAll(zc),t=Array.from(e).map(n=>{new Promise(o=>{if(n.complete)o(n);else{const s=setTimeout(()=>o(n),As),i=r(()=>{clearTimeout(s),o(n)},"done");n.addEventListener("load",()=>i()),n.addEventListener("error",()=>i())}})});return Promise.all(t)}r(Zc,"imagesReady");async function Jc(){return Promise.all([Gc(),Zc()])}r(Jc,"mediaLoaded");async function kn(e){await Jc(),Yc(e);const t=e.querySelector(`[href='#${e.id}']`);if(t){const n=t.getAttribute("data-turbo");t.setAttribute("data-turbo","false"),t.click(),n===null?t.removeAttribute("data-turbo"):t.setAttribute("data-turbo",n)}}r(kn,"focusElement");async function xs(e,t){if(!t)return;const n=t.getAttribute("data-timeline-item-src");if(!n)return;const o=new URL(n,window.location.origin),s=new URLSearchParams(o.search.slice(1));s.append("anchor",e),o.search=s.toString();let i;try{i=await(0,he.a)(document,o.toString())}catch{return}const a=i.querySelector(".js-timeline-item");if(!a)return;const l=a.getAttribute("data-gid");if(!l)return;const y=document.querySelector(`.js-timeline-item[data-gid='${l}']`);if(y)y.replaceWith(a),Tt(!1);else{const w=document.getElementById("js-progressive-timeline-item-container");w&&w.replaceWith(i),Tt(!1)}}r(xs,"loadElement");function Yc(e){const t=e.closest("details, .js-details-container");!t||(t.nodeName==="DETAILS"?t.setAttribute("open","open"):(0,Xt.jo)(t)||(0,Xt.Qp)(t))}r(Yc,"expandDetailsIfPresent");function At(){return window.location.hash.slice(1)}r(At,"urlAnchor"),(0,u.N7)(".js-discussion",Qc);function Qc(){let e=new WeakSet;t(),document.addEventListener("pjax:end",t),document.addEventListener("turbo:load",t),(0,u.N7)(".js-timeline-item",n=>{n instanceof HTMLElement&&(e.has(n)||(0,p.N)(n))});function t(){e=new WeakSet(document.querySelectorAll(".js-timeline-item"))}r(t,"setExistingTimelineItems")}r(Qc,"announceTimelineEvents");var Qe=f(82131);function et(e){const{name:t,value:n}=e,o={name:window.location.href};switch(t){case"CLS":o.cls=n;break;case"FCP":o.fcp=n;break;case"FID":o.fid=n;break;case"LCP":o.lcp=n;break;case"TTFB":o.ttfb=n;break}(0,pe.b)({webVitalTimings:[o]}),el(t,n)}r(et,"sendVitals");function el(e,t){const n=document.querySelector("#staff-bar-web-vitals"),o=n==null?void 0:n.querySelector(`[data-metric=${e.toLowerCase()}]`);!o||(o.textContent=t.toPrecision(6))}r(el,"updateStaffBar");function tl(){return!!(window.performance&&window.performance.timing&&window.performance.getEntriesByType)}r(tl,"isTimingSuppported");async function nl(){if(!tl())return;await me.C,await new Promise(n=>setTimeout(n));const e=window.performance.getEntriesByType("resource");e.length&&(0,pe.b)({resourceTimings:e});const t=window.performance.getEntriesByType("navigation");t.length&&(0,pe.b)({navigationTimings:t})}r(nl,"sendTimingResults"),nl(),(0,Qe.kz)(et),(0,Qe.Y)(et),(0,Qe.Tx)(et),(0,Qe.Tb)(et),(0,Qe.CA)(et),(0,c.on)("click",".js-toggler-container .js-toggler-target",function(e){if(e.button!==0)return;const t=e.currentTarget.closest(".js-toggler-container");t&&t.classList.toggle("on")}),(0,A.AC)(".js-toggler-container",async(e,t)=>{e.classList.remove("success","error"),e.classList.add("loading");try{await t.text(),e.classList.add("success")}catch{e.classList.add("error")}finally{e.classList.remove("loading")}}),async function(){var e;if("serviceWorker"in navigator){await me.x;const t=(e=document.querySelector('link[rel="service-worker-src"]'))==null?void 0:e.href;t?navigator.serviceWorker.register(t,{scope:"/"}):await ol()}}();async function ol(){let e=[];try{e=await navigator.serviceWorker.getRegistrations()}catch(t){if(t.name==="SecurityError")return}for(const t of e)t.unregister()}if(r(ol,"unregisterAllServiceWorkers"),(0,re.x)()){const e={},t=r(M=>{var R,B;const Q=M.querySelector("[data-turbo-head]")||M.head;return{title:(R=Q.querySelector("title"))==null?void 0:R.textContent,scripts:[...M.querySelectorAll("script")],stylesheets:[...M.querySelectorAll("link[rel=stylesheet]")],transients:[...Q.querySelectorAll("[data-pjax-transient]")],bodyClasses:(B=M.querySelector("meta[name=turbo-body-classes]"))==null?void 0:B.content}},"getTurboCacheNode");(async()=>(await me.x,e[document.location.href]=t(document)))();let n,o=!1;document.addEventListener("turbo:visit",M=>{M instanceof CustomEvent&&(n=M.detail.url)}),document.addEventListener("turbo:before-fetch-response",async M=>{if(!(0,re.H)(M.target))return;const R=await M.detail.fetchResponse.responseHTML,B=new DOMParser().parseFromString(R,"text/html");s(B)}),document.addEventListener("turbo:frame-render",async M=>{o=!0;const R=await M.detail.fetchResponse.responseHTML,B=new DOMParser().parseFromString(R,"text/html");a(B),e[n]=t(B)}),document.addEventListener(Se.QE.SUCCESS,()=>{i(),!!o&&(o=!1,l(),y(),w(),T(),document.dispatchEvent(new CustomEvent(Se.QE.FRAME_UPDATE)))});const s=r(M=>{var R;const B=(R=M.querySelector("meta[name=turbo-body-classes]"))==null?void 0:R.content;!B||document.body.setAttribute("class",B)},"replaceBodyClassesFromRequest"),i=r(()=>{var M;const R=(M=e[document.location.href])==null?void 0:M.bodyClasses;!R||document.body.setAttribute("class",R)},"replaceBodyClassesFromCachedNodes"),a=r(M=>{const R=M.querySelectorAll("[data-turbo-replace]"),B=[...document.querySelectorAll("[data-turbo-replace]")];for(const Q of R){const Y=B.find(oe=>oe.id===Q.id);Y&&Y.replaceWith(Q)}},"replaceElements"),l=r(()=>{var M;const R=(M=e[document.location.href])==null?void 0:M.title;R&&(document.title=R)},"replaceTitle"),y=r(()=>{var M;const R=(M=e[document.location.href])==null?void 0:M.transients;if(!!R){for(const B of document.querySelectorAll("head [data-pjax-transient]"))B.remove();for(const B of R)B.matches("title, script, link[rel=stylesheet]")||(B.setAttribute("data-pjax-transient",""),document.head.append(B))}},"replaceTransientTags"),w=r(()=>{var M;const R=(M=e[document.location.href])==null?void 0:M.stylesheets;if(!!R)for(const B of R)document.head.querySelector(`link[href="${B.getAttribute("href")}"],
           link[data-href="${B.getAttribute("data-href")}"]`)||document.head.append(B)},"addNewStylesheets"),T=r(()=>{var M;const R=(M=e[document.location.href])==null?void 0:M.scripts;if(!!R)for(const B of R)document.head.querySelector(`script[src="${B.getAttribute("src")}"]`)||N(B)},"addNewScripts"),N=r(M=>{const{src:R}=M,B=document.createElement("script"),Q=M.getAttribute("type");Q&&(B.type=Q);const Y=M.getAttribute("integrity");Y&&(B.integrity=Y,B.crossOrigin="anonymous"),B.src=R,document.head&&document.head.appendChild(B)},"executeScriptTag")}function sl(){if("Intl"in window)try{return new window.Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}r(sl,"timezone"),window.requestIdleCallback(()=>{const e=sl();e&&(0,Xe.d8)("tz",encodeURIComponent(e))});var J=f(90420),Ms=f(70112),rl=Object.defineProperty,il=Object.getOwnPropertyDescriptor,ie=r((e,t,n,o)=>{for(var s=o>1?void 0:o?il(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&rl(t,n,s),s},"__decorateClass"),al=(e=>(e.Initializing="initializing",e.Unsupported="unsupported",e.Ready="ready",e.Waiting="waiting",e.Error="error",e.Submitting="submitting",e))(al||{});let be=r(class extends HTMLElement{constructor(){super(...arguments);this.state="initializing",this.json="",this.autofocusWhenReady=!1,this.autoPrompt=!1,this.hasErrored=!1}connectedCallback(){this.originalButtonText=this.button.textContent,this.setState((0,Ms.Zh)()?"ready":"unsupported"),this.autoPrompt&&this.prompt(void 0,!0)}setState(e){this.button.textContent=this.hasErrored?this.button.getAttribute("data-retry-message"):this.originalButtonText,this.button.disabled=!1,this.button.hidden=!1;for(const t of this.messages)t.hidden=!0;switch(e){case"initializing":this.button.disabled=!0;break;case"unsupported":this.button.disabled=!0,this.unsupportedMessage.hidden=!1;break;case"ready":this.autofocusWhenReady&&this.button.focus();break;case"waiting":this.waitingMessage.hidden=!1,this.button.hidden=!0;break;case"error":this.errorMessage.hidden=!1;break;case"submitting":this.button.textContent="Verifying\u2026",this.button.disabled=!0;break;default:throw new Error("invalid state")}this.state=e}async prompt(e,t){e==null||e.preventDefault(),this.dispatchEvent(new CustomEvent("webauthn-get-prompt"));try{t||this.setState("waiting");const n=JSON.parse(this.json),o=await(0,Ms.U2)(n);this.setState("submitting");const s=this.closest(".js-webauthn-form"),i=s.querySelector(".js-webauthn-response");i.value=JSON.stringify(o),(0,L.Bt)(s)}catch(n){if(!t)throw this.hasErrored=!0,this.setState("error"),n}}},"WebauthnGetElement");ie([J.fA],be.prototype,"button",2),ie([J.GO],be.prototype,"messages",2),ie([J.fA],be.prototype,"unsupportedMessage",2),ie([J.fA],be.prototype,"waitingMessage",2),ie([J.fA],be.prototype,"errorMessage",2),ie([J.Lj],be.prototype,"json",2),ie([J.Lj],be.prototype,"autofocusWhenReady",2),ie([J.Lj],be.prototype,"autoPrompt",2),be=ie([J.Ih],be);var cl=(e=>(e.Initializing="initializing",e.ShowingForm="showing-form",e.ShowingRevealer="showing-revealer",e))(cl||{});let ze=r(class extends HTMLElement{constructor(){super(...arguments);this.state="showing-form"}connectedCallback(){this.setState(this.state)}setState(e){switch(this.revealer.hidden=!0,this.form.hidden=!1,e){case"initializing":break;case"showing-form":this.dispatchEvent(new CustomEvent("sudo-password-showing-form"));break;case"showing-revealer":this.revealer.hidden=!1,this.form.hidden=!0;break;default:throw new Error("invalid state")}this.state=e}reveal(){this.setState("showing-form")}},"SudoPasswordElement");ie([J.Lj],ze.prototype,"state",2),ie([J.fA],ze.prototype,"revealer",2),ie([J.fA],ze.prototype,"form",2),ie([J.fA],ze.prototype,"passwordField",2),ze=ie([J.Ih],ze);let Ct=r(class extends HTMLElement{connectedCallback(){var e;(e=this.webauthnGet)==null||e.addEventListener("webauthn-get-prompt",()=>{this.sudoPassword.setState("showing-revealer")}),this.sudoPassword.addEventListener("sudo-password-showing-form",()=>{var t;(t=this.webauthnGet)==null||t.setState("ready"),this.sudoPassword.passwordField.focus()})}},"SudoAuthElement");ie([J.fA],Ct.prototype,"webauthnGet",2),ie([J.fA],Ct.prototype,"sudoPassword",2),Ct=ie([J.Ih],Ct);let xn=0;function ll(){if(!document.hasFocus())return;const e=document.querySelector(".js-timeline-marker-form");e&&e instanceof HTMLFormElement&&(0,L.Bt)(e)}r(ll,"markThreadAsRead");const kt="IntersectionObserver"in window?new IntersectionObserver(function(e){for(const t of e)t.isIntersecting&&qs(t.target)},{root:null,rootMargin:"0px",threshold:1}):null;(0,u.N7)(".js-unread-item",{constructor:HTMLElement,add(e){xn++,kt&&kt.observe(e)},remove(e){xn--,kt&&kt.unobserve(e),xn===0&&ll()}});function qs(e){e.classList.remove("js-unread-item","unread-item")}r(qs,"clearUnread"),(0,u.N7)(".js-discussion[data-channel-target]",{subscribe:e=>(0,q.RB)(e,"socket:message",function(t){const n=t.target,o=t.detail.data;if(n.getAttribute("data-channel-target")===o.gid)for(const s of document.querySelectorAll(".js-unread-item"))qs(s)})});let xt=0;const Rs=/^\(\d+\)\s+/;function Is(){const e=xt?`(${xt}) `:"";document.title.match(Rs)?document.title=document.title.replace(Rs,e):document.title=`${e}${document.title}`}r(Is,"updateTitle"),(0,u.N7)(".js-unread-item",{add(){xt++,Is()},remove(){xt--,Is()}}),(0,u.N7)(".js-socket-channel.js-updatable-content",{subscribe:e=>(0,q.RB)(e,"socket:message",function(t){const{gid:n,wait:o}=t.detail.data,s=t.target,i=n?ul(s,n):s;i&&setTimeout(qe.x0,o||0,i)})});function ul(e,t){if(e.getAttribute("data-gid")===t)return e;for(const n of e.querySelectorAll("[data-url][data-gid]"))if(n.getAttribute("data-gid")===t)return n;return null}r(ul,"findByGid");async function dl(){if(!(!history.state||!history.state.staleRecords)){await me.x;for(const e in history.state.staleRecords)for(const t of document.querySelectorAll(`.js-updatable-content [data-url='${e}'], .js-updatable-content[data-url='${e}']`)){const n=history.state.staleRecords[e];t instanceof HTMLElement&&(0,qe.Of)(t,n,!0)}(0,E.lO)(null,"",location.href)}}r(dl,"reapplyPreviouslyUpdatedContent"),window.addEventListener("pagehide",qe.z8);try{dl()}catch{}(0,c.on)("upload:setup",".js-upload-avatar-image",function(e){const{form:t}=e.detail,n=e.currentTarget.getAttribute("data-alambic-organization"),o=e.currentTarget.getAttribute("data-alambic-owner-type"),s=e.currentTarget.getAttribute("data-alambic-owner-id");n&&t.append("organization_id",n),o&&t.append("owner_type",o),s&&t.append("owner_id",s)}),(0,c.on)("upload:complete",".js-upload-avatar-image",function(e){const{attachment:t}=e.detail,n=`/settings/avatars/${t.id}`;(0,Te.W)({content:(0,he.a)(document,n),detailsClass:"upload-avatar-details"})}),(0,c.on)("dialog:remove",".upload-avatar-details",async function(e){const o=`/settings/avatars/${e.currentTarget.querySelector("#avatar-crop-form").getAttribute("data-alambic-avatar-id")}?op=destroy`,s=e.currentTarget.querySelector(".js-avatar-post-csrf").getAttribute("value"),i=new Request(o,{method:"POST",headers:{"Scoped-CSRF-Token":s,"X-Requested-With":"XMLHttpRequest"}});await self.fetch(i)});function Mt(){if(document.querySelector(":target"))return;const e=(0,An.$z)(location.hash).toLowerCase(),t=(0,An.Q)(document,`user-content-${e}`);t&&(0,on.zT)(t)}r(Mt,"hashchange"),window.addEventListener("hashchange",Mt),document.addEventListener("pjax:success",Mt),async function(){await me.x,Mt()}(),(0,c.on)("click","a[href]",function(e){const{currentTarget:t}=e;t instanceof HTMLAnchorElement&&t.href===location.href&&location.hash.length>1&&setTimeout(function(){e.defaultPrevented||Mt()})});var lu=f(95128);async function fl(e){const t=e.currentTarget,{init:n}=await f.e("app_assets_modules_github_user-status-submit_ts").then(f.bind(f,35145));n(t)}r(fl,"user_status_loader_load"),(0,u.N7)(".js-user-status-container",{subscribe:e=>(0,q.RB)(e,"click",fl,{once:!0})});var qt=f(55741);function ml(e,t){const n=e.querySelector(".js-user-list-base");n&&(n.textContent=t||n.getAttribute("data-generic-message"),n.hidden=!1)}r(ml,"setFlashError");function Ps(e,t){const o=(t||e).querySelectorAll(".js-user-list-error");for(const a of o)a.hidden=!0;const s=t?[t]:e.querySelectorAll(".errored.js-user-list-input-container");for(const a of s)a.classList.remove("errored");const i=e.querySelector(".js-user-list-base");i&&(i.hidden=!0)}r(Ps,"resetValidation"),(0,A.AC)(".js-user-list-form",async function(e,t){var n;Ps(e);const o=e.querySelector("[data-submitting-message]"),s=o==null?void 0:o.textContent;o&&(o.textContent=o.getAttribute("data-submitting-message"),o.disabled=!0);for(const i of e.querySelectorAll(".js-user-list-input"))i.disabled=!0;try{const i=await t.html();(0,c.f)(e,"user-list-form:success",i.html)}catch(i){if(((n=i.response)==null?void 0:n.status)===422)e.replaceWith(i.response.html);else{ml(e),o&&(s&&(o.textContent=s),o.disabled=!1);for(const a of e.querySelectorAll(".js-user-list-input"))a.disabled=!1}}}),(0,c.on)("user-list-form:success",".js-follow-list",e=>{const t=e.detail,n=t instanceof DocumentFragment?t.querySelector(".js-target-url"):null;(n==null?void 0:n.textContent)?location.href=n.textContent:location.reload()});function _s(e){if(!(e.currentTarget instanceof HTMLElement))return;const t=e.currentTarget.closest(".js-user-list-form"),n=e.currentTarget.closest(".js-user-list-input-container");t&&n&&Ps(t,n)}r(_s,"clearErrorsFromInput"),(0,j.q6)(".js-user-list-form input",_s),(0,j.q6)(".js-user-list-form textarea",_s),(0,c.on)("auto-check-error",".js-user-list-form input",function(e){const t=e.currentTarget.closest(".js-user-list-input-container"),n=t==null?void 0:t.querySelector(".js-user-list-error");n&&(n.hidden=!1)});function pl(e){var t;const n=new Map;for(const o of e){const s=(t=o.querySelector(".js-user-lists-create-trigger"))==null?void 0:t.getAttribute("data-repository-id");if(s){const i=n.get(s);i?i.push(o):n.set(s,[o])}}return n}r(pl,"groupRootsByRepositoryId");async function hl(e,t,n){const o=new FormData;o.set("authenticity_token",t);for(const a of n)o.append("repository_ids[]",a);const s=await fetch(e,{method:"POST",body:o,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}),i=new Map;if(s.ok){const a=await s.json();for(const l in a)i.set(l,(0,_.r)(document,a[l]))}return i}r(hl,"requestMenuBatchRender");function gl(e,t){for(const[n,o]of e.entries()){const s=t.get(n)||[];for(const i of s)i.replaceWith(s.length===1?o:o.cloneNode(!0))}}r(gl,"replaceUserListMenuRoots");async function Ds(){var e;const t=document.querySelectorAll(".js-user-list-menu-content-root");if(t.length===0)return;const n=t[0].getAttribute("data-batch-update-url");if(!n)return;const o=(e=t[0].querySelector(".js-user-list-batch-update-csrf"))==null?void 0:e.value;if(!o)return;const s=pl(t),i=s.keys(),a=await hl(n,o,i);a.size>0&&gl(a,s)}r(Ds,"updateAllUserListMenus");function bl(e){const t=new Promise((n,o)=>{e.addEventListener("user-list-menu-form:success",()=>n()),e.addEventListener("user-list-menu-form:error",s=>o(s))});return(0,L.Bt)(e),t}r(bl,"requestUserListMenuFormSubmit");function yl(e){const t=e.target;if(!(t instanceof HTMLDetailsElement)||t.hasAttribute("open"))return;const n=t.querySelector(".js-user-list-menu-form");n&&(0,qt.T)(n)&&(0,L.Bt)(n);const o=t.querySelector(".js-user-list-create-trigger-text");o&&(o.textContent="")}r(yl,"submitUserListFormOnToggle"),(0,c.on)("toggle",".js-user-list-menu",yl,{capture:!0}),(0,j.q6)(".js-user-lists-menu-filter",e=>{const t=e.currentTarget,n=t.value.trim(),o=t.closest(".js-user-list-menu-content-root"),s=o==null?void 0:o.querySelector(".js-user-list-create-trigger-text");!s||(s.textContent=n?`"${n}"`:"")}),(0,A.AC)(".js-user-list-menu-form",async function(e,t){let n;try{n=await t.json()}catch(s){(0,S.v)(),(0,c.f)(e,"user-list-menu-form:error",s);return}if(n.json.didStar){const s=e.closest(".js-toggler-container");s&&s.classList.add("on");const i=n.json.starCount;if(i){const a=e.closest(".js-social-container");a&&ds(a,i)}}const o=e.closest(".js-user-list-menu-content-root[data-update-after-submit]");if(o)for(const s of e.querySelectorAll(".js-user-list-menu-item"))s.checked=s.defaultChecked;n.json.didCreate?await Ds():o&&await(0,qe.x0)(o),(0,c.f)(e,"user-list-menu-form:success")}),(0,c.on)("click",".js-user-list-delete-confirmation-trigger",e=>{const{currentTarget:t}=e,n=t.getAttribute("data-template-id");if(!n)return;const o=document.getElementById(n);if(!o||!(o instanceof HTMLTemplateElement))return;const s=t.closest(".js-edit-user-list-dialog");s&&(s.open=!1);const i=o.content.cloneNode(!0),a=o.getAttribute("data-labelledby");(0,Te.W)({content:i,labelledBy:a})}),(0,c.on)("click",".js-user-lists-create-trigger",async function(e){const{currentTarget:t}=e,n=document.querySelector(".js-user-list-create-dialog-template"),o=e.currentTarget.getAttribute("data-repository-id"),s=t.closest(".js-user-list-menu-content-root"),i=s==null?void 0:s.querySelector(".js-user-lists-menu-filter"),a=i==null?void 0:i.value.trim();if(!n||!(n instanceof HTMLTemplateElement)||!o){t instanceof HTMLButtonElement&&(t.disabled=!0);return}const l=n.getAttribute("data-label");if(s&&(0,qt.T)(s)){const T=s.querySelector(".js-user-list-menu-form");T&&await bl(T)}const y=new ut.R(n,{repositoryId:o,placeholderName:a}),w=await(0,Te.W)({content:y,label:l});w.addEventListener("user-list-form:success",async()=>{await Ds();const T=w.closest("details");T&&(T.open=!1)})}),(0,u.N7)("[data-warn-unsaved-changes]",{add(e){e.addEventListener("input",Rt),e.addEventListener("change",Rt),e.addEventListener("submit",tt);const t=e.closest("details-dialog");t&&(t.closest("details").addEventListener("toggle",Hs),t.addEventListener("details-dialog-close",Ns))},remove(e){e.removeEventListener("input",Rt),e.removeEventListener("change",Rt),e.removeEventListener("submit",tt);const t=e.closest("details-dialog");t&&(t.closest("details").removeEventListener("toggle",Hs),t.removeEventListener("details-dialog-close",Ns),tt())}});function Rt(e){const t=e.currentTarget;(0,qt.T)(t)?vl(t):tt()}r(Rt,"prepareUnsavedChangesWarning");function vl(e){const t=e.getAttribute("data-warn-unsaved-changes")||"Changes you made may not be saved.";window.onbeforeunload=function(n){return n.returnValue=t,t}}r(vl,"enableSaveChangesReminder");function tt(){window.onbeforeunload=null}r(tt,"disableSaveChangesReminder");function Hs({currentTarget:e}){e.hasAttribute("open")||tt()}r(Hs,"disableSaveChangesReminderOnClosedDialogs");function Ns(e){const t=e.currentTarget;if(!t.closest("details[open]"))return;let o=!0;const s=t.querySelectorAll("form[data-warn-unsaved-changes]");for(const i of s)if((0,qt.T)(i)){const a=i.getAttribute("data-warn-unsaved-changes");o=confirm(a);break}o||e.preventDefault()}r(Ns,"promptOnDialogClosing"),(0,u.N7)(".will-transition-once",{constructor:HTMLElement,subscribe:e=>(0,q.RB)(e,"transitionend",wl)});function wl(e){e.target.classList.remove("will-transition-once")}r(wl,"onTransitionEnd");async function El(e){const t=e.currentTarget,n=t.getAttribute("data-url");if(!n||Ll(t))return;const o=t.getAttribute("data-id")||"",s=t.textContent,i=document.querySelectorAll(`.js-issue-link[data-id='${o}']`);for(const a of i)a.removeAttribute("data-url");try{const a=`${n}/title`,l=await fetch(a,{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json"}});if(!l.ok){const w=new Error,T=l.statusText?` ${l.statusText}`:"";throw w.message=`HTTP ${l.status}${T}`,w}const y=await l.json();Os(i,`${s}, ${y.title}`)}catch(a){const l=(a.response!=null?a.response.status:void 0)||500,y=(()=>{switch(l){case 404:return t.getAttribute("data-permission-text");default:return t.getAttribute("data-error-text")}})();Os(i,y||"")}}r(El,"issueLabel");function Os(e,t){for(const n of e)n instanceof HTMLElement&&(n.classList.add("tooltipped","tooltipped-ne"),n.setAttribute("aria-label",t))}r(Os,"setLabel");function Ll(e){switch(e.getAttribute("data-hovercard-type")){case"issue":case"pull_request":return!!e.closest("[data-issue-and-pr-hovercards-enabled]");case"discussion":return!!e.closest("[data-discussion-hovercards-enabled]");default:return!1}}r(Ll,"isHovercardEnabled"),(0,u.N7)(".js-issue-link",{subscribe:e=>(0,q.RB)(e,"mouseenter",El)});var jl=f(12085),De=f.n(jl);function Mn(){return[Math.floor(Math.random()*(255-0)+0),Math.floor(Math.random()*(255-0)+0),Math.floor(Math.random()*(255-0)+0)]}r(Mn,"randomRGBColor");function nt(e,t){const n=De().rgb.hsl(t);e.style.setProperty("--label-r",t[0].toString()),e.style.setProperty("--label-g",t[1].toString()),e.style.setProperty("--label-b",t[2].toString()),e.style.setProperty("--label-h",n[0].toString()),e.style.setProperty("--label-s",n[1].toString()),e.style.setProperty("--label-l",n[2].toString())}r(nt,"setColorSwatch");function qn(e,t){e.blur();const n=e.closest("form"),o=n.querySelector(".js-new-label-color-input");(0,L.Se)(o,`#${De().rgb.hex(t)}`);const s=n.querySelector(".js-new-label-color");nt(s,t)}r(qn,"setInputColorFromButton");function Sl(e,t){e.closest(".js-label-error-container").classList.add("errored"),e.textContent=t,e.hidden=!1}r(Sl,"addErrorToField");function Tl(e){e.closest(".js-label-error-container").classList.remove("errored"),e.hidden=!0}r(Tl,"removeErrorFromField");function Ke(e,t,n){const o=t.querySelector(e);!o||(n?Sl(o,n[0]):Tl(o))}r(Ke,"showOrHideLabelError");function Rn(e,t){Ke(".js-label-name-error",e,t.name),Ke(".js-label-description-error",e,t.description),Ke(".js-label-color-error",e,t.color)}r(Rn,"showLabelErrors");function He(e){Ke(".js-label-name-error",e,null),Ke(".js-label-description-error",e,null),Ke(".js-label-color-error",e,null)}r(He,"hideLabelErrors");function Al(e,t,n,o,s){const i=new URL(`${e}${encodeURIComponent(t)}`,window.location.origin),a=new URLSearchParams(i.search.slice(1));return a.append("color",n),o&&a.append("description",o),s&&a.append("id",s),i.search=a.toString(),i.toString()}r(Al,"labelPreviewUrl");function Cl(e){let t=null;const n=e.querySelector(".js-new-label-description-input");return n instanceof HTMLInputElement&&n.value.trim().length>0&&(t=n.value.trim()),t}r(Cl,"labelDescriptionFrom");function kl(e){const t=e.querySelector(".js-new-label-color-input");return t.checkValidity()?t.value.trim().replace(/^#/,""):"ededed"}r(kl,"labelColorFrom");function xl(e,t){let o=e.querySelector(".js-new-label-name-input").value.trim();return o.length<1&&(o=t.getAttribute("data-default-name")),o}r(xl,"labelNameFrom");async function Ve(e){const t=e.closest(".js-label-preview-container");if(!t)return;const n=e.closest(".js-label-form"),o=n.querySelector(".js-new-label-error"),s=n.getAttribute("data-label-id"),i=t.querySelector(".js-label-preview"),a=xl(n,i);if(!n.checkValidity()&&a!=="Label preview")return;const l=kl(n),y=Cl(n),w=i.getAttribute("data-url-template"),T=Al(w,a,l,y,s);if(t.hasAttribute("data-last-preview-url")){const M=t.getAttribute("data-last-preview-url");if(T===M)return}let N;try{N=await(0,he.a)(document,T)}catch(M){const R=await M.response.json();Rn(n,R),o&&(o.textContent=R.message,o.hidden=!1);return}o&&(o.textContent="",o.hidden=!0),He(n),i.innerHTML="",i.appendChild(N),t.setAttribute("data-last-preview-url",T)}r(Ve,"updateLabelPreview");function Ml(e){Ve(e.target)}r(Ml,"onLabelFormInputChange");function Bs(e,t){e.closest(".js-details-container").classList.toggle("is-empty",t)}r(Bs,"toggleBlankSlate");function $s(e){const t=document.querySelector(".js-labels-count"),o=Number(t.textContent)+e;t.textContent=o.toString();const s=document.querySelector(".js-labels-label");return s.textContent=s.getAttribute(o===1?"data-singular-string":"data-plural-string"),o}r($s,"updateCount"),(0,j.q6)(".js-label-filter-field",function(e){const t=e.target,o=t.closest("details-menu").querySelector(".js-new-label-name");if(!o)return;const s=t.value.trim();o.textContent=s}),(0,c.on)("filterable:change",".js-filterable-issue-labels",function(e){const t=e.currentTarget.closest("details-menu"),n=t.querySelector(".js-add-label-button");if(!n)return;const s=e.detail.inputField.value.trim().toLowerCase();let i=!1;for(const a of t.querySelectorAll("input[data-label-name]"))if((a.getAttribute("data-label-name")||"").toLowerCase()===s){i=!0;break}n.hidden=s.length===0||i}),(0,j.ZG)(".js-new-label-color-input",function(e){const n=e.closest("form").querySelector(".js-new-label-swatches");n.hidden=!1,e.addEventListener("blur",function(){n.hidden=!0},{once:!0})}),(0,j.q6)(".js-new-label-color-input",function(e){const t=e.target;let n=t.value.trim();if(!(n.length<1))if(n.indexOf("#")!==0&&(n=`#${n}`,t.value=n),t.checkValidity()){t.classList.remove("color-fg-danger");const s=t.closest("form").querySelector(".js-new-label-color");nt(s,De().hex.rgb(n))}else t.classList.add("color-fg-danger")}),(0,j.w4)("keyup",".js-new-label-color-input",function(e){const t=e.target;let n=t.value.trim();if(n.indexOf("#")!==0&&(n=`#${n}`,t.value=n),t.checkValidity()){const i=t.closest("form").querySelector(".js-new-label-color");nt(i,De().hex.rgb(n))}(0,c.f)(t,"change",!1);const o=t.closest("form");He(o)}),(0,j.w4)("keyup",".js-new-label-description-input",function(e){const n=e.target.form;He(n)}),(0,j.w4)("keyup",".js-new-label-color-input",function(e){const n=e.target.form;He(n)}),(0,c.on)("click",".js-new-label-color",async function(e){const t=e.currentTarget,n=Mn();qn(t,n),Ve(t)}),(0,c.on)("mousedown",".js-new-label-color-swatch",function(e){const t=e.currentTarget,n=t.getAttribute("data-color");qn(t,De().hex.rgb(n)),Ve(t);const o=t.closest(".js-new-label-swatches");o.hidden=!0}),(0,c.on)("toggle",".js-new-label-modal",function(e){e.target.hasAttribute("open")&&Fs(e.target)},{capture:!0});async function Fs(e){const t=e.querySelector(".js-new-label-name-input");if(!t)return;const n=e.querySelector(".js-new-label-color-input"),o=Mn(),s=`#${De().rgb.hex(o)}`;n.value=s;const i=e.querySelector(".js-new-label-color");nt(i,o);const l=document.querySelector(".js-new-label-name").textContent;(0,L.Se)(t,l),(0,Nt.OD)(t),Ve(i)}r(Fs,"initLabelModal"),(0,A.AC)(".js-new-label-modal-form",async function(e,t){const n=e.querySelector(".js-new-label-error");let o;try{o=await t.html()}catch(y){const w=y.response.json;n.textContent=w.message,n.hidden=!1}if(!o)return;n.hidden=!0,document.querySelector(".js-new-label-modal").removeAttribute("open");const s=document.querySelector(".js-issue-labels-menu-content"),i=s.querySelector(".js-filterable-issue-labels"),a=o.html.querySelector("input");i.prepend(o.html),a&&a.dispatchEvent(new Event("change",{bubbles:!0}));const l=s.querySelector(".js-label-filter-field");l.value=l.defaultValue,l.focus()}),(0,c.on)("click",".js-edit-label-cancel",function(e){const t=e.target.closest("form");He(t),t.reset();const n=t.querySelector(".js-new-label-color-input"),o=n.value,s=t.querySelector(".js-new-label-color");nt(s,De().hex.rgb(o)),(0,Nt.Qc)(t),Ve(n);const i=e.currentTarget.closest(".js-labels-list-item");if(i){i.querySelector(".js-update-label").classList.add("d-none");const l=i.querySelector(".js-label-preview");l&&(l.classList.add("d-none"),i.querySelector(".js-label-link").classList.remove("d-none"));const y=i.querySelectorAll(".js-hide-on-label-edit");for(const w of y)w.hidden=!w.hidden}}),(0,A.AC)(".js-update-label",async function(e,t){let n;try{n=await t.html()}catch(s){const i=s.response.json;Rn(e,i);return}He(e),e.closest(".js-labels-list-item").replaceWith(n.html)}),(0,A.AC)(".js-create-label",async function(e,t){let n;try{n=await t.html()}catch(a){const l=a.response.json;Rn(e,l);return}e.reset(),He(e),document.querySelector(".js-label-list").prepend(n.html),$s(1),Bs(e,!1);const o=e.querySelector(".js-new-label-color"),s=Mn();qn(o,s),Ve(e.querySelector(".js-new-label-name-input")),(0,Nt.Qc)(e);const i=e.closest(".js-details-container");i instanceof HTMLElement&&(0,Xt.Qp)(i)}),(0,c.on)("click",".js-details-target-new-label",function(){document.querySelector(".js-create-label").querySelector(".js-new-label-name-input").focus()}),(0,c.on)("click",".js-edit-label",function(e){const t=e.currentTarget.closest(".js-labels-list-item"),n=t.querySelector(".js-update-label");n.classList.remove("d-none"),n.querySelector(".js-new-label-name-input").focus();const s=t.querySelector(".js-label-preview");s&&(s.classList.remove("d-none"),t.querySelector(".js-label-link").classList.add("d-none"));const i=t.querySelectorAll(".js-hide-on-label-edit");for(const a of i)a.hidden=!a.hidden}),(0,A.AC)(".js-delete-label",async function(e,t){const n=e.closest(".js-labels-list-item");n.querySelector(".js-label-delete-spinner").hidden=!1,await t.text();const o=$s(-1);Bs(e,o===0),n.remove()});const It=(0,P.D)(Ml,500);(0,c.on)("suggester:complete",".js-new-label-name-input",It),(0,j.q6)(".js-new-label-name-input",It),(0,j.q6)(".js-new-label-description-input",It),(0,j.q6)(".js-new-label-color-input",It),(0,j.w4)("keypress",".js-new-label-name-input",function(e){const t=e.target,n=parseInt(t.getAttribute("data-maxlength"));(0,Ee.rq)(t.value)>=n&&e.preventDefault()}),(0,c.on)("click",".js-issues-label-select-menu-item",function(e){!e.altKey&&!e.shiftKey||(e.preventDefault(),e.stopPropagation(),e.altKey&&(window.location.href=e.currentTarget.getAttribute("data-excluded-url")),e.shiftKey&&(window.location.href=e.currentTarget.getAttribute("data-included-url")))}),(0,j.w4)("keydown",".js-issues-label-select-menu-item",function(e){if(e.key!=="Enter"||!e.altKey&&!e.shiftKey)return;const t=e.currentTarget;e.preventDefault(),e.stopPropagation(),t instanceof HTMLAnchorElement&&(e.altKey&&(window.location.href=t.getAttribute("data-excluded-url")),e.shiftKey&&(window.location.href=t.getAttribute("data-included-url")))}),(0,c.on)("click",".js-open-label-creation-modal",async function(e){e.stopImmediatePropagation();const t=await(0,Te.W)({content:document.querySelector(".js-label-creation-template").content.cloneNode(!0),detailsClass:"js-new-label-modal"});Fs(t)},{capture:!0}),(0,c.on)("change",".js-thread-notification-setting",In),(0,c.on)("change",".js-custom-thread-notification-option",In),(0,c.on)("reset",".js-custom-thread-settings-form",In);function In(){const e=document.querySelector(".js-reveal-custom-thread-settings").checked,t=!document.querySelector(".js-custom-thread-notification-option:checked"),n=document.querySelector(".js-custom-thread-settings"),o=document.querySelector("[data-custom-option-required-text]"),s=e&&t?o.getAttribute("data-custom-option-required-text"):"";o.setCustomValidity(s),n.hidden=!e}r(In,"toggleEventSettings");var ql=Object.defineProperty,Rl=Object.getOwnPropertyDescriptor,Us=r((e,t,n,o)=>{for(var s=o>1?void 0:o?Rl(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&ql(t,n,s),s},"sidebar_widget_decorateClass");let Pn=r(class extends HTMLElement{get activeClass(){return this.getAttribute("active-class")||"collapsible-sidebar-widget-active"}get loadingClass(){return this.getAttribute("loading-class")||"collapsible-sidebar-widget-loading"}get url(){return this.getAttribute("url")||""}get isOpen(){return this.hasAttribute("open")}set isOpen(e){e?this.setAttribute("open",""):this.removeAttribute("open")}onKeyDown(e){if(e.code==="Enter"||e.code==="Space")return e.preventDefault(),this.load()}onMouseDown(e){return e.preventDefault(),this.load()}load(){return this.pendingRequest?this.pendingRequest.abort():this.collapsible.hasAttribute("loaded")?this.isOpen?this.setClose():this.setOpen():(this.setLoading(),this.updateCollapsible())}setLoading(){this.classList.add(this.loadingClass),this.classList.remove(this.activeClass)}setOpen(){this.classList.add(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!0}setClose(){this.classList.remove(this.activeClass),this.classList.remove(this.loadingClass),this.isOpen=!1}handleAbort(){this.pendingRequest=null,this.setClose()}async updateCollapsible(){var e;try{this.pendingRequest=new AbortController,this.pendingRequest.signal.addEventListener("abort",()=>this.handleAbort());const t=await fetch(this.url,{signal:(e=this.pendingRequest)==null?void 0:e.signal,headers:{Accept:"text/html","X-Requested-With":"XMLHttpRequest"}});if(this.pendingRequest=null,!t.ok)return this.setClose();const n=await t.text();this.collapsible.innerHTML=n,this.collapsible.setAttribute("loaded",""),this.setOpen()}catch{return this.pendingRequest=null,this.setClose()}}},"CollapsibleSidebarWidgetElement");Us([J.fA],Pn.prototype,"collapsible",2),Pn=Us([J.Ih],Pn);var Il=Object.defineProperty,Pl=Object.getOwnPropertyDescriptor,ve=r((e,t,n,o)=>{for(var s=o>1?void 0:o?Pl(t,n):t,i=e.length-1,a;i>=0;i--)(a=e[i])&&(s=(o?a(t,n,s):a(s))||s);return o&&s&&Il(t,n,s),s},"sidebar_memex_input_decorateClass");let ye=r(class extends HTMLElement{constructor(){super(...arguments);this.url="",this.csrf="",this.instrument="",this.column=1}get isDisabled(){var e;return(e=this.read)==null?void 0:e.hasAttribute("disabled")}set hasErrored(e){e?this.setAttribute("errored",""):this.removeAttribute("errored")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get hasExpanded(){return this.read.getAttribute("aria-expanded")==="true"}connectedCallback(){var e,t;this.disabled=(t=(e=this.read)==null?void 0:e.disabled)!=null?t:!0,this.querySelector("details")!==null&&this.classList.toggle("no-pointer")}handleDetailsSelect(e){var t;const n=e,o=e.target,s=(t=n.detail)==null?void 0:t.relatedTarget,i=o.closest("details"),a=i==null?void 0:i.querySelector("[data-menu-button]");if(s.getAttribute("aria-checked")==="true"){s.setAttribute("aria-checked","false"),e.preventDefault();for(const l of this.inputs)if(s.contains(l)){this.updateCell(l.name,""),(a==null?void 0:a.innerHTML)&&(a.innerHTML=l.placeholder);break}i==null||i.removeAttribute("open")}}handleDetailsSelected(e){var t;const o=(t=e.detail)==null?void 0:t.relatedTarget;for(const s of this.inputs)if(o.contains(s)){this.updateCell(s.name,s.value);break}}mouseDownFocus(e){!this.isDisabled||this.onFocus(e)}keyDownFocus(e){(e.code==="Enter"||e.code==="Space")&&this.read!==document.activeElement&&this.onFocus(e)}onChange(e){var t,n;e.target.getAttribute("type")!=="date"&&this.updateCell((t=this.read)==null?void 0:t.name,(n=this.read)==null?void 0:n.value)}onFocus(e){e.preventDefault(),this.disabled=!1,this.read.disabled=!1,this.read.focus()}onBlur(e){var t,n;if(this.hasExpanded){e.preventDefault();return}e.target.getAttribute("type")==="date"&&this.updateCell((t=this.read)==null?void 0:t.name,(n=this.read)==null?void 0:n.value),this.read.disabled=!0,this.disabled=!0}onKeyDown(e){if(e.code==="Enter"||e.code==="Tab"){if(e.preventDefault(),e.stopPropagation(),this.hasExpanded)return;this.read.blur()}}async updateCell(e="",t=""){const n=new FormData;n.set(e,t),n.set("ui",this.instrument);for(const s of this.parameters)n.set(s.name,s.value);const o=Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"});try{if(this.write){const T=this.read.value,N=this.read.type==="date"&&T?o.format(Date.parse(T)):T;this.write.textContent=T?N:this.read.placeholder}const s=await fetch(this.url,{method:"PUT",body:n,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest","Scoped-CSRF-Token":`${this.csrf}`}});if(!s.ok)throw new Error("connection error");if(!this.write)return;const l=(await s.json()).memexProjectItem.memexProjectColumnValues.find(T=>T.memexProjectColumnId===Number(this.column)).value,y=this.read.type==="date"?Date.parse(l.value):l.html,w=this.read.type==="date"&&y?o.format(y):y;this.write.innerHTML=t?w:this.read.placeholder}catch{this.hasErrored=!0}}},"SidebarMemexInputElement");ve([J.Lj],ye.prototype,"url",2),ve([J.Lj],ye.prototype,"csrf",2),ve([J.Lj],ye.prototype,"instrument",2),ve([J.Lj],ye.prototype,"column",2),ve([J.GO],ye.prototype,"inputs",2),ve([J.fA],ye.prototype,"read",2),ve([J.fA],ye.prototype,"write",2),ve([J.GO],ye.prototype,"parameters",2),ye=ve([J.Ih],ye);function ot(e,t=!1){(t||!Ol(e))&&(e instanceof HTMLFormElement?(0,L.Bt)(e):_t(e))}r(ot,"submitForm");function Ws(e){const t=e.currentTarget,n=t.closest(".js-issue-sidebar-form")||t.querySelector(".js-issue-sidebar-form");ot(n)}r(Ws,"submitOnMenuClose"),(0,c.on)("details-menu-selected",".js-discussion-sidebar-menu",function(e){const t=e.detail.relatedTarget,n=e.currentTarget,o=t.closest(".js-issue-sidebar-form"),s=n.hasAttribute("data-multiple");if(t.hasAttribute("data-clear-assignees")){const i=n.querySelectorAll('input[name="issue[user_assignee_ids][]"]:checked');for(const a of i)a.disabled=!1,a.checked=!1;ot(o)}else s?n.closest("details").addEventListener("toggle",Ws,{once:!0}):ot(o)},{capture:!0});function _l(e,t){e.replaceWith((0,_.r)(document,t))}r(_l,"updateSidebar");function zs(e){const t=document.querySelector(`[data-menu-trigger="${e}"]`);t==null||t.focus()}r(zs,"returnFocusToTrigger"),(0,A.AC)(".js-issue-sidebar-form",async function(e,t){var n;const o=await t.html(),s=e.closest(".js-discussion-sidebar-item"),i=(n=s==null?void 0:s.querySelector(".select-menu"))==null?void 0:n.getAttribute("id");s.replaceWith(o.html),i&&zs(i)}),(0,c.on)("click","div.js-issue-sidebar-form .js-suggested-reviewer",function(e){const t=e.currentTarget,n=t.closest(".js-issue-sidebar-form");_t(n,"post",{name:t.name,value:t.value}),e.preventDefault()}),(0,c.on)("click","div.js-issue-sidebar-form .js-issue-assign-self",function(e){var t;const n=e.currentTarget,o=n.closest(".js-issue-sidebar-form");_t(o,"post",{name:n.name,value:n.value}),n.remove(),(t=document.querySelector("form#new_issue .is-submit-button-value"))==null||t.remove(),e.preventDefault()}),(0,c.on)("click",".js-issue-unassign-self",function(e){const t=e.currentTarget.closest(".js-issue-sidebar-form");_t(t,"delete"),e.preventDefault()}),(0,A.AC)(".js-pages-preview-toggle-form",async function(e,t){const n=await t.json();e.querySelector("button.btn").textContent=n.json.new_button_value});function Dl(e,t){const n=e.getAttribute("data-cache-name");return`${t}:sidebar:${n}`}r(Dl,"getCacheKey");function Hl(e,t,n){const o=e.getAttribute("data-cache-name");if(!o)return;const s=[];for(const[a,l]of t.entries())a.indexOf(o)!==-1&&s.push([a,l]);const i=s.filter(a=>a[1]!=="");i.length>0?sessionStorage.setItem(n,JSON.stringify(i)):sessionStorage.removeItem(n)}r(Hl,"cacheValues");const Pt=new Set;function Ks(){Pt.clear()}r(Ks,"clearHasFired");async function Nl(e,t){const n=e.getAttribute("data-cache-name"),o=sessionStorage.getItem(t);if(!n||!o||Pt.has(n))return;Pt.add(n);const s=JSON.parse(o),i=[];for(const[a,l]of s){if(Object.prototype.toString.call(l)!=="[object String]")continue;const y=document.createElement("input");y.type="hidden",y.value=l,y.name=a,e.appendChild(y),i.push(y)}try{await Xs(e);for(const a of i)a.remove()}catch{Pt.delete(n)}}r(Nl,"restoreCachedValues");let Vs=!1;function _n(e,t){if(Vs)return;const n=Dn(e);Hl(e,n,t),Ks()}r(_n,"cacheValuesOnHide"),(0,u.N7)("[data-cacher]",{add(e){const t=Dl(e,(0,xe.e)());Nl(e,t),window.addEventListener("pagehide",()=>_n(e,t)),window.addEventListener("pjax:beforeReplace",()=>_n(e,t)),window.addEventListener("turbo:before-visit",()=>_n(e,t)),window.addEventListener("submit",n=>{n.defaultPrevented||(Vs=!0,setTimeout(()=>{for(const o of Object.keys(sessionStorage))o.indexOf(t)!==-1&&(sessionStorage.removeItem(o),Ks())},0))},{capture:!0})}});async function _t(e,t="post",n){var o;await Xs(e,t,n);const s=e.closest(".js-discussion-sidebar-item"),i=(o=s==null?void 0:s.querySelector(".select-menu"))==null?void 0:o.getAttribute("id");i&&zs(i)}r(_t,"previewSubmit");async function Xs(e,t="post",n){const o=Dn(e);n&&o.append(n.name,n.value);const s=e.getAttribute("data-url");if(!s)return;const i=e.querySelector(".js-data-url-csrf"),a=await fetch(s,{method:t,body:t==="delete"?"":o,mode:"same-origin",headers:{"Scoped-CSRF-Token":i.value,"X-Requested-With":"XMLHttpRequest"}});if(!a.ok)return;const l=await a.text();_l(e.closest(".js-discussion-sidebar-item"),l)}r(Xs,"requestPreview");function Ol(e){const t=e.getAttribute("data-reviewers-team-size-check-url");if(!t)return!1;const n=[...document.querySelectorAll(".js-reviewer-team")].map(l=>l.getAttribute("data-id")),o=e instanceof HTMLFormElement?new FormData(e):Dn(e),i=new URLSearchParams(o).getAll("reviewer_team_ids[]").filter(l=>!n.includes(l));if(i.length===0)return!1;const a=new URLSearchParams(i.map(l=>["reviewer_team_ids[]",l]));return Bl(e,`${t}?${a}`),!0}r(Ol,"reviewerTeamsCheckRequired");async function Bl(e,t){const n=await fetch(t);if(!n.ok)return;const o=await n.text();if(o.match(/[^\w-]js-large-team[^\w-]/))$l(e,o);else{ot(e,!0);return}}r(Bl,"triggerTeamReviewerCheck");function $l(e,t){const n=e.querySelector(".js-large-teams-check-warning-container");for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild((0,_.r)(document,t));const o=n.querySelector("details");function s(i){if(i.target instanceof Element){if(o.open=!1,!i.target.classList.contains("js-large-teams-confirm-button")){const a=e.querySelectorAll("input[name='reviewer_team_ids[]']");for(const l of a)n.querySelector(`.js-large-team[data-id='${l.value}']`)&&(l.checked=!1)}ot(e,!0),i.preventDefault()}}r(s,"dialogAction"),n.querySelector(".js-large-teams-confirm-button").addEventListener("click",s,{once:!0}),n.querySelector(".js-large-teams-cancel-button").addEventListener("click",s,{once:!0}),o.addEventListener("details-dialog-close",s,{once:!0}),o.open=!0}r($l,"showTeamReviewerConfirmationDialog"),(0,c.on)("click","div.js-project-column-menu-container .js-project-column-menu-item button",async function(e){const t=e.currentTarget;Fl(t);const n=t.getAttribute("data-url"),o=t.parentElement.querySelector(".js-data-url-csrf"),s=t.getAttribute("data-card-id"),i=new FormData;if(i.append("card_id",s),i.append("use_automation_prioritization","true"),e.preventDefault(),!(await fetch(n,{method:"PUT",mode:"same-origin",body:i,headers:{"Scoped-CSRF-Token":o.value,"X-Requested-With":"XMLHttpRequest"}})).ok)return;const l=document.activeElement,y=t.closest(".js-project-column-menu-dropdown");if(l&&y.contains(l))try{l.blur()}catch{}});function Fl(e){const n=e.closest(".js-project-column-menu-dropdown").querySelector(".js-project-column-menu-summary"),o=e.getAttribute("data-column-name");n.textContent=o}r(Fl,"updateProjectColumnMenuSummary"),(0,c.on)("click",".js-prompt-dismiss",function(e){e.currentTarget.closest(".js-prompt").remove()});function Dn(e){const t=e.closest("form");if(!t)return new FormData;const o=new FormData(t).entries(),s=new FormData;for(const[i,a]of o)t.contains(Ul(t,i,a.toString()))&&s.append(i,a);return s}r(Dn,"scopedFormData");function Ul(e,t,n){for(const o of e.elements)if((o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLButtonElement)&&o.name===t&&o.value===n)return o;return null}r(Ul,"findParam"),(0,c.on)("click",".js-convert-to-draft",function(e){const t=e.currentTarget.getAttribute("data-url"),n=e.currentTarget.parentElement.querySelector(".js-data-url-csrf");fetch(t,{method:"POST",mode:"same-origin",headers:{"Scoped-CSRF-Token":n.value,"X-Requested-With":"XMLHttpRequest"}})}),(0,c.on)("click","div.js-restore-item",async function(e){const t=e.currentTarget.getAttribute("data-url"),n=e.currentTarget.getAttribute("data-column"),o=e.currentTarget.querySelector(".js-data-url-csrf"),s=new FormData;if(s.set("memexProjectItemIds[]",n),!(await fetch(t,{method:"PUT",mode:"same-origin",body:s,headers:{"Scoped-CSRF-Token":o.value,"X-Requested-With":"XMLHttpRequest"}})).ok)throw new Error("connection error");Ws(e)})},22485:(F,D,f)=>{"use strict";f.d(D,{N:()=>A,x:()=>I});var S=f(7739);let c=null;(async function(){await S.x,C()})();function A(b){I(u(b))}r(A,"announceFromElement");function I(b){!c||(c.textContent="",c.textContent=b)}r(I,"announce");function C(){c=document.createElement("div"),c.setAttribute("aria-live","polite"),c.classList.add("sr-only"),document.body.append(c)}r(C,"createNoticeContainer");function u(b){return(b.getAttribute("aria-label")||b.innerText||"").trim()}r(u,"getTextContent")},51989:(F,D,f)=>{"use strict";f.d(D,{s:()=>p});var S=f(90420),c=f(12981);class A{constructor(g=50,v=30){this.elements=[],this.timer=null,this.callbacks=[],this.timeout=g,this.limit=v,this.index=0}push(g){const v=`item-${this.index++}`;return this.timer&&(window.clearTimeout(this.timer),this.timer=null),this.elements.length>=this.limit&&this.flush(),this.timer=window.setTimeout(()=>{this.timer=null,this.flush()},this.timeout),this.elements.push([g,v]),v}onFlush(g){this.callbacks.push(g)}async flush(){const g=this.elements.splice(0,this.limit);g.length!==0&&await Promise.all(this.callbacks.map(v=>v(g)))}}r(A,"AutoFlushingQueue");class I{constructor(g,v){this.url=g,this.callbacks=new Map,this.autoFlushingQueue=new A,this.autoFlushingQueue.onFlush(async L=>{this.load(L)}),this.validate=v}loadInBatch(g){const v=this.autoFlushingQueue.push(g);return new Promise(L=>this.callbacks.set(v,L))}async load(g){const v=new Map;for(const[E,k]of g)v.set(k,E);const L=new FormData;L.set("_method","GET");for(const[E,k]of v.entries())for(const x of k.inputs)L.append(`items[${E}][${x.name}]`,x.value);const _=await fetch(this.url,{method:"POST",body:L,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(_.ok){const E=await _.json();if(!E||typeof E!="object"||Array.isArray(E))throw new Error("Malformed batch response");for(const k in E){const x=this.callbacks.get(k);if(x){const j=E[k];this.validate(j),x(j)}}}}}r(I,"BatchLoader");var C=Object.defineProperty,u=Object.getOwnPropertyDescriptor,b=r((h,g,v,L)=>{for(var _=L>1?void 0:L?u(g,v):g,E=h.length-1,k;E>=0;E--)(k=h[E])&&(_=(L?k(g,v,_):k(_))||_);return L&&_&&C(g,v,_),_},"__decorateClass");class p extends HTMLElement{async connectedCallback(){const g=await this.batchLoader.loadInBatch(this);this.update(g)}get batchLoader(){const g=this.getAttribute("data-url");if(!g)throw new Error(`${this.tagName} element requires a data-url attribute`);let v=this.batchLoaders.get(g);return v||(v=new I(g,L=>this.validate(L)),this.batchLoaders.set(g,v)),v}}r(p,"BaseBatchDeferredContentElement");const m=new Map;let d=r(class extends p{constructor(){super(...arguments);this.batchLoaders=m}validate(h){if(typeof h!="string")throw new Error("Batch deferred content was not a string")}update(h){const g=(0,c.r)(document,h);this.replaceWith(g)}},"BatchDeferredContentElement");b([S.GO],d.prototype,"inputs",2),d=b([S.Ih],d)},41415:()=>{let F,D=!1;function f(){F=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",D)}r(f,"setClass"),document.addEventListener("mousedown",function(){D=!0,F===document.activeElement&&f()},{capture:!0}),document.addEventListener("keydown",function(){D=!1},{capture:!0}),document.addEventListener("focusin",f,{capture:!0})},90458:(F,D,f)=>{"use strict";f.d(D,{OD:()=>u,Qc:()=>b,nz:()=>C});var S=f(40764),c=f(45075);function A(p,m,d){const h=d.closest(".js-characters-remaining-container");if(!h)return;const g=h.querySelector(".js-characters-remaining"),v=String(g.getAttribute("data-suffix")),L=(0,S.rq)(p),_=m-L;_<=20?(g.textContent=`${_} ${v}`,g.classList.toggle("color-fg-danger",_<=5),g.hidden=!1):g.hidden=!0}r(A,"showRemainingCharacterCount");function I(p){return p.hasAttribute("data-maxlength")?parseInt(p.getAttribute("data-maxlength")||""):p.maxLength}r(I,"getFieldLimit");function C(p){const m=I(p),d=(0,S.rq)(p.value);return m-d<0}r(C,"hasExceededCharacterLimit");function u(p){const m=I(p);A(p.value,m,p)}r(u,"updateInputRemainingCharacters");function b(p){const m=p.querySelectorAll(".js-characters-remaining-container");for(const d of m){const h=d.querySelector(".js-characters-remaining-field");u(h)}}r(b,"resetCharactersRemainingCounts"),(0,c.ZG)(".js-characters-remaining-field",function(p){function m(){(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement)&&u(p)}r(m,"onInput"),m(),p.addEventListener("input",m),p.addEventListener("blur",()=>{p.removeEventListener("input",m)},{once:!0})})},2641:(F,D,f)=>{"use strict";f.d(D,{z:()=>v});var S=f(59753),c=f(12737),A=f(29719),I=f(6741),C=f(55741),u=f(64463),b=f(65935),p=f(78965);let m=[];(0,u.N7)(".js-comment-header-actions-deferred-include-fragment",{subscribe:E=>(0,I.RB)(E,"loadstart",()=>{const k=E.closest(".js-comment");g(k)},{capture:!1,once:!0})}),(0,u.N7)(".js-comment .contains-task-list",{add:E=>{const k=E.closest(".js-comment");g(k)}}),(0,S.on)("click",".js-comment-edit-button",function(E){const k=E.currentTarget.closest(".js-comment");k.classList.add("is-comment-editing");const x=h(k);x?x.addEventListener("include-fragment-replaced",()=>d(k),{once:!0}):d(k);const j=E.currentTarget.closest(".js-dropdown-details");j&&j.removeAttribute("open")});function d(E){E.querySelector(".js-write-tab").click();const k=E.querySelector(".js-comment-field");k.focus(),(0,S.f)(k,"change")}r(d,"focusEditForm");function h(E){return E.querySelector(".js-comment-edit-form-deferred-include-fragment")}r(h,"findEditFormDeferredIncludeFragment");function g(E){var k;(k=h(E))==null||k.setAttribute("loading","eager")}r(g,"loadEditFormDeferredIncludeFragment"),(0,S.on)("click",".js-comment-hide-button",function(E){const k=E.currentTarget.closest(".js-comment");_(k,!1);const x=k.querySelector(".js-minimize-comment");x&&x.classList.remove("d-none");const j=E.currentTarget.closest(".js-dropdown-details");j&&j.removeAttribute("open")}),(0,S.on)("click",".js-comment-hide-minimize-form",function(E){E.currentTarget.closest(".js-minimize-comment").classList.add("d-none")});function v(E){const k=E.currentTarget.closest("form"),x=E.currentTarget.getAttribute("data-confirm-text");if((0,C.T)(k)&&!confirm(x))return!1;for(const P of k.querySelectorAll("input, textarea")){const q=P;q.value=q.defaultValue,q.classList.contains("session-resumable-canceled")&&(q.classList.add("js-session-resumable"),q.classList.remove("session-resumable-canceled"))}const j=E.currentTarget.closest(".js-comment");return j&&j.classList.remove("is-comment-editing"),!0}r(v,"handleCommentCancelButtonClick"),(0,S.on)("click",".js-comment-cancel-button",v),(0,S.on)("click",".js-cancel-issue-edit",function(E){const k=E.currentTarget.closest(".js-details-container");k.querySelector(".js-comment-form-error").hidden=!0}),(0,b.AC)(".js-comment-delete, .js-comment .js-comment-update, .js-issue-update, .js-comment-minimize, .js-comment-unminimize",function(E,k,x){const j=E.closest(".js-comment");j.classList.add("is-comment-loading");const P=j.getAttribute("data-body-version");P&&x.headers.set("X-Body-Version",P)}),(0,b.AC)(".js-comment .js-comment-update",async function(E,k){let x;const j=E.closest(".js-comment"),P=j.querySelector(".js-comment-update-error"),q=j.querySelector(".js-comment-body-error");P instanceof HTMLElement&&(P.hidden=!0),q instanceof HTMLElement&&(q.hidden=!0),m=[];try{x=await k.json()}catch(U){if(U.response.status===422){const K=JSON.parse(U.response.text);if(K.errors){P instanceof HTMLElement&&(P.textContent=`There was an error posting your comment: ${K.errors.join(", ")}`,P.hidden=!1);return}}else throw U}if(!x)return;const W=x.json;W.errors&&W.errors.length>0&&(m=W.errors,L(q));const Z=j.querySelector(".js-comment-body");Z&&W.body&&(Z.innerHTML=W.body),j.setAttribute("data-body-version",W.newBodyVersion);const H=j.querySelector(".js-body-version");H instanceof HTMLInputElement&&(H.value=W.newBodyVersion);const O=j.querySelector(".js-discussion-poll");O&&W.poll&&(O.innerHTML=W.poll);for(const U of j.querySelectorAll("input, textarea")){const K=U;K.defaultValue=K.value}j.classList.remove("is-comment-stale","is-comment-editing");const V=j.querySelector(".js-comment-edit-history");if(V){const U=await(0,A.a)(document,W.editUrl);V.innerHTML="",V.append(U)}}),(0,u.N7)(".js-comment-body-error",{add:E=>{m&&m.length>0&&L(E)}});function L(E){const k=E.querySelector("ol");if(k){k.innerHTML="";const x=m.map(j=>{const P=document.createElement("li");return P.textContent=j,P});for(const j of x)k.appendChild(j)}E.hidden=!1}r(L,"showBodyErrors"),(0,b.AC)(".js-comment .js-comment-delete, .js-comment .js-comment-update, .js-comment-minimize, .js-comment-unminimize",async function(E,k){const x=E.closest(".js-comment");try{await k.text()}catch(j){if(j.response.status===422){let P;try{P=JSON.parse(j.response.text)}catch{}P&&P.stale&&x.classList.add("is-comment-stale")}else throw j}x.classList.remove("is-comment-loading")});function _(E,k){const x=E.querySelector(".js-comment-show-on-error");x&&(x.hidden=!k);const j=E.querySelector(".js-comment-hide-on-error");j&&(j.hidden=k)}r(_,"toggleMinimizeError"),(0,b.AC)(".js-timeline-comment-unminimize, .js-timeline-comment-minimize",async function(E,k){const x=E.closest(".js-minimize-container");try{const j=await k.html();x.replaceWith(j.html)}catch{_(x,!0)}}),(0,b.AC)(".js-discussion-comment-unminimize, .js-discussion-comment-minimize",async function(E,k){const x=E.closest(".js-discussion-comment"),j=x.querySelector(".js-discussion-comment-error");j&&(j.hidden=!0);try{const P=await k.html();x.replaceWith(P.html)}catch(P){if(P.response.status>=400&&P.response.status<500){if(P.response.html){const q=P.response.html.querySelector(".js-discussion-comment").getAttribute("data-error");j instanceof HTMLElement&&(j.textContent=q,j.hidden=!1)}}else throw P}}),(0,b.AC)(".js-comment-delete",async function(E,k){await k.json();let x=E.closest(".js-comment-delete-container");x||(x=E.closest(".js-comment-container")||E.closest(".js-line-comments"),x&&x.querySelectorAll(".js-comment").length!==1&&(x=E.closest(".js-comment")));const j=(x==null?void 0:x.closest(".js-comment-container"))||(x==null?void 0:x.closest(".js-line-comments"));if(x==null||x.remove(),j&&j.querySelectorAll(".js-comment").length===1)for(const P of j.querySelectorAll(".js-delete-on-last-reply-deleted"))P.remove()}),(0,b.AC)(".js-issue-update",async function(E,k){var x,j,P;const q=E.closest(".js-details-container"),W=q.querySelector(".js-comment-form-error");let Z;try{Z=await k.json()}catch(O){W.textContent=((P=(j=(x=O.response)==null?void 0:x.json)==null?void 0:j.errors)==null?void 0:P[0])||"Something went wrong. Please try again.",W.hidden=!1}if(!Z)return;q.classList.remove("open"),W.hidden=!0;const H=Z.json;if(H.issue_title!=null){q.querySelector(".js-issue-title").textContent=H.issue_title;const O=q.closest(".js-issues-results");if(O){if(O.querySelector(".js-merge-pr.is-merging")){const K=O.querySelector(".js-merge-pull-request textarea");K instanceof HTMLTextAreaElement&&K.value===K.defaultValue&&(K.value=K.defaultValue=H.issue_title)}else if(O.querySelector(".js-merge-pr.is-squashing")){const K=O.querySelector(".js-merge-pull-request .js-merge-title");K instanceof HTMLInputElement&&K.value===K.defaultValue&&(K.value=K.defaultValue=H.default_squash_commit_title)}const V=O.querySelector("button[value=merge]");V&&V.setAttribute("data-input-message-value",H.issue_title);const U=O.querySelector("button[value=squash]");U&&U.setAttribute("data-input-title-value",H.default_squash_commit_title)}}document.title=H.page_title;for(const O of E.elements)(O instanceof HTMLInputElement||O instanceof HTMLTextAreaElement)&&(O.defaultValue=O.value)}),(0,b.AC)(".js-comment-minimize",async function(E,k){await k.json();const x=E.closest(".js-comment"),j=x.querySelector(".js-minimize-comment");if(j&&j.classList.contains("js-update-minimized-content")){const P=E.querySelector("input[type=submit], button[type=submit]");P&&P.classList.add("disabled");const q=x.closest(".js-comment-container");q&&await(0,p.x0)(q)}else{j&&j.classList.add("d-none");const P=E.closest(".unminimized-comment");P.classList.add("d-none"),P.classList.remove("js-comment");const W=E.closest(".js-minimizable-comment-group").querySelector(".minimized-comment");W&&W.classList.remove("d-none"),W&&W.classList.add("js-comment")}}),(0,b.AC)(".js-comment-unminimize",async function(E,k){await k.json();const x=E.closest(".js-minimizable-comment-group"),j=x.querySelector(".unminimized-comment"),P=x.querySelector(".minimized-comment");if(j)j.classList.remove("d-none"),j.classList.add("js-comment"),P&&P.classList.add("d-none"),P&&P.classList.remove("js-comment");else{if(P){const W=P.querySelector(".timeline-comment-actions");W&&W.classList.add("d-none"),P.classList.remove("js-comment")}const q=x.closest(".js-comment-container");await(0,p.x0)(q)}}),(0,S.on)("details-menu-select",".js-comment-edit-history-menu",E=>{const k=E.detail.relatedTarget.getAttribute("data-edit-history-url");if(!k)return;E.preventDefault();const x=(0,A.a)(document,k);(0,c.W)({content:x,dialogClass:"Box-overlay--wide overflow-visible"})},{capture:!0})},87924:()=>{document.addEventListener("click",function(F){if(!(F.target instanceof Element))return;const D="a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]",f=F.target.closest(D);if(!f)return;const S=f.getAttribute("data-confirm");!S||f instanceof HTMLInputElement&&f.hasAttribute("data-confirm-checked")&&!f.checked||confirm(S)||(F.stopImmediatePropagation(),F.preventDefault())},!0)},33948:(F,D,f)=>{"use strict";f.d(D,{Z:()=>I});var S=f(7739);const c=[];let A=0;function I(m){(async function(){c.push(m),await S.x,C()})()}r(I,"hashChange"),I.clear=()=>{c.length=A=0};function C(){const m=A;A=c.length,u(c.slice(m),null,window.location.href)}r(C,"runRemainingHandlers");function u(m,d,h){const g=window.location.hash.slice(1),v=g?document.getElementById(g):null,L={oldURL:d,newURL:h,target:v};for(const _ of m)_.call(null,L)}r(u,"runHandlers");let b=window.location.href;window.addEventListener("popstate",function(){b=window.location.href}),window.addEventListener("hashchange",function(m){const d=window.location.href;try{u(c,m.oldURL||b,d)}finally{b=d}});let p=null;document.addEventListener("pjax:start",function(){p=window.location.href}),document.addEventListener("pjax:end",function(){u(c,p,window.location.href)})},52641:(F,D,f)=>{"use strict";f.d(D,{G:()=>p});var S=f(45075),c=f(64463),A=f(59753);const I=["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]","input[data-required-value]","textarea[data-required-value]"].join(",");function C(m){const d=m.getAttribute("data-required-value"),h=m.getAttribute("data-required-value-prefix");if(m.value===d)m.setCustomValidity("");else{let g=d;h&&(g=h+g),m.setCustomValidity(g)}}r(C,"checkValidityForRequiredValueField"),(0,S.q6)("[data-required-value]",function(m){const d=m.currentTarget;C(d)}),(0,A.on)("change","[data-required-value]",function(m){const d=m.currentTarget;C(d),p(d.form)}),(0,S.q6)("[data-required-trimmed]",function(m){const d=m.currentTarget;d.value.trim()===""?d.setCustomValidity(d.getAttribute("data-required-trimmed")):d.setCustomValidity("")}),(0,A.on)("change","[data-required-trimmed]",function(m){const d=m.currentTarget;d.value.trim()===""?d.setCustomValidity(d.getAttribute("data-required-trimmed")):d.setCustomValidity(""),p(d.form)}),(0,S.ZG)(I,m=>{let d=m.checkValidity();function h(){const g=m.checkValidity();g!==d&&m.form&&p(m.form),d=g}r(h,"inputHandler"),m.addEventListener("input",h),m.addEventListener("blur",r(function g(){m.removeEventListener("input",h),m.removeEventListener("blur",g)},"blurHandler"))});const u=new WeakMap;function b(m){u.get(m)||(m.addEventListener("change",()=>p(m)),u.set(m,!0))}r(b,"installHandlers");function p(m){const d=m.checkValidity();for(const h of m.querySelectorAll("button[data-disable-invalid]"))h.disabled=!d}r(p,"validate"),(0,c.N7)("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(m){const d=m.form;d&&(b(d),m.disabled=!d.checkValidity())}}),(0,c.N7)("input[data-required-change], textarea[data-required-change]",function(m){const d=m,h=d.type==="radio"&&d.form?d.form.elements.namedItem(d.name).value:null;function g(v){const L=d.form;if(v&&d.type==="radio"&&L&&h)for(const _ of L.elements.namedItem(d.name))_ instanceof HTMLInputElement&&_.setCustomValidity(d.value===h?"unchanged":"");else d.setCustomValidity(d.value===(h||d.defaultValue)?"unchanged":"")}r(g,"customValidity"),d.addEventListener("input",g),d.addEventListener("change",g),g(),d.form&&p(d.form)}),document.addEventListener("reset",function(m){if(m.target instanceof HTMLFormElement){const d=m.target;setTimeout(()=>p(d))}})},11724:()=>{document.addEventListener("pjax:click",function(F){if(window.onbeforeunload)return F.preventDefault()})},17300:(F,D,f)=>{"use strict";f.d(D,{k:()=>C});var S=f(6741),c=f(7739),A=f(64463),I=f(75371);(0,A.N7)(".js-responsive-underlinenav",{constructor:HTMLElement,subscribe:p=>(C(p),(0,S.RB)(window,"resize",()=>b(p)))});async function C(p){await c.C,b(p)}r(C,"asyncCalculateVisibility");function u(p,m){p.style.visibility=m?"hidden":"";const d=p.getAttribute("data-tab-item");if(d){const h=document.querySelector(`[data-menu-item=${d}]`);h instanceof HTMLElement&&(h.hidden=!m)}}r(u,"toggleItem");function b(p){const m=p.querySelectorAll(".js-responsive-underlinenav-item"),d=p.querySelector(".js-responsive-underlinenav-overflow"),h=(0,I.oE)(d,p);if(!h)return;let g=!1;for(const v of m){const L=(0,I.oE)(v,p);if(L){const _=L.left+v.offsetWidth>=h.left;u(v,_),g=g||_}}d.style.visibility=g?"":"hidden"}r(b,"calculateVisibility")},41928:()=>{function F(S){const c=document.querySelector(".js-stale-session-flash"),A=c.querySelector(".js-stale-session-flash-signed-in"),I=c.querySelector(".js-stale-session-flash-signed-out");c.hidden=!1,A.hidden=S==="false",I.hidden=S==="true",window.addEventListener("popstate",function(C){C.state&&C.state.container!=null&&location.reload()}),document.addEventListener("submit",function(C){C.preventDefault()})}r(F,"sessionChanged");let D;if(typeof BroadcastChannel=="function")try{D=new BroadcastChannel("stale-session"),D.onmessage=S=>{typeof S.data=="string"&&F(S.data)}}catch{}if(!D){let S=!1;D={postMessage(c){S=!0;try{window.localStorage.setItem("logged-in",c)}finally{S=!1}}},window.addEventListener("storage",function(c){if(!S&&c.storageArea===window.localStorage&&c.key==="logged-in")try{(c.newValue==="true"||c.newValue==="false")&&F(c.newValue)}finally{window.localStorage.removeItem(c.key)}})}const f=document.querySelector(".js-stale-session-flash[data-signedin]");if(f){const S=f.getAttribute("data-signedin")||"";D.postMessage(S)}},32222:(F,D,f)=>{"use strict";var S=f(11793),c=f(59753),A=f(64463);class I{constructor(u){this.container=u.container,this.selections=u.selections,this.inputWrap=u.inputWrap,this.input=u.input,this.tagTemplate=u.tagTemplate,this.form=this.input.form,this.autoComplete=u.autoComplete,this.multiTagInput=u.multiTagInput}setup(){this.container.addEventListener("click",u=>{u.target.closest(".js-remove")?this.removeTag(u):this.onFocus()}),this.input.addEventListener("focus",this.onFocus.bind(this)),this.input.addEventListener("blur",this.onBlur.bind(this)),this.input.addEventListener("keydown",this.onKeyDown.bind(this)),this.form.addEventListener("submit",this.onSubmit.bind(this)),this.autoComplete.addEventListener("auto-complete-change",()=>{this.selectTag(this.autoComplete.value)})}onFocus(){this.inputWrap.classList.add("focus"),this.input!==document.activeElement&&this.input.focus()}onBlur(){this.inputWrap.classList.remove("focus"),this.autoComplete.open||this.onSubmit()}onSubmit(){this.input.value&&(this.selectTag(this.input.value),this.autoComplete.open=!1)}onKeyDown(u){switch((0,S.EL)(u)){case"Backspace":this.onBackspace();break;case"Enter":case"Tab":this.taggifyValueWhenSuggesterHidden(u);break;case",":case" ":this.taggifyValue(u);break}}taggifyValueWhenSuggesterHidden(u){!this.autoComplete.open&&this.input.value&&(u.preventDefault(),this.selectTag(this.input.value))}taggifyValue(u){this.input.value&&(u.preventDefault(),this.selectTag(this.input.value),this.autoComplete.open=!1)}selectTag(u){const b=this.normalizeTag(u),p=this.selectedTags();let m=!1;for(let d=0;d<b.length;d++){const h=b[d];p.indexOf(h)<0&&(this.selections.appendChild(this.templateTag(h)),m=!0)}m&&(this.input.value="",(0,c.f)(this.form,"tags:changed"))}removeTag(u){const b=u.target;u.preventDefault(),b.closest(".js-tag-input-tag").remove(),(0,c.f)(this.form,"tags:changed")}templateTag(u){const b=this.tagTemplate.cloneNode(!0);return b.querySelector("input").value=u,b.querySelector(".js-placeholder-tag-name").replaceWith(u),b.classList.remove("d-none","js-template"),b}normalizeTag(u){const b=u.toLowerCase().trim();return b?this.multiTagInput?b.split(/[\s,']+/):[b.replace(/[\s,']+/g,"-")]:[]}onBackspace(){if(!this.input.value){const u=this.selections.querySelector("li:last-child .js-remove");u instanceof HTMLElement&&u.click()}}selectedTags(){const u=this.selections.querySelectorAll("input");return Array.from(u).map(b=>b.value).filter(b=>b.length>0)}}r(I,"TagInput"),(0,A.N7)(".js-tag-input-container",{constructor:HTMLElement,initialize(C){new I({container:C,inputWrap:C.querySelector(".js-tag-input-wrapper"),input:C.querySelector('input[type="text"], input:not([type])'),selections:C.querySelector(".js-tag-input-selected-tags"),tagTemplate:C.querySelector(".js-template"),autoComplete:C.querySelector("auto-complete"),multiTagInput:!1}).setup()}}),(0,A.N7)(".js-multi-tag-input-container",{constructor:HTMLElement,initialize(C){new I({container:C,inputWrap:C.querySelector(".js-tag-input-wrapper"),input:C.querySelector('input[type="text"], input:not([type])'),selections:C.querySelector(".js-tag-input-selected-tags"),tagTemplate:C.querySelector(".js-template"),autoComplete:C.querySelector("auto-complete"),multiTagInput:!0}).setup()}})},95128:()=>{function F(){const f=document.createElement("div");return f.style.cssText="-ms-user-select: element; user-select: contain;",f.style.getPropertyValue("-ms-user-select")==="element"||f.style.getPropertyValue("-ms-user-select")==="contain"||f.style.getPropertyValue("user-select")==="contain"}r(F,"supportsUserSelectContain");function D(f){if(!(f.target instanceof Element))return;const S=f.target.closest(".user-select-contain");if(!S)return;const c=window.getSelection();if(!c||!c.rangeCount||!c.rangeCount||c.type!=="Range")return;const A=c.getRangeAt(0).commonAncestorContainer;S.contains(A)||c.selectAllChildren(S)}r(D,"handleUserSelectContain"),F()||document.addEventListener("click",D)},29790:(F,D,f)=>{"use strict";f.d(D,{Dw:()=>C,G5:()=>S,M9:()=>b,n6:()=>I});function S(g){const v=g.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(v)if(v.length===1){const L=u(v[0]);return L?Object.freeze({start:L,end:L}):void 0}else if(v.length===2){const L=u(v[0]),_=u(v[1]);return!L||!_?void 0:d(Object.freeze({start:L,end:_}))}else return;else return}r(S,"parseBlobRange");function c(g){const{start:v,end:L}=d(g);return v.column!=null&&L.column!=null?`L${v.line}C${v.column}-L${L.line}C${L.column}`:v.line===L.line?`L${v.line}`:`L${v.line}-L${L.line}`}r(c,"formatBlobRange");function A(g){const v=g.match(/(file-.+?-)L\d+?/i);return v?v[1]:""}r(A,"parseAnchorPrefix");function I(g){const v=S(g),L=A(g);return{blobRange:v,anchorPrefix:L}}r(I,"parseFileAnchor");function C({anchorPrefix:g,blobRange:v}){return v?`#${g}${c(v)}`:"#"}r(C,"formatBlobRangeAnchor");function u(g){const v=g.match(/L(\d+)/),L=g.match(/C(\d+)/);return v?Object.freeze({line:parseInt(v[1]),column:L?parseInt(L[1]):null}):null}r(u,"parseBlobOffset");function b(g,v){const[L,_]=p(g.start,!0,v),[E,k]=p(g.end,!1,v);if(!L||!E)return;let x=_,j=k;if(x===-1&&(x=0),j===-1&&(j=E.childNodes.length),!L.ownerDocument)throw new Error("DOMRange needs to be inside document");const P=L.ownerDocument.createRange();return P.setStart(L,x),P.setEnd(E,j),P}r(b,"DOMRangeFromBlob");function p(g,v,L){const _=[null,0],E=L(g.line);if(!E)return _;if(g.column==null)return[E,-1];let k=g.column-1;const x=m(E);for(let j=0;j<x.length;j++){const P=x[j],q=k-(P.textContent||"").length;if(q===0){const W=x[j+1];return v&&W?[W,0]:[P,k]}else if(q<0)return[P,k];k=q}return _}r(p,"findRangeOffset");function m(g){if(g.nodeType===Node.TEXT_NODE)return[g];if(!g.childNodes||!g.childNodes.length)return[];let v=[];for(const L of g.childNodes)v=v.concat(m(L));return v}r(m,"getAllTextNodes");function d(g){const v=[g.start,g.end];return v.sort(h),v[0]===g.start&&v[1]===g.end?g:Object.freeze({start:v[0],end:v[1]})}r(d,"ascendingBlobRange");function h(g,v){return g.line===v.line&&g.column===v.column?0:g.line===v.line&&typeof g.column=="number"&&typeof v.column=="number"?g.column-v.column:g.line-v.line}r(h,"compareBlobOffsets")},35889:(F,D,f)=>{"use strict";f.d(D,{P:()=>A,g:()=>I});var S=f(59753);const c=new WeakMap;function A(b){return c.get(b)}r(A,"getCodeEditor");async function I(b){return c.get(b)||C(await u(b,"codeEditor:ready"))}r(I,"getAsyncCodeEditor");function C(b){if(!(b instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const p=b.detail.editor;if(!b.target)throw new Error("assert: event.target is null");return c.set(b.target,p),p}r(C,"onEditorFromEvent"),(0,S.on)("codeEditor:ready",".js-code-editor",C);function u(b,p){return new Promise(m=>{b.addEventListener(p,m,{once:!0})})}r(u,"nextEvent")},64926:(F,D,f)=>{"use strict";f.d(D,{$1:()=>c,d8:()=>I,ej:()=>S,kT:()=>C});function S(u){return c(u)[0]}r(S,"getCookie");function c(u){const b=[];for(const p of A()){const[m,d]=p.trim().split("=");u===m&&typeof d!="undefined"&&b.push({key:m,value:d})}return b}r(c,"getCookies");function A(){try{return document.cookie.split(";")}catch{return[]}}r(A,"readCookies");function I(u,b,p=null,m=!1,d="lax"){let h=document.domain;if(h==null)throw new Error("Unable to get document domain");h.endsWith(".github.com")&&(h="github.com");const g=location.protocol==="https:"?"; secure":"",v=p?`; expires=${p}`:"";m===!1&&(h=`.${h}`);try{document.cookie=`${u}=${b}; path=/; domain=${h}${v}${g}; samesite=${d}`}catch{}}r(I,"setCookie");function C(u,b=!1){let p=document.domain;if(p==null)throw new Error("Unable to get document domain");p.endsWith(".github.com")&&(p="github.com");const m=new Date().getTime(),d=new Date(m-1).toUTCString(),h=location.protocol==="https:"?"; secure":"",g=`; expires=${d}`;b===!1&&(p=`.${p}`);try{document.cookie=`${u}=''; path=/; domain=${p}${g}${h}`}catch{}}r(C,"deleteCookie")},75371:(F,D,f)=>{"use strict";f.d(D,{VZ:()=>c,_C:()=>A,cv:()=>S,oE:()=>I});function S(b){const p=b.getBoundingClientRect();return{top:p.top+window.pageYOffset,left:p.left+window.pageXOffset}}r(S,"offset");function c(b){let p=b;const m=p.ownerDocument;if(!m||!p.offsetParent)return;const d=m.defaultView.HTMLElement;if(p!==m.body){for(;p!==m.body;){if(p.parentElement instanceof d)p=p.parentElement;else return;const{position:h,overflowY:g,overflowX:v}=getComputedStyle(p);if(h==="fixed"||g==="auto"||v==="auto"||g==="scroll"||v==="scroll")break}return p instanceof Document?null:p}}r(c,"overflowParent");function A(b,p){let m=p;const d=b.ownerDocument;if(!d)return;const h=d.documentElement;if(!h||b===h)return;const g=I(b,m);if(!g)return;m=g._container;const v=m===d.documentElement&&d.defaultView?{top:d.defaultView.pageYOffset,left:d.defaultView.pageXOffset}:{top:m.scrollTop,left:m.scrollLeft},L=g.top-v.top,_=g.left-v.left,E=m.clientHeight,k=m.clientWidth,x=E-(L+b.offsetHeight),j=k-(_+b.offsetWidth);return{top:L,left:_,bottom:x,right:j,height:E,width:k}}r(A,"overflowOffset");function I(b,p){let m=b;const d=m.ownerDocument;if(!d)return;const h=d.documentElement;if(!h)return;const g=d.defaultView.HTMLElement;let v=0,L=0;const _=m.offsetHeight,E=m.offsetWidth;for(;!(m===d.body||m===p);)if(v+=m.offsetTop||0,L+=m.offsetLeft||0,m.offsetParent instanceof g)m=m.offsetParent;else return;let k,x,j;if(!p||p===d||p===d.defaultView||p===d.documentElement||p===d.body)j=h,k=C(d.body,h),x=u(d.body,h);else if(p instanceof g)j=p,k=p.scrollHeight,x=p.scrollWidth;else return;const P=k-(v+_),q=x-(L+E);return{top:v,left:L,bottom:P,right:q,_container:j}}r(I,"positionedOffset");function C(b,p){return Math.max(b.scrollHeight,p.scrollHeight,b.offsetHeight,p.offsetHeight,p.clientHeight)}r(C,"getDocumentHeight");function u(b,p){return Math.max(b.scrollWidth,p.scrollWidth,b.offsetWidth,p.offsetWidth,p.clientWidth)}r(u,"getDocumentWidth")},73185:(F,D,f)=>{"use strict";f.d(D,{Dc:()=>I,bP:()=>b,g:()=>u,gJ:()=>S,rs:()=>c});function S(){return Promise.resolve()}r(S,"microtask");function c(){return new Promise(window.requestAnimationFrame)}r(c,"animationFrame");async function A(p,m){let d;const h=new Promise((g,v)=>{d=self.setTimeout(()=>v(new Error("timeout")),p)});if(!m)return h;try{await Promise.race([h,C(m)])}catch(g){throw self.clearTimeout(d),g}}r(A,"timeout");async function I(p,m){let d;const h=new Promise(g=>{d=self.setTimeout(g,p)});if(!m)return h;try{await Promise.race([h,C(m)])}catch(g){throw self.clearTimeout(d),g}}r(I,"wait");function C(p){return new Promise((m,d)=>{const h=new Error("aborted");h.name="AbortError",p.aborted?d(h):p.addEventListener("abort",()=>d(h))})}r(C,"whenAborted");function u(p){const m=[];return function(d){m.push(d),m.length===1&&queueMicrotask(()=>{const h=[...m];m.length=0,p(h)})}}r(u,"taskQueue");async function b(p){requestAnimationFrame(()=>{setTimeout(p)})}r(b,"afterNextPaint")},98670:(F,D,f)=>{"use strict";f.d(D,{W:()=>c});function*S(A,I){for(const C of A){const u=I(C);u!=null&&(yield u)}}r(S,"filterMap");function c(A,I,C){return[...S(A,r(b=>{const p=I(b);return p!=null?[b,p]:null},"sortKey"))].sort((b,p)=>C(b[1],p[1])).map(([b])=>b)}r(c,"filterSort")},8089:(F,D,f)=>{"use strict";f.d(D,{EW:()=>S,Qw:()=>A,qu:()=>C});function S(u,b){let p=I(u,b);if(p&&b.indexOf("/")===-1){const m=u.substring(u.lastIndexOf("/")+1);p+=I(m,b)}return p}r(S,"fuzzyScore");function c(u){const b=u.toLowerCase().split("");let p="";for(let m=0;m<b.length;m++){const h=b[m].replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");m===0?p+=`(.*)(${h})`:p+=`([^${h}]*?)(${h})`}return new RegExp(`${p}(.*?)$`,"i")}r(c,"fuzzyRegexp");function A(u,b,p){if(b){const m=u.innerHTML.trim().match(p||c(b));if(!m)return;let d=!1;const h=[];for(let g=1;g<m.length;++g){const v=m[g];!v||(g%2===0?d||(h.push("<mark>"),d=!0):d&&(h.push("</mark>"),d=!1),h.push(v))}u.innerHTML=h.join("")}else{const m=u.innerHTML.trim(),d=m.replace(/<\/?mark>/g,"");m!==d&&(u.innerHTML=d)}}r(A,"fuzzyHighlightElement");function I(u,b){let p=u;if(p===b)return 1;const m=p.length;let d=0,h=0;for(let _=0;_<b.length;_++){const E=b[_],k=p.indexOf(E.toLowerCase()),x=p.indexOf(E.toUpperCase()),j=Math.min(k,x),P=j>-1?j:Math.max(k,x);if(P===-1)return 0;d+=.1,p[P]===E&&(d+=.1),P===0&&(d+=.8,_===0&&(h=1)),p.charAt(P-1)===" "&&(d+=.8),p=p.substring(P+1,m)}const g=b.length,v=d/g;let L=(v*(g/m)+v)/2;return h&&L+.1<1&&(L+=.1),L}r(I,"stringScore");function C(u,b){return u.score>b.score?-1:u.score<b.score?1:u.text<b.text?-1:u.text>b.text?1:0}r(C,"compare")},99254:(F,D,f)=>{"use strict";f.d(D,{Z:()=>m});var S=f(47142);const c=r((d,h,g)=>{if(!(0,S.CD)(d,h))return-1/0;const v=(0,S.Gs)(d,h);return v<g?-1/0:v},"getScore"),A=r((d,h,g)=>{d.innerHTML="";let v=0;for(const L of(0,S.m7)(h,g)){g.slice(v,L)!==""&&d.appendChild(document.createTextNode(g.slice(v,L))),v=L+1;const E=document.createElement("mark");E.textContent=g[L],d.appendChild(E)}d.appendChild(document.createTextNode(g.slice(v)))},"highlightElement"),I=new WeakMap,C=new WeakMap,u=new WeakMap,b=r(d=>{if(!u.has(d)&&d instanceof HTMLElement){const h=(d.getAttribute("data-value")||d.textContent||"").trim();return u.set(d,h),h}return u.get(d)||""},"getTextCache");class p extends HTMLElement{connectedCallback(){const h=this.querySelector("ul");if(!h)return;const g=new Set(h.querySelectorAll("li")),v=this.querySelector("input");v instanceof HTMLInputElement&&v.addEventListener("input",()=>{this.value=v.value});const L=new MutationObserver(E=>{let k=!1;for(const x of E)if(x.type==="childList"&&x.addedNodes.length){for(const j of x.addedNodes)if(j instanceof HTMLLIElement&&!g.has(j)){const P=b(j);k=k||(0,S.CD)(this.value,P),g.add(j)}}k&&this.sort()});L.observe(h,{childList:!0});const _={handler:L,items:g,lazyItems:new Map,timer:null};C.set(this,_)}disconnectedCallback(){const h=C.get(this);h&&(h.handler.disconnect(),C.delete(this))}addLazyItems(h,g){const v=C.get(this);if(!v)return;const{lazyItems:L}=v,{value:_}=this;let E=!1;for(const k of h)L.set(k,g),E=E||Boolean(_)&&(0,S.CD)(_,k);E&&this.sort()}sort(){const h=I.get(this);h&&(h.aborted=!0);const g={aborted:!1};I.set(this,g);const{minScore:v,markSelector:L,maxMatches:_,value:E}=this,k=C.get(this);if(!k||!this.dispatchEvent(new CustomEvent("fuzzy-list-will-sort",{cancelable:!0,detail:E})))return;const{items:x,lazyItems:j}=k,P=this.hasAttribute("mark-selector"),q=this.querySelector("ul");if(!q)return;const W=[];if(E){for(const Z of x){const H=b(Z),O=c(E,H,v);O!==-1/0&&W.push({item:Z,score:O})}for(const[Z,H]of j){const O=c(E,Z,v);O!==-1/0&&W.push({text:Z,render:H,score:O})}W.sort((Z,H)=>H.score-Z.score).splice(_)}else{let Z=W.length;for(const H of x){if(Z>=_)break;W.push({item:H,score:1}),Z+=1}for(const[H,O]of j){if(Z>=_)break;W.push({text:H,render:O,score:1}),Z+=1}}requestAnimationFrame(()=>{if(g.aborted)return;const Z=q.querySelector('input[type="radio"]:checked');q.innerHTML="";let H=0;const O=r(()=>{if(g.aborted)return;const V=Math.min(W.length,H+100),U=document.createDocumentFragment();for(let ne=H;ne<V;ne+=1){const re=W[ne];let ce=null;if("render"in re&&"text"in re){const{render:we,text:ue}=re;ce=we(ue),x.add(ce),u.set(ce,ue),j.delete(ue)}else"item"in re&&(ce=re.item);ce instanceof HTMLElement&&(P&&A(L&&ce.querySelector(L)||ce,P?E:"",b(ce)),U.appendChild(ce))}H=V;let K=!1;if(Z instanceof HTMLInputElement)for(const ne of U.querySelectorAll('input[type="radio"]:checked'))ne instanceof HTMLInputElement&&ne.value!==Z.value&&(ne.checked=!1,K=!0);if(q.appendChild(U),Z&&K&&Z.dispatchEvent(new Event("change",{bubbles:!0})),V<W.length)requestAnimationFrame(O);else{q.hidden=W.length===0;const ne=this.querySelector("[data-fuzzy-list-show-on-empty]");ne&&(ne.hidden=W.length>0),this.dispatchEvent(new CustomEvent("fuzzy-list-sorted",{detail:W.length}))}},"nextBatch");O()})}get value(){return this.getAttribute("value")||""}set value(h){this.setAttribute("value",h)}get markSelector(){return this.getAttribute("mark-selector")||""}set markSelector(h){h?this.setAttribute("mark-selector",h):this.removeAttribute("mark-selector")}get minScore(){return Number(this.getAttribute("min-score")||0)}set minScore(h){Number.isNaN(h)||this.setAttribute("min-score",String(h))}get maxMatches(){return Number(this.getAttribute("max-matches")||1/0)}set maxMatches(h){Number.isNaN(h)||this.setAttribute("max-matches",String(h))}static get observedAttributes(){return["value","mark-selector","min-score","max-matches"]}attributeChangedCallback(h,g,v){if(g===v)return;const L=C.get(this);!L||(L.timer&&window.clearTimeout(L.timer),L.timer=window.setTimeout(()=>this.sort(),100))}}r(p,"FuzzyListElement");const m=p;window.customElements.get("fuzzy-list")||(window.FuzzyListElement=p,window.customElements.define("fuzzy-list",p))},30481:(F,D,f)=>{"use strict";f.d(D,{Y:()=>b,q:()=>p});var S=f(88149),c=f(86058);const A="dimension_";let I;const C=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{const m=(0,S.n)("octolytics");delete m.baseContext,I=new c.R(m)}catch{}function u(m){const d=(0,S.n)("octolytics").baseContext||{};if(d){delete d.app_id,delete d.event_url,delete d.host;for(const v in d)v.startsWith(A)&&(d[v.replace(A,"")]=d[v],delete d[v])}const h=document.querySelector("meta[name=visitor-payload]");if(h){const v=JSON.parse(atob(h.content));Object.assign(d,v)}const g=new URLSearchParams(window.location.search);for(const[v,L]of g)C.includes(v.toLowerCase())&&(d[v]=L);return Object.assign(d,m)}r(u,"extendBaseContext");function b(m){I==null||I.sendPageView(u(m))}r(b,"sendPageView");function p(m,d){var h,g;const v=(g=(h=document.head)==null?void 0:h.querySelector('meta[name="current-catalog-service"]'))==null?void 0:g.content,L=v?{service:v}:{};for(const[_,E]of Object.entries(d))E!=null&&(L[_]=`${E}`);I==null||I.sendEvent(m||"unknown",u(L))}r(p,"sendEvent")},53692:(F,D,f)=>{"use strict";f.d(D,{$S:()=>c,Fk:()=>A,sz:()=>I});var S=f(45922);function c(C,u,b){const p={hydroEventPayload:C,hydroEventHmac:u,visitorPayload:"",visitorHmac:"",hydroClientContext:b},m=document.querySelector("meta[name=visitor-payload]");m instanceof HTMLMetaElement&&(p.visitorPayload=m.content);const d=document.querySelector("meta[name=visitor-hmac]")||"";d instanceof HTMLMetaElement&&(p.visitorHmac=d.content),(0,S.b)(p,!0)}r(c,"sendData");function A(C){const u=C.getAttribute("data-hydro-view")||"",b=C.getAttribute("data-hydro-view-hmac")||"",p=C.getAttribute("data-hydro-client-context")||"";c(u,b,p)}r(A,"trackView");function I(C){const u=C.getAttribute("data-hydro-click-payload")||"",b=C.getAttribute("data-hydro-click-hmac")||"",p=C.getAttribute("data-hydro-client-context")||"";c(u,b,p)}r(I,"sendHydroEvent")},51244:(F,D,f)=>{"use strict";f.d(D,{vt:()=>k,WF:()=>E,DV:()=>_,jW:()=>q,Nc:()=>h,$t:()=>A});const S={frequency:.6,recency:.4};function c(H,O){return H.sort((V,U)=>O(V)-O(U))}r(c,"sortBy");function A(H){const O=C(H),V=u(H);return function(U){return I(O.get(U)||0,V.get(U)||0)}}r(A,"scorer");function I(H,O){return H*S.frequency+O*S.recency}r(I,"score");function C(H){const O=[...Object.values(H)].reduce((V,U)=>V+U.visitCount,0);return new Map(Object.keys(H).map(V=>[V,H[V].visitCount/O]))}r(C,"frequencyMap");function u(H){const O=c([...Object.keys(H)],U=>H[U].lastVisitedAt),V=O.length;return new Map(O.map((U,K)=>[U,(K+1)/V]))}r(u,"recencyMap");const b=/^\/orgs\/([a-z0-9-]+)\/teams\/([\w-]+)/,p=[/^\/([^/]+)\/([^/]+)\/?$/,/^\/([^/]+)\/([^/]+)\/blob/,/^\/([^/]+)\/([^/]+)\/tree/,/^\/([^/]+)\/([^/]+)\/issues/,/^\/([^/]+)\/([^/]+)\/pulls?/,/^\/([^/]+)\/([^/]+)\/pulse/],m=[["organization",/^\/orgs\/([a-z0-9-]+)\/projects\/([0-9-]+)/],["repository",/^\/([^/]+)\/([^/]+)\/projects\/([0-9-]+)/]],d=100;function h(H){const O=H.match(b);if(O){v(_(O[1],O[2]));return}let V;for(let K=0,ne=m.length;K<ne;K++){const[re,ce]=m[K];if(V=H.match(ce),V){let we=null,ue=null;switch(re){case"organization":we=V[1],ue=V[2];break;case"repository":we=`${V[1]}/${V[2]}`,ue=V[3];break;default:}we&&ue&&v(k(we,ue));return}}let U;for(let K=0,ne=p.length;K<ne;K++)if(U=H.match(p[K]),U){v(E(U[1],U[2]));return}}r(h,"logPageView");function g(H){const O=Object.keys(H);if(O.length<=d)return H;const V=A(H),U=O.sort((K,ne)=>V(ne)-V(K)).slice(0,d/2);return Object.fromEntries(U.map(K=>[K,H[K]]))}r(g,"limitedPageViews");function v(H){const O=q(),V=L(),U=O[H]||{lastVisitedAt:V,visitCount:0};U.visitCount+=1,U.lastVisitedAt=V,O[H]=U,P(g(O))}r(v,"logPageViewByKey");function L(){return Math.floor(Date.now()/1e3)}r(L,"currentEpochTimeInSeconds");function _(H,O){return`team:${H}/${O}`}r(_,"buildTeamKey");function E(H,O){return`repository:${H}/${O}`}r(E,"buildRepositoryKey");function k(H,O){return`project:${H}/${O}`}r(k,"buildProjectKey");const x=/^(team|repository|project):[^/]+\/[^/]+(\/([^/]+))?$/,j="jump_to:page_views";function P(H){W(j,JSON.stringify(H))}r(P,"setPageViewsMap");function q(){const H=Z(j);if(!H)return{};let O;try{O=JSON.parse(H)}catch{return P({}),{}}const V={};for(const U in O)U.match(x)&&(V[U]=O[U]);return V}r(q,"getPageViewsMap");function W(H,O){try{window.localStorage.setItem(H,O)}catch{}}r(W,"setItem");function Z(H){try{return window.localStorage.getItem(H)}catch{return null}}r(Z,"getItem")},32904:(F,D,f)=>{"use strict";f.d(D,{a:()=>S});function S(C,u){const b=C.closest("[data-notification-id]");u.hasAttribute("data-status")&&c(b,u.getAttribute("data-status")),u.hasAttribute("data-subscription-status")&&A(b,u.getAttribute("data-subscription-status")),u.hasAttribute("data-starred-status")&&I(b,u.getAttribute("data-starred-status"))}r(S,"updateNotificationStates");function c(C,u){C.classList.toggle("notification-archived",u==="archived"),C.classList.toggle("notification-unread",u==="unread"),C.classList.toggle("notification-read",u==="read")}r(c,"toggleNotificationStatus");function A(C,u){C.classList.toggle("notification-unsubscribed",u==="unsubscribed")}r(A,"toggleNotificationSubscriptionStatus");function I(C,u){C.classList.toggle("notification-starred",u==="starred")}r(I,"toggleNotificationStarredStatus")},19218:(F,D,f)=>{"use strict";f.d(D,{v:()=>S});function S(c,A){A.appendChild(c.extractContents()),c.insertNode(A)}r(S,"surroundContents")},25331:(F,D,f)=>{"use strict";f.d(D,{e:()=>S});function S(c){const A=c||window.location,I=document.head&&document.head.querySelector("meta[name=session-resume-id]");return I instanceof HTMLMetaElement&&I.content||A.pathname}r(S,"getPageID")},82841:(F,D,f)=>{"use strict";f.d(D,{Z:()=>d});var S=f(12737),c=f(29719),A=f(65935),I=f(5642);let C=!1;function u(h){const g=new URL(h,window.location.origin),v=new URLSearchParams(g.search.slice(1));return v.set("webauthn-support",(0,I.T)()),g.search=v.toString(),g.toString()}r(u,"urlWithParams");async function b(){const h=document.querySelector("link[rel=sudo-modal]"),g=document.querySelector(".js-sudo-prompt");if(g instanceof HTMLTemplateElement)return g;if(h){const v=await(0,c.a)(document,u(h.href));return document.body.appendChild(v),document.querySelector(".js-sudo-prompt")}else throw new Error("couldn't load sudo prompt")}r(b,"loadPromptTemplate");let p=!1;async function m(){if(C)return!1;C=!0,p=!1;const g=(await b()).content.cloneNode(!0),v=await(0,S.W)({content:g});return await new Promise(L=>{v.addEventListener("dialog:remove",function(){C=!1,L()},{once:!0})}),p}r(m,"sudoPrompt"),(0,A.AC)(".js-sudo-form",async function(h,g){try{await g.text()}catch(v){if(!v.response)throw v;let L;switch(v.response.status){case 401:L="Incorrect password.";break;case 429:L="Too many password attempts. Please wait and try again later.";break;default:L="Failed to receive a response. Please try again later."}h.querySelector(".js-sudo-error").textContent=L,h.querySelector(".js-sudo-error").hidden=!1,h.querySelector(".js-sudo-password").value="";return}p=!0,h.closest("details").removeAttribute("open")});async function d(){const h=await fetch("/sessions/in_sudo",{headers:{accept:"application/json","X-Requested-With":"XMLHttpRequest"}});return h.ok&&await h.text()==="true"?!0:m()}r(d,"triggerSudoPrompt")},40764:(F,D,f)=>{"use strict";f.d(D,{Om:()=>I,lp:()=>c,rq:()=>S,t4:()=>A,yb:()=>u});function S(b){const p="\u200D",m=b.split(p);let d=0;for(const h of m)d+=Array.from(h.split(/[\ufe00-\ufe0f]/).join("")).length;return d/m.length}r(S,"getUtf8StringLength");function c(b,p,m){let d=b.value.substring(0,b.selectionEnd||0),h=b.value.substring(b.selectionEnd||0);return d=d.replace(p,m),h=h.replace(p,m),C(b,d+h,d.length),m}r(c,"replaceText");function A(b,p,m){if(b.selectionStart===null||b.selectionEnd===null)return c(b,p,m);const d=b.value.substring(0,b.selectionStart),h=b.value.substring(b.selectionEnd);return C(b,d+m+h,d.length),m}r(A,"replaceSelection");function I(b,p,m={}){const d=b.selectionEnd||0,h=b.value.substring(0,d),g=b.value.substring(d),v=b.value===""||h.match(/\n$/)?"":`
`,L=m.appendNewline?`
`:"",_=v+p+L;b.value=h+_+g;const E=d+_.length;return b.selectionStart=E,b.selectionEnd=E,b.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),b.focus(),_}r(I,"insertText");function C(b,p,m){b.value=p,b.selectionStart=m,b.selectionEnd=m,b.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}r(C,"setTextareaValueAndCursor");function u(b,p){const m=[...b],d=new TextEncoder,h=new Uint8Array(4);for(let g=0;g<m.length;g++){const v=m[g],{written:L,read:_}=d.encodeInto(v,h);if(!L||!_)return-1;const E=L-_;if(E!==0&&(g<p&&(p-=E),g>=p))break}return p}r(u,"GetCharIndexFromBytePosition")},66899:(F,D,f)=>{"use strict";f.d(D,{dY:()=>p,iU:()=>b,oq:()=>u});const S=new WeakMap;function c(m){const d=S.get(m);!d||(d.timer!=null&&clearTimeout(d.timer),d.timer=window.setTimeout(()=>{d.timer!=null&&(d.timer=null),d.inputed=!1,d.listener.call(null,m)},d.wait))}r(c,"schedule");function A(m){const d=m.currentTarget,h=S.get(d);!h||(h.keypressed=!0,h.timer!=null&&clearTimeout(h.timer))}r(A,"onKeydownInput");function I(m){const d=m.currentTarget,h=S.get(d);!h||(h.keypressed=!1,h.inputed&&c(d))}r(I,"onKeyupInput");function C(m){const d=m.currentTarget,h=S.get(d);!h||(h.inputed=!0,h.keypressed||c(d))}r(C,"onInputInput");function u(m,d,h={wait:null}){S.set(m,{keypressed:!1,inputed:!1,timer:void 0,listener:d,wait:h.wait!=null?h.wait:100}),m.addEventListener("keydown",A),m.addEventListener("keyup",I),m.addEventListener("input",C)}r(u,"addThrottledInputEventListener");function b(m,d){m.removeEventListener("keydown",A),m.removeEventListener("keyup",I),m.removeEventListener("input",C);const h=S.get(m);h&&(h.timer!=null&&h.listener===d&&clearTimeout(h.timer),S.delete(m))}r(b,"removeThrottledInputEventListener");function p(m){const d=S.get(m);d&&d.listener.call(null,m)}r(p,"dispatchThrottledInputEvent")},5878:(F,D,f)=>{"use strict";f.d(D,{Z:()=>c});function S(A){return A.offsetWidth<=0&&A.offsetHeight<=0}r(S,"hidden");function c(A){return!S(A)}r(c,"visible")},5642:(F,D,f)=>{"use strict";f.d(D,{T:()=>c,k:()=>A});var S=f(70112);function c(){return(0,S.Zh)()?"supported":"unsupported"}r(c,"webauthnSupportLevel");async function A(){var I;return await((I=window.PublicKeyCredential)==null?void 0:I.isUserVerifyingPlatformAuthenticatorAvailable())?"supported":"unsupported"}r(A,"iuvpaaSupportLevel")}},F=>{var D=r(S=>F(F.s=S),"__webpack_exec__");F.O(0,["vendors-node_modules_selector-observer_dist_index_esm_js","vendors-node_modules_lit-html_lit-html_js","vendors-node_modules_delegated-events_dist_index_js-node_modules_github_details-dialog-elemen-63debe","vendors-node_modules_github_remote-form_dist_index_js-node_modules_github_catalyst_lib_index_-87b1b3","vendors-node_modules_github_mini-throttle_dist_index_js-node_modules_github_hotkey_dist_index-9f48bd","vendors-node_modules_github_filter-input-element_dist_index_js-node_modules_github_remote-inp-c7e9ed","vendors-node_modules_github_paste-markdown_dist_index_esm_js-node_modules_github_quote-select-0221c5","app_assets_modules_github_behaviors_pjax_ts","app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_be-af52ef","app_assets_modules_github_behaviors_details_ts-app_assets_modules_github_behaviors_include-fr-019af8"],()=>D(98469));var f=F.O()}]);})();

//# sourceMappingURL=behaviors-925b7cacf522.js.map